{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/components/app/app.component.html","./src/app/components/color-palette/color-numeric-values/color-numeric-values.component.html","./src/app/components/color-palette/color-palette.component.html","./src/app/components/color-palette/color-picker/color-picker.component.html","./src/app/components/color-palette/color-queue/color-queue.component.html","./src/app/components/modal-windows/drawing-modal-window/drawing-modal-window.component.html","./src/app/components/modal-windows/export-file-modal-window/export-file-modal-window.component.html","./src/app/components/modal-windows/open-file-modal-window/open-file-modal-window.component.html","./src/app/components/modal-windows/save-file-modal-window/save-file-modal-window.component.html","./src/app/components/modal-windows/welcome-modal-window/welcome-modal-window.component.html","./src/app/components/sidebar-tools/attribute-panel/attribute-panel.component.html","./src/app/components/sidebar-tools/attribute-panel/brush-attributes/brush-attributes.component.html","./src/app/components/sidebar-tools/attribute-panel/color-applicator-attributes/color-applicator-attributes.component.html","./src/app/components/sidebar-tools/attribute-panel/color-attributes/color-attributes.component.html","./src/app/components/sidebar-tools/attribute-panel/dropper-attributes/dropper-attributes.component.html","./src/app/components/sidebar-tools/attribute-panel/ellipsis-attributes/ellipsis-attributes.component.html","./src/app/components/sidebar-tools/attribute-panel/eraser-attributes/eraser-attributes.component.html","./src/app/components/sidebar-tools/attribute-panel/fill-attributes/fill-attributes.component.html","./src/app/components/sidebar-tools/attribute-panel/grid-attributes/grid-attributes.component.html","./src/app/components/sidebar-tools/attribute-panel/line-attributes/line-attributes.component.html","./src/app/components/sidebar-tools/attribute-panel/magnetism-attributes/magnetism-attributes.component.html","./src/app/components/sidebar-tools/attribute-panel/pen-attributes/pen-attributes.component.html","./src/app/components/sidebar-tools/attribute-panel/pencil-attributes/pencil-attributes.component.html","./src/app/components/sidebar-tools/attribute-panel/polygon-attributes/polygon-attributes.component.html","./src/app/components/sidebar-tools/attribute-panel/quill-attributes/quill-attributes.component.html","./src/app/components/sidebar-tools/attribute-panel/rectangle-attributes/rectangle-attributes.component.html","./src/app/components/sidebar-tools/attribute-panel/selection-attributes/selection-attributes.component.html","./src/app/components/sidebar-tools/attribute-panel/spray-can-attributes/spray-can-attributes.component.html","./src/app/components/sidebar-tools/attribute-panel/stamp-attributes/stamp-attributes.component.html","./src/app/components/sidebar-tools/attribute-panel/text-attributes/text-attributes.component.html","./src/app/components/sidebar-tools/sidebar-tools.component.html","./src/app/components/work-zone/work-zone.component.html","./src/app/app.module.ts","./src/app/components/app/app.component.scss","./src/app/components/app/app.component.ts","./src/app/components/color-palette/color-numeric-values/color-numeric-values.component.scss","./src/app/components/color-palette/color-numeric-values/color-numeric-values.component.ts","./src/app/components/color-palette/color-palette.component.scss","./src/app/components/color-palette/color-palette.component.ts","./src/app/components/color-palette/color-picker/color-picker.component.scss","./src/app/components/color-palette/color-picker/color-picker.component.ts","./src/app/components/color-palette/color-queue/color-queue.component.scss","./src/app/components/color-palette/color-queue/color-queue.component.ts","./src/app/components/modal-windows/drawing-modal-window/drawing-modal-window.component.scss","./src/app/components/modal-windows/drawing-modal-window/drawing-modal-window.component.ts","./src/app/components/modal-windows/export-file-modal-window/export-file-modal-window.component.scss","./src/app/components/modal-windows/export-file-modal-window/export-file-modal-window.component.ts","./src/app/components/modal-windows/open-file-modal-window/open-file-modal-window.component.scss","./src/app/components/modal-windows/open-file-modal-window/open-file-modal-window.component.ts","./src/app/components/modal-windows/save-file-modal-window/save-file-modal-window.component.scss","./src/app/components/modal-windows/save-file-modal-window/save-file-modal-window.component.ts","./src/app/components/modal-windows/welcome-modal-window/welcome-modal-window.component.scss","./src/app/components/modal-windows/welcome-modal-window/welcome-modal-window.component.ts","./src/app/components/sidebar-tools/attribute-panel/attribute-panel.component.scss","./src/app/components/sidebar-tools/attribute-panel/attribute-panel.component.ts","./src/app/components/sidebar-tools/attribute-panel/brush-attributes/brush-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/brush-attributes/brush-attributes.component.ts","./src/app/components/sidebar-tools/attribute-panel/color-applicator-attributes/color-applicator-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/color-applicator-attributes/color-applicator-attributes.component.ts","./src/app/components/sidebar-tools/attribute-panel/color-attributes/color-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/color-attributes/color-attributes.component.ts","./src/app/components/sidebar-tools/attribute-panel/dropper-attributes/dropper-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/dropper-attributes/dropper-attributes.component.ts","./src/app/components/sidebar-tools/attribute-panel/ellipsis-attributes/ellipsis-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/ellipsis-attributes/ellipsis-attributes.component.ts","./src/app/components/sidebar-tools/attribute-panel/eraser-attributes/eraser-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/eraser-attributes/eraser-attributes.component.ts","./src/app/components/sidebar-tools/attribute-panel/fill-attributes/fill-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/fill-attributes/fill-attributes.component.ts","./src/app/components/sidebar-tools/attribute-panel/grid-attributes/grid-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/grid-attributes/grid-attributes.component.ts","./src/app/components/sidebar-tools/attribute-panel/line-attributes/line-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/line-attributes/line-attributes.component.ts","./src/app/components/sidebar-tools/attribute-panel/magnetism-attributes/magnetism-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/magnetism-attributes/magnetism-attributes.component.ts","./src/app/components/sidebar-tools/attribute-panel/pen-attributes/pen-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/pen-attributes/pen-attributes.component.ts","./src/app/components/sidebar-tools/attribute-panel/pencil-attributes/pencil-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/pencil-attributes/pencil-attributes.component.ts","./src/app/components/sidebar-tools/attribute-panel/polygon-attributes/polygon-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/polygon-attributes/polygon-attributes.component.ts","./src/app/components/sidebar-tools/attribute-panel/quill-attributes/quill-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/quill-attributes/quill-attributes.component.ts","./src/app/components/sidebar-tools/attribute-panel/rectangle-attributes/rectangle-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/rectangle-attributes/rectangle-attributes.component.ts","./src/app/components/sidebar-tools/attribute-panel/selection-attributes/selection-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/selection-attributes/selection-attributes.component.ts","./src/app/components/sidebar-tools/attribute-panel/spray-can-attributes/spray-can-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/spray-can-attributes/spray-can-attributes.component.ts","./src/app/components/sidebar-tools/attribute-panel/stamp-attributes/stamp-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/stamp-attributes/stamp-attributes.component.ts","./src/app/components/sidebar-tools/attribute-panel/text-attributes/text-attributes.component.scss","./src/app/components/sidebar-tools/attribute-panel/text-attributes/text-attributes.component.ts","./src/app/components/sidebar-tools/sidebar-tools.component.scss","./src/app/components/sidebar-tools/sidebar-tools.component.ts","./src/app/components/work-zone/work-zone.component.scss","./src/app/components/work-zone/work-zone.component.ts","./src/app/services/clipboard/clipboard.service.ts","./src/app/services/draw-stack/draw-stack.service.ts","./src/app/services/drawing-modal-window/drawing-modal-window.service.ts","./src/app/services/event-listener/event-listener.service.ts","./src/app/services/manipulator/manipulator.service.ts","./src/app/services/modal-manager/modal-manager.service.ts","./src/app/services/server/drawing-loader/drawing-loader.service.ts","./src/app/services/server/drawing-saver/drawing-saver.service.ts","./src/app/services/server/file-manager/file-manager.service.ts","./src/app/services/shortcut-manager/shortcut-manager.service.ts","./src/app/services/tools/abstract-tools/abstract-shape-tool/abstract-shape-tool.service.ts","./src/app/services/tools/abstract-tools/abstract-tool.service.ts","./src/app/services/tools/abstract-tools/tracing-tool/tracing-tool.service.ts","./src/app/services/tools/attributes-manager/attributes-manager.service.ts","./src/app/services/tools/brush-tool/brush-tool.service.ts","./src/app/services/tools/color-applicator-tool/color-applicator-tool.service.ts","./src/app/services/tools/color-tool/color-tool.service.ts","./src/app/services/tools/dropper-tool/dropper-tool.service.ts","./src/app/services/tools/ellipsis-tool/ellipsis-tool.service.ts","./src/app/services/tools/eraser-tool/eraser-tool.service.ts","./src/app/services/tools/export-tool/export-tool.service.ts","./src/app/services/tools/fill-tool/fill-tool.service.ts","./src/app/services/tools/grid-tool/grid-tool.service.ts","./src/app/services/tools/line-tool/line-tool.service.ts","./src/app/services/tools/magnetism-tool/magnetism-tool.service.ts","./src/app/services/tools/pen-tool/pen-tool.service.ts","./src/app/services/tools/pencil-tool/pencil-tool.service.ts","./src/app/services/tools/polygon-tool/polygon-tool.service.ts","./src/app/services/tools/quill-tool/quill-tool.service.ts","./src/app/services/tools/rectangle-tool/rectangle-tool.service.ts","./src/app/services/tools/selection-tool/selection-tool.service.ts","./src/app/services/tools/spray-can-tool/spray-can-tool.service.ts","./src/app/services/tools/stamp-tool/stamp-tool.service.ts","./src/app/services/tools/text-tool/text-tool.service.ts","./src/app/services/tools/tool-selector/tool-selector.service.ts","./src/app/services/undo-redoer/undo-redoer.service.ts","./src/app/services/welcome-modal-window/welcome-modal-window.service.ts","./src/classes/BFSHelper.ts","./src/classes/CanvasToBMP.ts","./src/classes/Coords2D.ts","./src/classes/DrawingState.ts","./src/classes/FontInfos.ts","./src/classes/Predicate.ts","./src/classes/StackTargetInfo.ts","./src/classes/pipes/labelFilter.ts","./src/classes/pipes/mySlice.ts","./src/classes/pipes/nameFilter.ts","./src/classes/pipes/toTrustHtml.ts","./src/classes/selection/selection.ts","./src/classes/svggelement-info.ts","./src/classes/textStyle/textCursor.ts","./src/constants/color-constants.ts","./src/constants/constants.ts","./src/constants/tool-constants.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","module.exports = \"<app-sidebar-tools></app-sidebar-tools>\\n<app-work-zone></app-work-zone>\\n\"","module.exports = \"<form [formGroup]=\\\"colorNumericValuesForm\\\">\\n    <div id=\\\"form-inputs\\\">\\n        <mat-form-field class=\\\"medium\\\">\\n            <input\\n                autocomplete=\\\"off\\\"\\n                (focus)=\\\"onFocus()\\\"\\n                (focusout)=\\\"onFocusOut()\\\"\\n                matInput\\n                type=\\\"text\\\"\\n                placeholder=\\\"Hex\\\"\\n                formControlName=\\\"hex\\\"\\n                (change)=\\\"onUserHexInput()\\\"\\n            />\\n            <mat-error>Ce code de couleur n'est pas valide!</mat-error>\\n            <span matPrefix>#</span>\\n        </mat-form-field>\\n        <br />\\n        <mat-form-field class=\\\"small\\\" (input)=\\\"onUserColorRGBInput()\\\">\\n            <input\\n                autocomplete=\\\"off\\\"\\n                (focus)=\\\"onFocus()\\\"\\n                (focusout)=\\\"onFocusOut()\\\"\\n                matInput\\n                type=\\\"number\\\"\\n                placeholder=\\\"R:\\\"\\n                formControlName=\\\"R\\\"\\n                min=\\\"0\\\"\\n                max=\\\"255\\\"\\n            />\\n            <mat-error>R doit être entre 0 et 255!</mat-error>\\n        </mat-form-field>\\n        <mat-form-field class=\\\"small\\\" (input)=\\\"onUserColorRGBInput()\\\">\\n            <input\\n                autocomplete=\\\"off\\\"\\n                (focus)=\\\"onFocus()\\\"\\n                (focusout)=\\\"onFocusOut()\\\"\\n                matInput\\n                type=\\\"number\\\"\\n                placeholder=\\\"G:\\\"\\n                formControlName=\\\"G\\\"\\n                min=\\\"0\\\"\\n                max=\\\"255\\\"\\n            />\\n            <mat-error>G doit être entre 0 et 255!</mat-error>\\n        </mat-form-field>\\n        <mat-form-field class=\\\"small\\\" (input)=\\\"onUserColorRGBInput()\\\">\\n            <input\\n                autocomplete=\\\"off\\\"\\n                (focus)=\\\"onFocus()\\\"\\n                (focusout)=\\\"onFocusOut()\\\"\\n                matInput\\n                type=\\\"number\\\"\\n                placeholder=\\\"B:\\\"\\n                formControlName=\\\"B\\\"\\n                min=\\\"0\\\"\\n                max=\\\"255\\\"\\n            />\\n            <mat-error>B doit être entre 0 et 255!</mat-error>\\n        </mat-form-field>\\n        <mat-form-field class=\\\"small\\\" (change)=\\\"onUserColorRGBInput()\\\">\\n            <input\\n                autocomplete=\\\"off\\\"\\n                (focus)=\\\"onFocus()\\\"\\n                (focusout)=\\\"onFocusOut()\\\"\\n                matInput\\n                type=\\\"number\\\"\\n                placeholder=\\\"A:\\\"\\n                formControlName=\\\"A\\\"\\n                min=\\\"0\\\"\\n                max=\\\"1\\\"\\n                step=\\\"0.1\\\"\\n            />\\n            <mat-error>Cette valeur doit être entre 0 et 1!</mat-error>\\n        </mat-form-field>\\n    </div>\\n</form>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div class=\\\"form-group\\\">\\n        <div id=\\\"buttons\\\">\\n            <button class=\\\"actionButton\\\" mat-stroked-button type=\\\"button\\\" (click)=\\\"onCancel()\\\">\\n                Annuler\\n            </button>\\n            <button class=\\\"actionButton\\\" mat-raised-button type=\\\"submit\\\" (click)=\\\"onSubmit()\\\">\\n                Choisir\\n            </button>\\n        </div>\\n\\n        <div id=\\\"user-color\\\">\\n            <span> Aperçu de couleur :</span>\\n            <button id=\\\"big-color\\\" class=\\\"color\\\" type=\\\"button\\\" [ngStyle]=\\\"getUserColorIcon()\\\"></button>\\n            <br />\\n        </div>\\n\\n        <app-color-picker></app-color-picker>\\n        <app-color-numeric-values></app-color-numeric-values>\\n        <app-color-queue (clickedColorButton)=\\\"onClickColorQueueButton($event)\\\"></app-color-queue>\\n    </div>\\n</div>\\n\"","module.exports = \"<div id=\\\"ColorWheelContainer\\\" #ColorWheelContainer>\\n    <canvas id=\\\"canvas_picker\\\" #canvas_picker (click)=\\\"onCanvasClick($event)\\\"> </canvas>\\n    <label>Ajouter du noir :</label>\\n    <mat-slider min=\\\"0\\\" step=\\\"0.01\\\" max=\\\"1\\\" (input)=\\\"onSliderChange($event)\\\" [(ngModel)]=\\\"obscurity\\\"></mat-slider>\\n    <div id=\\\"currentColor\\\" #currentColor></div>\\n</div>\\n\"","module.exports = \"<p>\\n    Dix dernières couleurs :\\n</p>\\n<div id=\\\"buttons\\\">\\n    <button\\n        class=\\\"color\\\"\\n        type=\\\"button\\\"\\n        *ngFor=\\\"let color of colorQueue\\\"\\n        [ngStyle]=\\\"getColorIcon(color)\\\"\\n        (click)=\\\"onClickColorButton(color)\\\"\\n    ></button>\\n</div>\\n\"","module.exports = \"<h1 mat-dialog-title>Création d'un nouveau dessin</h1>\\n<mat-dialog-content class=\\\"mat-typography\\\" [formGroup]=\\\"drawingModalForm\\\">\\n    <div id=\\\"userColor\\\">\\n        <span> Couleur de fond :</span>\\n        <button id=\\\"bigColor\\\" class=\\\"color\\\" type=\\\"button\\\" [ngStyle]=\\\"getUserColorIcon()\\\"></button>\\n        <br />\\n    </div>\\n\\n    <app-color-picker></app-color-picker>\\n    <app-color-numeric-values></app-color-numeric-values>\\n    <app-color-queue (clickedColorButton)=\\\"onClickColorQueueButton($event)\\\"></app-color-queue>\\n\\n    <div class=\\\"formGroup\\\">\\n        <mat-form-field>\\n            <input\\n                matInput\\n                type=\\\"number\\\"\\n                (focus)=\\\"onFocus()\\\"\\n                (focusout)=\\\"onFocusOut()\\\"\\n                placeholder=\\\"Largeur\\\"\\n                formControlName=\\\"width\\\"\\n            />\\n            <span matSuffix>px</span>\\n            <mat-error>La largeur doit être entre 0 et 10000!</mat-error>\\n        </mat-form-field>\\n\\n        <mat-form-field>\\n            <input\\n                matInput\\n                type=\\\"number\\\"\\n                (focus)=\\\"onFocus()\\\"\\n                (focusout)=\\\"onFocusOut()\\\"\\n                placeholder=\\\"Hauteur\\\"\\n                formControlName=\\\"height\\\"\\n            />\\n            <span matSuffix>px</span>\\n            <mat-error>La hauteur doit être entre 0 et 10000!</mat-error>\\n        </mat-form-field>\\n    </div>\\n\\n    <div id=\\\"confirmation\\\" [hidden]=\\\"emptyDrawStack\\\">\\n        <mat-error>\\n            <i class=\\\"fas fa-exclamation-triangle\\\"></i>\\n            Un dessin existe déja dans votre zone de travail!\\n            <i class=\\\"fas fa-exclamation-triangle\\\"></i>\\n        </mat-error>\\n        <mat-checkbox color=\\\"warn\\\" formControlName=\\\"confirm\\\" required>\\n            Je confirme que je veux créer un nouveau dessin.\\n        </mat-checkbox>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions id=\\\"footer\\\" align=\\\"end\\\">\\n    <button class=\\\"actionButton\\\" mat-stroked-button type=\\\"button\\\" (click)=\\\"onCancel()\\\">Annuler</button>\\n    <button\\n        class=\\\"actionButton\\\"\\n        mat-raised-button\\n        type=\\\"submit\\\"\\n        [mat-dialog-close]=\\\"true\\\"\\n        [disabled]=\\\"drawingModalForm.invalid\\\"\\n        (click)=\\\"onSubmit()\\\"\\n    >\\n        Créer!\\n    </button>\\n</mat-dialog-actions>\\n\"","module.exports = \"<h1 mat-dialog-title>Exporter le dessin</h1>\\n\\n<mat-dialog-content class=\\\"mat-typography\\\"> </mat-dialog-content>\\n<form [formGroup]=\\\"exportFileModalForm\\\">\\n    <div *ngIf=\\\"!workZoneIsEmpty\\\">\\n        Veuillez choisir le format de l'image à exporter :\\n        <mat-form-field>\\n            <mat-select formControlName=\\\"fileType\\\">\\n                <mat-option value=\\\"{{ FILE_TYPE.SVG }}\\\">SVG</mat-option>\\n                <mat-option value=\\\"{{ FILE_TYPE.BMP }}\\\">BMP</mat-option>\\n                <mat-option value=\\\"{{ FILE_TYPE.JPG }}\\\">JPG</mat-option>\\n                <mat-option value=\\\"{{ FILE_TYPE.PNG }}\\\">PNG</mat-option>\\n            </mat-select>\\n        </mat-form-field>\\n    </div>\\n</form>\\n<div *ngIf=\\\"workZoneIsEmpty\\\">Vous devez tout d'abord créer un dessin pour pouvoir l'exporter ! <br /></div>\\n\\n<mat-dialog-actions id=\\\"footer\\\" align=\\\"end\\\">\\n    <button class=\\\"actionButton\\\" mat-stroked-button type=\\\"button\\\" (click)=\\\"closeDialog()\\\">Annuler</button>\\n    <button class=\\\"actionButton\\\" mat-stroked-button type=\\\"submit\\\" (click)=\\\"onSubmit()\\\" *ngIf=\\\"!workZoneIsEmpty\\\">\\n        Exporter\\n    </button>\\n</mat-dialog-actions>\\n\"","module.exports = \"<h1 mat-dialog-title>Ouvrir un dessin existant</h1>\\n\\n<mat-tab-group animationDuration=\\\"0ms\\\">\\n    <mat-tab label=\\\"Ouvrir un fichier dans la BD\\\">\\n        <div class=\\\"tab-content\\\" id=\\\"open-server\\\">\\n            <div id=\\\"filters\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    matInput\\n                    class=\\\"filter\\\"\\n                    [(ngModel)]=\\\"nameFilter\\\"\\n                    placeholder=\\\"Filter par nom ... (entrez '$tout' pour voir tous les dessins)\\\"\\n                    id=\\\"name-filter\\\"\\n                />\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    matInput\\n                    class=\\\"filter\\\"\\n                    [(ngModel)]=\\\"labelFilter\\\"\\n                    placeholder=\\\"Filter par étiquettes ... (ex.: pomme, melon, etc.)\\\"\\n                    id=\\\"label-filter\\\"\\n                />\\n            </div>\\n            <div id=\\\"content-wrapper\\\">\\n                <mat-dialog-content class=\\\"mat-typography\\\" [formGroup]=\\\"openFileModalForm\\\">\\n                    <div *ngIf=\\\"!isLoading\\\" id=\\\"drawing-list\\\">\\n                        <mat-selection-list\\n                            #drawings\\n                            formControlName=\\\"selectedDrawing\\\"\\n                            (selectionChange)=\\\"handleSelection($event)\\\"\\n                            id=\\\"selection-list\\\"\\n                            required\\n                        >\\n                            <mat-list-option\\n                                *ngFor=\\\"\\n                                    let drawing of drawingsFromServer\\n                                        | nameFilter: nameFilter\\n                                        | labelFilter: labelFilter\\n                                        | mySlice: nameFilter;\\n                                    let i = index\\n                                \\\"\\n                                id=\\\"list-option\\\"\\n                                [value]=\\\"drawing.drawingInfo.createdAt\\\"\\n                            >\\n                                <div id=\\\"drawing-option\\\">\\n                                    <div id=\\\"drawing-name\\\">\\n                                        {{ drawing.drawingInfo.name }}\\n                                    </div>\\n                                    <div id=\\\"drawing-labels-list\\\">\\n                                        <div id=\\\"drawing-label\\\" *ngFor=\\\"let label of drawing.drawingInfo.labels\\\">\\n                                            {{ label }}\\n                                        </div>\\n                                    </div>\\n                                    <div id=\\\"drawing-thumbnail\\\">\\n                                        <svg\\n                                            [attr.width]=\\\"getWidth(drawing.drawingInfo.name)\\\"\\n                                            [attr.height]=\\\"getHeight(drawing.drawingInfo.name)\\\"\\n                                            [attr.viewBox]=\\\"getViewBox(drawing.drawingInfo.name)\\\"\\n                                            [innerHTML]=\\\"getSVG(drawing.drawingInfo.name) | toTrustHtml\\\"\\n                                        ></svg>\\n                                    </div>\\n                                    <div id=\\\"drawing-created-at\\\">\\n                                        {{ convertTimeStampToDate(drawing.drawingInfo.createdAt) }}\\n                                    </div>\\n                                </div>\\n                            </mat-list-option>\\n                        </mat-selection-list>\\n                        <div\\n                            class=\\\"hidden-info\\\"\\n                            *ngIf=\\\"\\n                                (drawingsFromServer | nameFilter: nameFilter | labelFilter: labelFilter).length === 0\\n                            \\\"\\n                        >\\n                            Aucun dessin trouvé!\\n                        </div>\\n                    </div>\\n                    <div *ngIf=\\\"isLoading\\\" id=\\\"loading-div\\\">\\n                        <img id=\\\"img\\\" [src]=\\\"getGifSource()\\\" alt=\\\"\\\" />\\n                        <div>\\n                            Loading ...\\n                        </div>\\n                    </div>\\n                </mat-dialog-content>\\n                <div\\n                    class=\\\"hidden-info\\\"\\n                    *ngIf=\\\"\\n                        (drawingsFromServer | nameFilter: nameFilter | labelFilter: labelFilter).length > 5 &&\\n                        nameFilter !== '$tout'\\n                    \\\"\\n                >\\n                    {{ (drawingsFromServer | nameFilter: nameFilter | labelFilter: labelFilter).length - 5 }}\\n                    {{\\n                        (drawingsFromServer | nameFilter: nameFilter | labelFilter: labelFilter).length - 5 > 1\\n                            ? 'dessins masqués ...'\\n                            : 'dessin masqué ...'\\n                    }}\\n                    <a id=\\\"clickable\\\" (click)=\\\"unmaskAll()\\\">voir tout</a>\\n                </div>\\n            </div>\\n            <div class=\\\"confirmation\\\" [hidden]=\\\"emptyDrawStack\\\" [formGroup]=\\\"openFileModalForm\\\">\\n                <mat-error class=\\\"center\\\">\\n                    <i class=\\\"fas fa-exclamation-triangle\\\"></i>\\n                    Un dessin existe déja dans votre zone de travail!\\n                    <i class=\\\"fas fa-exclamation-triangle\\\"></i>\\n                </mat-error>\\n                <mat-checkbox class=\\\"center\\\" color=\\\"warn\\\" formControlName=\\\"confirm\\\" required>\\n                    Je confirme que je ne veux pas sauvegarder le dessin existant.\\n                </mat-checkbox>\\n            </div>\\n            <mat-dialog-actions align=\\\"end\\\">\\n                <div class=\\\"submit-button-group-wrapper\\\">\\n                    <div class=\\\"submit-button-group\\\">\\n                        <button\\n                            class=\\\"actionButton\\\"\\n                            mat-stroked-button\\n                            color=\\\"warn\\\"\\n                            type=\\\"button\\\"\\n                            (click)=\\\"onDelete()\\\"\\n                            *ngIf=\\\"selectedOption !== ''\\\"\\n                        >\\n                            Supprimer\\n                        </button>\\n                        <button class=\\\"actionButton\\\" mat-stroked-button type=\\\"button\\\" (click)=\\\"closeDialog()\\\">\\n                            Annuler\\n                        </button>\\n                        <button\\n                            class=\\\"actionButton\\\"\\n                            mat-stroked-button\\n                            type=\\\"submit\\\"\\n                            [disabled]=\\\"serverFormIsInvalid()\\\"\\n                            (click)=\\\"loadServerFile()\\\"\\n                        >\\n                            Ouvrir\\n                        </button>\\n                    </div>\\n                </div>\\n            </mat-dialog-actions>\\n        </div>\\n    </mat-tab>\\n    <mat-tab label=\\\"Ouvrir un fichier local\\\">\\n        <div class=\\\"tab-content\\\">\\n            <mat-dialog-content class=\\\"mat-typography-local\\\" [formGroup]=\\\"openLocalFileModalForm\\\">\\n                <div id=\\\"content-local-wrapper\\\">\\n                    <mat-label id=\\\"destination-label\\\">Choisir un fichier local:</mat-label>\\n                    <div id=\\\"input-wrapper\\\">\\n                        <input\\n                            id=\\\"destination-path\\\"\\n                            readonly\\n                            type=\\\"text\\\"\\n                            placeholder=\\\"Nom du fichier\\\"\\n                            [value]=\\\"localFileName\\\"\\n                        />\\n                        <input\\n                            type=\\\"file\\\"\\n                            accept=\\\".txt\\\"\\n                            name=\\\"file\\\"\\n                            id=\\\"file\\\"\\n                            class=\\\"inputfile\\\"\\n                            onclick=\\\"this.value = null\\\"\\n                            (change)=\\\"getFileToLoad($event)\\\"\\n                        />\\n                        <label for=\\\"file\\\">\\n                            <i class=\\\"fas fa-folder\\\"></i>\\n                        </label>\\n                    </div>\\n                </div>\\n            </mat-dialog-content>\\n            <div class=\\\"confirmation\\\" [hidden]=\\\"emptyDrawStack\\\" [formGroup]=\\\"openLocalFileModalForm\\\">\\n                <mat-error class=\\\"center\\\">\\n                    <i class=\\\"fas fa-exclamation-triangle\\\"></i>\\n                    Un dessin existe déja dans votre zone de travail!\\n                    <i class=\\\"fas fa-exclamation-triangle\\\"></i>\\n                </mat-error>\\n                <mat-checkbox class=\\\"center\\\" color=\\\"warn\\\" formControlName=\\\"confirm\\\" required>\\n                    Je confirme que je ne veux pas sauvegarder le dessin existant.\\n                </mat-checkbox>\\n            </div>\\n            <mat-dialog-actions align=\\\"end\\\">\\n                <div class=\\\"submit-button-group-wrapper\\\">\\n                    <div class=\\\"submit-button-group\\\">\\n                        <button class=\\\"actionButton\\\" mat-stroked-button type=\\\"button\\\" (click)=\\\"closeDialog()\\\">\\n                            Annuler\\n                        </button>\\n                        <button\\n                            class=\\\"actionButton\\\"\\n                            mat-stroked-button\\n                            type=\\\"submit\\\"\\n                            [disabled]=\\\"localFormIsInvalid()\\\"\\n                            (click)=\\\"loadLocalFile()\\\"\\n                        >\\n                            Ouvrir\\n                        </button>\\n                    </div>\\n                </div>\\n            </mat-dialog-actions>\\n        </div>\\n    </mat-tab>\\n</mat-tab-group>\\n\"","module.exports = \"<h1 mat-dialog-title>Sauvegarder le dessin</h1>\\n<mat-tab-group animationDuration=\\\"0ms\\\">\\n    <mat-tab label=\\\"Sauvegarder dans la BD\\\">\\n        <div class=\\\"tab-content\\\" *ngIf=\\\"!isSaving\\\">\\n            <mat-dialog-content class=\\\"mat-typography\\\" [formGroup]=\\\"saveFileModalForm\\\">\\n                <mat-label class=\\\"drawing-name-title\\\">Nom du dessin</mat-label>\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    matInput\\n                    class=\\\"drawing-name-input\\\"\\n                    formControlName=\\\"name\\\"\\n                    #input\\n                    placeholder=\\\"Nom du dessin\\\"\\n                />\\n                <mat-label class=\\\"drawing-label-title\\\">Étiquettes</mat-label>\\n                <div class=\\\"drawing-labels-list\\\">\\n                    <mat-button-toggle\\n                        class=\\\"label\\\"\\n                        *ngFor=\\\"let label of drawingLabels\\\"\\n                        (click)=\\\"toggleLabel(label)\\\"\\n                        [disabled]=\\\"!selectedLabels.includes(label)\\\"\\n                        [checked]=\\\"selectedLabels.includes(label)\\\"\\n                    >\\n                        {{ label }}\\n                    </mat-button-toggle>\\n                </div>\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    matInput\\n                    class=\\\"new-label-input\\\"\\n                    formControlName=\\\"label\\\"\\n                    #newLabelInput\\n                    placeholder=\\\"Nouvelle étiquette\\\"\\n                />\\n                <button\\n                    *ngIf=\\\"newLabelInput.value !== ''\\\"\\n                    mat-raised-button\\n                    type=\\\"button\\\"\\n                    class=\\\"new-label-button\\\"\\n                    [disabled]=\\\"saveFileModalForm.controls.label.invalid || drawingLabels.includes(newLabelInput.value)\\\"\\n                    (click)=\\\"addLabel(newLabelInput.value)\\\"\\n                >\\n                    Ajouter l'étiquette\\n                </button>\\n            </mat-dialog-content>\\n\\n            <mat-dialog-actions align=\\\"end\\\">\\n                <div class=\\\"submit-button-group-wrapper\\\">\\n                    <div class=\\\"submit-button-group\\\">\\n                        <button class=\\\"actionButton\\\" mat-stroked-button type=\\\"button\\\" (click)=\\\"closeDialog()\\\">\\n                            Annuler\\n                        </button>\\n                        <button\\n                            class=\\\"actionButton\\\"\\n                            mat-stroked-button\\n                            type=\\\"submit\\\"\\n                            (click)=\\\"saveToServer()\\\"\\n                            [disabled]=\\\"saveFileModalForm.controls.name.invalid\\\"\\n                        >\\n                            Sauvegarder\\n                        </button>\\n                    </div>\\n                </div>\\n            </mat-dialog-actions>\\n        </div>\\n    </mat-tab>\\n    <mat-tab label=\\\"Sauvegarder localement\\\">\\n        <div class=\\\"tab-content\\\" *ngIf=\\\"!isSaving\\\">\\n            <mat-dialog-content class=\\\"mat-typography-local\\\" [formGroup]=\\\"saveFileLocalModalForm\\\">\\n                <mat-label id=\\\"input-description\\\">\\n                    Le nom de fichier ne doit pas contenir de '.' ou de '-' et doit être de type .txt\\n                </mat-label>\\n                <mat-label class=\\\"file-name-title\\\">Nom du fichier</mat-label>\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    matInput\\n                    class=\\\"file-name-input\\\"\\n                    formControlName=\\\"filename\\\"\\n                    #input\\n                    placeholder=\\\"Nom du fichier\\\"\\n                />\\n            </mat-dialog-content>\\n\\n            <mat-dialog-actions align=\\\"end\\\">\\n                <div class=\\\"submit-button-group-wrapper\\\">\\n                    <div class=\\\"submit-button-group\\\">\\n                        <button class=\\\"actionButton\\\" mat-stroked-button type=\\\"button\\\" (click)=\\\"closeDialog()\\\">\\n                            Annuler\\n                        </button>\\n                        <a\\n                            class=\\\"actionButton\\\"\\n                            mat-stroked-button\\n                            type=\\\"submit\\\"\\n                            (click)=\\\"saveToLocal()\\\"\\n                            [href]=\\\"saveToLocal ? saveFileUrl : null\\\"\\n                            [download]=\\\"filename\\\"\\n                            [disabled]=\\\"saveFileLocalModalForm.controls.filename.invalid\\\"\\n                        >\\n                            Sauvegarder\\n                        </a>\\n                    </div>\\n                </div>\\n            </mat-dialog-actions>\\n        </div>\\n    </mat-tab>\\n</mat-tab-group>\\n\"","module.exports = \"<h1 mat-dialog-title>Bienvenue à P9, votre nouvel ami pour le design!</h1>\\n<mat-dialog-content class=\\\"mat-typography\\\">\\n    <h3>Dessinez ce que vous voulez!</h3>\\n    <p>\\n        En utilisant la toute nouvelle application web P9, vous pouvez mettre sur feuille toute idée créative qui passe\\n        par votre tête! Que ce soit pour un projet d'école ou simplement un exercice pour entrainer votre cervelle\\n        droite, cet outil est pour vous. Amusez-vous bien! 😊\\n    </p>\\n    <div id=\\\"user-guide-message\\\">\\n        <a target=\\\"_blank\\\" mat-button id=\\\"user-guide-button\\\" href=\\\"https://github.com/xishec/P9-Wiki/wiki\\\">\\n            <div id=\\\"user-guide-button-container\\\">\\n                <div id=\\\"user-guide-button-text\\\">\\n                    <i class=\\\"far fa-question-circle\\\" id=\\\"question-icon\\\"></i>\\n                    <p>Guide d'utilisateur</p>\\n                </div>\\n            </div>\\n        </a>\\n        <p>\\n            Consultez le guide d'utilisateur pour <br />\\n            les détails concernant l'utilisation de l'application.\\n        </p>\\n    </div>\\n</mat-dialog-content>\\n<mat-dialog-actions id=\\\"footer\\\" align=\\\"end\\\">\\n    <mat-checkbox color=\\\"primary\\\" id=\\\"checkbox\\\" [(ngModel)]=\\\"displayWelcomeModalWindow\\\"\\n        ><p>Ne plus montrer ce message.</p></mat-checkbox\\n    >\\n    <button id=\\\"start-button\\\" mat-button [mat-dialog-close]=\\\"true\\\" cdkFocusInitial (click)=\\\"submitForm()\\\">\\n        Commencer\\n    </button>\\n</mat-dialog-actions>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div>\\n        <app-selection-attributes [hidden]=\\\"currentToolName !== TOOL_NAME.Selection\\\"></app-selection-attributes>\\n        <app-pencil-attributes [hidden]=\\\"currentToolName !== TOOL_NAME.Pencil\\\"></app-pencil-attributes>\\n        <app-rectangle-attributes [hidden]=\\\"currentToolName !== TOOL_NAME.Rectangle\\\"></app-rectangle-attributes>\\n        <app-brush-attributes [hidden]=\\\"currentToolName !== TOOL_NAME.Brush\\\"></app-brush-attributes>\\n        <app-line-attributes [hidden]=\\\"currentToolName !== TOOL_NAME.Line\\\"></app-line-attributes>\\n        <app-color-applicator-attributes\\n            [hidden]=\\\"currentToolName !== TOOL_NAME.ColorApplicator\\\"\\n        ></app-color-applicator-attributes>\\n        <app-polygon-attributes [hidden]=\\\"currentToolName !== TOOL_NAME.Polygon\\\"></app-polygon-attributes>\\n        <app-grid-attributes [hidden]=\\\"currentToolName !== TOOL_NAME.Grid\\\"></app-grid-attributes>\\n        <app-stamp-attributes [hidden]=\\\"currentToolName !== TOOL_NAME.Stamp\\\"></app-stamp-attributes>\\n        <app-dropper-attributes [hidden]=\\\"currentToolName !== TOOL_NAME.Dropper\\\"></app-dropper-attributes>\\n        <app-ellipsis-attributes [hidden]=\\\"currentToolName !== TOOL_NAME.Ellipsis\\\"></app-ellipsis-attributes>\\n        <app-pen-attributes [hidden]=\\\"currentToolName !== TOOL_NAME.Pen\\\"></app-pen-attributes>\\n        <app-quill-attributes [hidden]=\\\"currentToolName !== TOOL_NAME.Quill\\\"></app-quill-attributes>\\n        <app-text-attributes [hidden]=\\\"currentToolName !== TOOL_NAME.Text\\\"></app-text-attributes>\\n        <app-eraser-attributes [hidden]=\\\"currentToolName !== TOOL_NAME.Eraser\\\"></app-eraser-attributes>\\n        <app-magnetism-attributes [hidden]=\\\"currentToolName !== TOOL_NAME.Magnetism\\\"></app-magnetism-attributes>\\n        <app-fill-attributes [hidden]=\\\"currentToolName !== TOOL_NAME.Fill\\\"></app-fill-attributes>\\n        <app-spray-can-attributes [hidden]=\\\"currentToolName !== TOOL_NAME.SprayCan\\\"></app-spray-can-attributes>\\n    </div>\\n    <div>\\n        <app-color-palette id=\\\"color-palette\\\" [hidden]=\\\"!showColorPalette\\\"></app-color-palette>\\n        <app-color-attributes></app-color-attributes>\\n    </div>\\n</div>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div id=\\\"attribute-header\\\">\\n        {{ toolName }}\\n    </div>\\n\\n    <form [formGroup]=\\\"brushAttributesForm\\\">\\n        <div class=\\\"attribute\\\">\\n            <label for=\\\"thickness\\\">Épaisseur du trait</label>\\n            <mat-slider\\n                placeholder=\\\"Hex\\\"\\n                formControlName=\\\"thickness\\\"\\n                (input)=\\\"onSliderChange($event)\\\"\\n                [min]=\\\"THICKNESS.Min\\\"\\n                value=\\\"{{ brushAttributesForm.value.thickness }}\\\"\\n            ></mat-slider>\\n            <mat-form-field class=\\\"small\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    (focus)=\\\"onFocus()\\\"\\n                    (focusout)=\\\"onFocusOut()\\\"\\n                    matInput\\n                    type=\\\"number\\\"\\n                    formControlName=\\\"thickness\\\"\\n                    (input)=\\\"onThicknessChange()\\\"\\n                    [min]=\\\"THICKNESS.Min\\\"\\n                    [max]=\\\"THICKNESS.Max\\\"\\n                />\\n                <mat-error>La valeur inscrite doit être entre {{ THICKNESS.Min }} et {{ THICKNESS.Max }} px</mat-error>\\n                <span matSuffix>px</span>\\n            </mat-form-field>\\n            <mat-form-field>\\n                <mat-label>\\n                    Style de pinceau\\n                </mat-label>\\n                <mat-select\\n                    formControlName=\\\"style\\\"\\n                    (selectionChange)=\\\"change($event.value)\\\"\\n                    [(value)]=\\\"selected\\\"\\n                    [ngClass]=\\\"selected ? 'class' + selected : 'class1'\\\"\\n                >\\n                    <mat-option *ngFor=\\\"let style of styles\\\" [value]=\\\"style\\\">\\n                        {{ style }}\\n                        <img height=\\\"40\\\" src=\\\"/assets/brush{{ style }}.png\\\" />\\n                    </mat-option>\\n                </mat-select>\\n            </mat-form-field>\\n        </div>\\n    </form>\\n</div>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div id=\\\"attribute-header\\\">\\n        {{ toolName }}\\n    </div>\\n    <div id=\\\"tips\\\">\\n        <p>Clic gauche pour appliquer la couleur primaire sur la forme.</p>\\n        <p>Clic droit pour appliquer la couleur secondaire sur la bordure.</p>\\n    </div>\\n</div>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div id=\\\"userColorButtons\\\">\\n        <div>\\n            <span> Couleur principale :</span>\\n            <button\\n                id=\\\"primary-color-button\\\"\\n                (click)=\\\"onClickPrimaryColor()\\\"\\n                class=\\\"color\\\"\\n                type=\\\"button\\\"\\n                [ngStyle]=\\\"getPrimaryColorIcon()\\\"\\n            ></button>\\n        </div>\\n        <div>\\n            <span> Couleur secondaire :</span>\\n            <button\\n                id=\\\"secondary-color-button\\\"\\n                (click)=\\\"onClickSecondaryColor()\\\"\\n                class=\\\"color\\\"\\n                type=\\\"button\\\"\\n                [ngStyle]=\\\"getSecondaryColorIcon()\\\"\\n            ></button>\\n        </div>\\n        <div>\\n            <span> Couleur de fond :</span>\\n            <button\\n                id=\\\"background-color-button\\\"\\n                (click)=\\\"onClickBackgroundColor()\\\"\\n                class=\\\"color\\\"\\n                type=\\\"button\\\"\\n                [ngStyle]=\\\"getBackgroundColorIcon()\\\"\\n            ></button>\\n        </div>\\n\\n        <div>\\n            <button mat-stroked-button (click)=\\\"switchColors()\\\" id=\\\"switch-colors-button\\\" title=\\\"Intervertir\\\">\\n                Principale <i class=\\\"fas fa-exchange-alt\\\"></i> Secondaire\\n            </button>\\n        </div>\\n    </div>\\n</div>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div id=\\\"attribute-header\\\">\\n        {{ toolName }}\\n    </div>\\n\\n    <div id=\\\"tips\\\">\\n        <p>Clic gauche pour changer la couleur primaire.</p>\\n        <p>Clic droit pour changer la couleur secondaire.</p>\\n    </div>\\n</div>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div id=\\\"attribute-header\\\">\\n        {{ toolName }}\\n    </div>\\n\\n    <form [formGroup]=\\\"ellipsisAttributesForm\\\">\\n        <div class=\\\"attribute\\\">\\n            <label for=\\\"thickness\\\">Épaisseur du trait</label>\\n            <mat-slider\\n                placeholder=\\\"Hex\\\"\\n                formControlName=\\\"thickness\\\"\\n                (input)=\\\"onSliderChange($event)\\\"\\n                [min]=\\\"thickness.Min\\\"\\n                value=\\\"{{ ellipsisAttributesForm.value.thickness }}\\\"\\n            ></mat-slider>\\n            <mat-form-field class=\\\"small\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    (focus)=\\\"onFocus()\\\"\\n                    (focusout)=\\\"onFocusOut()\\\"\\n                    matInput\\n                    type=\\\"number\\\"\\n                    formControlName=\\\"thickness\\\"\\n                    (input)=\\\"onThicknessChange()\\\"\\n                    [min]=\\\"thickness.Min\\\"\\n                    [max]=\\\"thickness.Max\\\"\\n                />\\n                <mat-error>La valeur inscrite doit être entre {{ thickness.Min }} et {{ thickness.Max }} px</mat-error>\\n                <span matSuffix>px</span>\\n            </mat-form-field>\\n        </div>\\n        <div id=\\\"attribute\\\">\\n            <label for=\\\"traceType\\\">Type de tracé</label>\\n            <mat-form-field>\\n                <mat-select formControlName=\\\"traceType\\\" (selectionChange)=\\\"onTraceTypeChange()\\\">\\n                    <mat-option value=\\\"Contour\\\">Contour</mat-option>\\n                    <mat-option value=\\\"Plein\\\">Plein</mat-option>\\n                    <mat-option value=\\\"Plein avec contour\\\">Plein avec contour</mat-option>\\n                </mat-select>\\n            </mat-form-field>\\n        </div>\\n    </form>\\n</div>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div id=\\\"attribute-header\\\">\\n        {{ toolName }}\\n    </div>\\n\\n    <form [formGroup]=\\\"eraserAttributesForm\\\">\\n        <div class=\\\"attribute\\\">\\n            <label for=\\\"eraserSize\\\">Taille de l'efface</label>\\n            <mat-slider\\n                placeholder=\\\"value\\\"\\n                formControlName=\\\"eraserSize\\\"\\n                (input)=\\\"onSliderChange($event)\\\"\\n                [min]=\\\"eraserSize.Min\\\"\\n                [max]=\\\"eraserSize.Max\\\"\\n                step=\\\"1\\\"\\n                value=\\\"{{ eraserAttributesForm.value.eraserSize }}\\\"\\n            ></mat-slider>\\n\\n            <mat-form-field class=\\\"small\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    (focus)=\\\"onFocus()\\\"\\n                    (focusout)=\\\"onFocusOut()\\\"\\n                    matInput\\n                    type=\\\"number\\\"\\n                    formControlName=\\\"eraserSize\\\"\\n                    (input)=\\\"onSizeChange()\\\"\\n                    [min]=\\\"eraserSize.Min\\\"\\n                    [max]=\\\"eraserSize.Max\\\"\\n                />\\n                <mat-error>La valeur inscrite doit être entre {{ eraserSize.Min }} et {{ eraserSize.Max }}</mat-error>\\n                <span matSuffix>px</span>\\n            </mat-form-field>\\n        </div>\\n    </form>\\n</div>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div id=\\\"attribute-header\\\">\\n        {{ toolName }}\\n    </div>\\n\\n    <form [formGroup]=\\\"fillAttributesForm\\\">\\n        <div class=\\\"attribute\\\">\\n            <label for=\\\"thickness\\\">Épaisseur du trait</label>\\n            <mat-slider\\n                formControlName=\\\"thickness\\\"\\n                (input)=\\\"onThicknessSliderChange($event)\\\"\\n                [min]=\\\"THICKNESS.Min\\\"\\n                [max]=\\\"THICKNESS.Max\\\"\\n                value=\\\"{{ fillAttributesForm.value.thickness }}\\\"\\n            ></mat-slider>\\n            <mat-form-field class=\\\"small\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    (focus)=\\\"onFocus()\\\"\\n                    (focusout)=\\\"onFocusOut()\\\"\\n                    matInput\\n                    type=\\\"number\\\"\\n                    formControlName=\\\"thickness\\\"\\n                    (input)=\\\"onThicknessChange()\\\"\\n                    [min]=\\\"THICKNESS.Min\\\"\\n                    [max]=\\\"THICKNESS.Max\\\"\\n                />\\n                <mat-error>La valeur inscrite doit être entre {{ THICKNESS.Min }} et {{ THICKNESS.Max }} px</mat-error>\\n                <span matSuffix>px</span>\\n            </mat-form-field>\\n        </div>\\n        <div class=\\\"attribute\\\">\\n            <label for=\\\"tolerance\\\">Tolérance</label> <br />\\n            <mat-slider\\n                placeholder=\\\"Tolérance\\\"\\n                formControlName=\\\"tolerance\\\"\\n                (input)=\\\"onToleranceSliderChange($event)\\\"\\n                [min]=\\\"TOLERANCE.Min\\\"\\n                [max]=\\\"TOLERANCE.Max\\\"\\n                value=\\\"{{ fillAttributesForm.value.tolerance }}\\\"\\n            ></mat-slider>\\n            <mat-form-field class=\\\"small\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    (focus)=\\\"onFocus()\\\"\\n                    (focusout)=\\\"onFocusOut()\\\"\\n                    matInput\\n                    type=\\\"number\\\"\\n                    formControlName=\\\"tolerance\\\"\\n                    (input)=\\\"onToleranceChange()\\\"\\n                    [min]=\\\"TOLERANCE.Min\\\"\\n                    [max]=\\\"TOLERANCE.Max\\\"\\n                />\\n                <mat-error>La valeur inscrite doit être entre {{ TOLERANCE.Min }} et {{ TOLERANCE.Max }} %</mat-error>\\n                <span matSuffix>%</span>\\n            </mat-form-field>\\n        </div>\\n        <div id=\\\"attribute\\\">\\n            <label for=\\\"traceType\\\">Type de tracé</label>\\n            <mat-form-field>\\n                <mat-select formControlName=\\\"traceType\\\" (selectionChange)=\\\"onTraceTypeChange()\\\">\\n                    <mat-option value=\\\"Contour\\\">Contour</mat-option>\\n                    <mat-option value=\\\"Plein\\\">Plein</mat-option>\\n                    <mat-option value=\\\"Plein avec contour\\\">Plein avec contour</mat-option>\\n                </mat-select>\\n            </mat-form-field>\\n        </div>\\n    </form>\\n</div>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div id=\\\"attribute-header\\\">\\n        {{ toolName }}\\n    </div>\\n\\n    <form [formGroup]=\\\"gridAttributesForm\\\">\\n        <div class=\\\"attribute\\\">\\n            <label for=\\\"activateGrid\\\">\\n                Activer la grille\\n                <i\\n                    class=\\\"fas fa-info-circle\\\"\\n                    matTooltip=\\\"Appuyez sur 'G' comme raccourci\\\"\\n                    matTooltipPosition=\\\"after\\\"\\n                ></i>\\n            </label>\\n            <br />\\n            <mat-slide-toggle formControlName=\\\"state\\\" [checked]=\\\"onStateChange()\\\" color=\\\"primary\\\"></mat-slide-toggle>\\n        </div>\\n\\n        <div class=\\\"attribute\\\">\\n            <label for=\\\"gridSize\\\"> Taille des carrés</label>\\n            <mat-slider\\n                formControlName=\\\"size\\\"\\n                (input)=\\\"onSizeSliderChange($event)\\\"\\n                [min]=\\\"gridSize.Min\\\"\\n                [max]=\\\"gridSize.Max\\\"\\n                value=\\\"{{ gridAttributesForm.value.size }}\\\"\\n                step=\\\"1\\\"\\n            ></mat-slider>\\n            <mat-form-field class=\\\"small\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    (focus)=\\\"onFocus()\\\"\\n                    (focusout)=\\\"onFocusOut()\\\"\\n                    matInput\\n                    type=\\\"number\\\"\\n                    formControlName=\\\"size\\\"\\n                    (input)=\\\"onSizeChange()\\\"\\n                    [min]=\\\"gridSize.Min\\\"\\n                    [max]=\\\"gridSize.Max\\\"\\n                    step=\\\"1\\\"\\n                />\\n                <mat-error>La valeur inscrite doit être entre {{ gridSize.Min }} et {{ gridSize.Max }} px</mat-error>\\n                <span matSuffix>px</span>\\n            </mat-form-field>\\n        </div>\\n\\n        <div class=\\\"attribute\\\">\\n            <label for=\\\"gridOpacity\\\"> Opacité des traits</label>\\n            <mat-slider\\n                formControlName=\\\"opacity\\\"\\n                (input)=\\\"onOpacitySliderChange($event)\\\"\\n                [min]=\\\"gridOpacity.Min\\\"\\n                [max]=\\\"gridOpacity.Max\\\"\\n                value=\\\"{{ gridAttributesForm.value.opacity }}\\\"\\n                step=\\\"0.1\\\"\\n            ></mat-slider>\\n            <mat-form-field class=\\\"small\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    (focus)=\\\"onFocus()\\\"\\n                    (focusout)=\\\"onFocusOut()\\\"\\n                    matInput\\n                    type=\\\"number\\\"\\n                    formControlName=\\\"opacity\\\"\\n                    (input)=\\\"onOpacityChange()\\\"\\n                    [min]=\\\"gridOpacity.Min\\\"\\n                    [max]=\\\"gridOpacity.Max\\\"\\n                    step=\\\"0.1\\\"\\n                />\\n                <mat-error\\n                    >La valeur inscrite doit être entre {{ gridOpacity.Min }} et {{ gridOpacity.Max }}\\n                </mat-error>\\n            </mat-form-field>\\n        </div>\\n    </form>\\n</div>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div id=\\\"attribute-header\\\">\\n        {{ toolName }}\\n    </div>\\n\\n    <form [formGroup]=\\\"lineAttributesForm\\\">\\n        <div class=\\\"attribute\\\">\\n            <label for=\\\"thickness\\\">Épaisseur du trait</label>\\n            <mat-slider\\n                placeholder=\\\"Hex\\\"\\n                formControlName=\\\"thickness\\\"\\n                (input)=\\\"onSliderChange($event)\\\"\\n                [min]=\\\"THICKNESS.Min\\\"\\n                value=\\\"{{ lineAttributesForm.value.thickness }}\\\"\\n            ></mat-slider>\\n            <mat-form-field class=\\\"small\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    (focus)=\\\"onFocus()\\\"\\n                    (focusout)=\\\"onFocusOut()\\\"\\n                    matInput\\n                    type=\\\"number\\\"\\n                    formControlName=\\\"thickness\\\"\\n                    (input)=\\\"onThicknessChange()\\\"\\n                    [min]=\\\"THICKNESS.Min\\\"\\n                    [max]=\\\"THICKNESS.Max\\\"\\n                />\\n                <mat-error>La valeur inscrite doit être entre {{ THICKNESS.Min }} et {{ THICKNESS.Max }} px</mat-error>\\n                <span matSuffix>px</span>\\n            </mat-form-field>\\n\\n            <mat-form-field>\\n                <mat-label>\\n                    Style de trait\\n                </mat-label>\\n                <mat-select\\n                    formControlName=\\\"lineStrokeType\\\"\\n                    (selectionChange)=\\\"onLineStrokeTypeChange($event.value)\\\"\\n                    [(value)]=\\\"selected\\\"\\n                    [ngClass]=\\\"selected ? 'strokeType' + selected : 'strokeType1'\\\"\\n                >\\n                    <mat-option *ngFor=\\\"let strokeType of LineStrokeTypeChoices\\\" [value]=\\\"strokeType\\\">\\n                        {{ strokeType }}\\n                        <img height=\\\"40\\\" src=\\\"/assets/strokeType{{ strokeType }}.png\\\" />\\n                    </mat-option>\\n                </mat-select>\\n            </mat-form-field>\\n\\n            <mat-form-field>\\n                <mat-label>\\n                    Style de Jointure\\n                </mat-label>\\n                <mat-select formControlName=\\\"lineJointType\\\" (selectionChange)=\\\"onLineJointTypeChange($event.value)\\\">\\n                    <mat-option [value]=\\\"1\\\">\\n                        1 - Arrondi\\n                    </mat-option>\\n                    <mat-option [value]=\\\"2\\\">\\n                        2 - Angle\\n                    </mat-option>\\n                    <mat-option [value]=\\\"3\\\">\\n                        3 - Cercle\\n                    </mat-option>\\n                </mat-select>\\n            </mat-form-field>\\n\\n            <div *ngIf=\\\"circleJointSelected\\\">\\n                <label for=\\\"thickness\\\">Diamètre des cercles</label>\\n                <mat-slider\\n                    placeholder=\\\"Hex\\\"\\n                    formControlName=\\\"circleJointDiameter\\\"\\n                    (input)=\\\"onCircleJointSliderChange($event)\\\"\\n                    [min]=\\\"THICKNESS.Min\\\"\\n                    value=\\\"{{ lineAttributesForm.value.circleJointDiameter }}\\\"\\n                ></mat-slider>\\n                <mat-form-field class=\\\"small\\\">\\n                    <input\\n                        autocomplete=\\\"off\\\"\\n                        (focus)=\\\"onFocus()\\\"\\n                        (focusout)=\\\"onFocusOut()\\\"\\n                        matInput\\n                        type=\\\"number\\\"\\n                        formControlName=\\\"circleJointDiameter\\\"\\n                        (input)=\\\"onCircleJointDiameterChange()\\\"\\n                        [min]=\\\"THICKNESS.Min\\\"\\n                        [max]=\\\"THICKNESS.Max\\\"\\n                    />\\n                    <mat-error\\n                        >La valeur inscrite doit être entre {{ THICKNESS.Min }} et {{ THICKNESS.Max }} px</mat-error\\n                    >\\n                    <span matSuffix>px</span>\\n                </mat-form-field>\\n            </div>\\n        </div>\\n    </form>\\n</div>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div id=\\\"attribute-header\\\">\\n        {{ toolName }}\\n    </div>\\n\\n    <form [formGroup]=\\\"magnetismAttributesForm\\\">\\n        <div class=\\\"attribute\\\">\\n            <label for=\\\"activateMagnetism\\\">\\n                Activer le magnétisme\\n                <i\\n                    class=\\\"fas fa-info-circle\\\"\\n                    matTooltip=\\\"Appuyez sur 'M' comme raccourci\\\"\\n                    matTooltipPosition=\\\"after\\\"\\n                ></i>\\n            </label>\\n            <br />\\n            <mat-slide-toggle formControlName=\\\"state\\\" [checked]=\\\"onStateChange()\\\" color=\\\"primary\\\"></mat-slide-toggle>\\n        </div>\\n\\n        <div class=\\\"attribute\\\">\\n            <label for=\\\"controlPoint\\\">Sélection du point d'ancrage</label>\\n            <div>\\n                <br />\\n                <mat-button-toggle-group>\\n                    <mat-button-toggle\\n                        *ngFor=\\\"let TOP_MAGNETISM_POINT of TOP_CONTROL_POINTS\\\"\\n                        [value]=\\\"TOP_MAGNETISM_POINT.point\\\"\\n                        [checked]=\\\"this.magnetismService.currentPoint === TOP_MAGNETISM_POINT.point\\\"\\n                        (click)=\\\"setMagnetismPoint(TOP_MAGNETISM_POINT.point)\\\"\\n                        ><img src=\\\"{{ TOP_MAGNETISM_POINT.img_src }}\\\"\\n                    /></mat-button-toggle>\\n                </mat-button-toggle-group>\\n            </div>\\n\\n            <div>\\n                <mat-button-toggle-group>\\n                    <mat-button-toggle\\n                        *ngFor=\\\"let CENTER_MAGNETISM_POINT of CENTER_CONTROL_POINTS\\\"\\n                        [value]=\\\"CENTER_MAGNETISM_POINT.point\\\"\\n                        [checked]=\\\"this.magnetismService.currentPoint === CENTER_MAGNETISM_POINT.point\\\"\\n                        (click)=\\\"setMagnetismPoint(CENTER_MAGNETISM_POINT.point)\\\"\\n                        ><img src=\\\"{{ CENTER_MAGNETISM_POINT.img_src }}\\\"\\n                    /></mat-button-toggle>\\n                </mat-button-toggle-group>\\n            </div>\\n\\n            <div>\\n                <mat-button-toggle-group>\\n                    <mat-button-toggle\\n                        *ngFor=\\\"let BOTTOM_MAGNETISM_POINT of BOTTOM_CONTROL_POINTS\\\"\\n                        [value]=\\\"BOTTOM_MAGNETISM_POINT.point\\\"\\n                        [checked]=\\\"this.magnetismService.currentPoint === BOTTOM_MAGNETISM_POINT.point\\\"\\n                        (click)=\\\"setMagnetismPoint(BOTTOM_MAGNETISM_POINT.point)\\\"\\n                        ><img src=\\\"{{ BOTTOM_MAGNETISM_POINT.img_src }}\\\"\\n                    /></mat-button-toggle>\\n                </mat-button-toggle-group>\\n            </div>\\n        </div>\\n    </form>\\n</div>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div id=\\\"attribute-header\\\">\\n        {{ toolName }}\\n    </div>\\n\\n    <form [formGroup]=\\\"penAttributesForm\\\">\\n        <div class=\\\"attribute\\\">\\n            <label for=\\\"maxThickness\\\">Épaisseur du trait maximum</label>\\n            <mat-slider\\n                placeholder=\\\"Hex\\\"\\n                formControlName=\\\"maxThickness\\\"\\n                (input)=\\\"onMaxSliderChange($event)\\\"\\n                [min]=\\\"THICKNESS.Min\\\"\\n                value=\\\"{{ penAttributesForm.value.maxThickness }}\\\"\\n            ></mat-slider>\\n            <mat-form-field class=\\\"small\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    (focus)=\\\"onFocus()\\\"\\n                    (focusout)=\\\"onFocusOut()\\\"\\n                    matInput\\n                    type=\\\"number\\\"\\n                    formControlName=\\\"maxThickness\\\"\\n                    (input)=\\\"onMaxThicknessChange()\\\"\\n                    [min]=\\\"THICKNESS.Min\\\"\\n                    [max]=\\\"THICKNESS.Max\\\"\\n                />\\n                <mat-error>La valeur inscrite doit être entre {{ THICKNESS.Min }} et {{ THICKNESS.Max }} px</mat-error>\\n                <span matSuffix>px</span>\\n            </mat-form-field>\\n        </div>\\n\\n        <div class=\\\"attribute\\\">\\n            <label for=\\\"minThickness\\\">Épaisseur du trait minimum</label>\\n            <mat-slider\\n                placeholder=\\\"Hex\\\"\\n                formControlName=\\\"minThickness\\\"\\n                (input)=\\\"onMinSliderChange($event)\\\"\\n                [min]=\\\"THICKNESS.Min\\\"\\n                [max]=\\\"penAttributesForm.value.maxThickness\\\"\\n                value=\\\"{{ penAttributesForm.value.minThickness }}\\\"\\n            ></mat-slider>\\n            <mat-form-field class=\\\"small\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    (focus)=\\\"onFocus()\\\"\\n                    (focusout)=\\\"onFocusOut()\\\"\\n                    matInput\\n                    type=\\\"number\\\"\\n                    formControlName=\\\"minThickness\\\"\\n                    (input)=\\\"onMinThicknessChange()\\\"\\n                    [value]=\\\"penAttributesForm.value.minThickness\\\"\\n                    [min]=\\\"THICKNESS.Min\\\"\\n                    [max]=\\\"penAttributesForm.value.maxThickness\\\"\\n                />\\n                <mat-error\\n                    >La valeur inscrite doit être entre {{ THICKNESS.Min }} et\\n                    {{ penAttributesForm.value.maxThickness }} px</mat-error\\n                >\\n                <span matSuffix>px</span>\\n            </mat-form-field>\\n        </div>\\n    </form>\\n</div>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div id=\\\"attribute-header\\\">\\n        {{ toolName }}\\n    </div>\\n\\n    <form [formGroup]=\\\"pencilAttributesForm\\\">\\n        <div class=\\\"attribute\\\">\\n            <label for=\\\"thickness\\\">Épaisseur du trait</label>\\n            <mat-slider\\n                placeholder=\\\"Hex\\\"\\n                formControlName=\\\"thickness\\\"\\n                (input)=\\\"onSliderChange($event)\\\"\\n                [min]=\\\"THICKNESS.Min\\\"\\n                value=\\\"{{ pencilAttributesForm.value.thickness }}\\\"\\n            ></mat-slider>\\n            <mat-form-field class=\\\"small\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    (focus)=\\\"onFocus()\\\"\\n                    (focusout)=\\\"onFocusOut()\\\"\\n                    matInput\\n                    type=\\\"number\\\"\\n                    formControlName=\\\"thickness\\\"\\n                    (input)=\\\"onThicknessChange()\\\"\\n                    [min]=\\\"THICKNESS.Min\\\"\\n                    [max]=\\\"THICKNESS.Max\\\"\\n                />\\n                <mat-error>La valeur inscrite doit être entre {{ THICKNESS.Min }} et {{ THICKNESS.Max }} px</mat-error>\\n                <span matSuffix>px</span>\\n            </mat-form-field>\\n        </div>\\n    </form>\\n</div>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div id=\\\"attribute-header\\\">{{ toolName }} : {{ polygonFormType.get(polygonAttributesForm.value.nbVertices) }}</div>\\n\\n    <form [formGroup]=\\\"polygonAttributesForm\\\">\\n        <div class=\\\"attribute\\\">\\n            <div id=\\\"thickness\\\">\\n                <label for=\\\"thickness\\\">Épaisseur du trait</label>\\n                <mat-slider\\n                    formControlName=\\\"thickness\\\"\\n                    (input)=\\\"onThicknessSliderChange($event)\\\"\\n                    [min]=\\\"thickness.Min\\\"\\n                    value=\\\"{{ polygonAttributesForm.value.thickness }}\\\"\\n                ></mat-slider>\\n                <mat-form-field class=\\\"small\\\">\\n                    <input\\n                        autocomplete=\\\"off\\\"\\n                        (focus)=\\\"onFocus()\\\"\\n                        (focusout)=\\\"onFocusOut()\\\"\\n                        matInput\\n                        type=\\\"number\\\"\\n                        formControlName=\\\"thickness\\\"\\n                        (input)=\\\"onThicknessChange()\\\"\\n                        [min]=\\\"thickness.Min\\\"\\n                        [max]=\\\"thickness.Max\\\"\\n                    />\\n                    <mat-error\\n                        >La valeur inscrite doit être entre {{ thickness.Min }} et {{ thickness.Max }} px</mat-error\\n                    >\\n                    <span matSuffix>px</span>\\n                </mat-form-field>\\n            </div>\\n            <div id=\\\"traceType\\\">\\n                <label for=\\\"traceType\\\">Type de tracé</label>\\n                <mat-form-field>\\n                    <mat-select formControlName=\\\"traceType\\\" (selectionChange)=\\\"onTraceTypeChange()\\\">\\n                        <mat-option value=\\\"Contour\\\">Contour</mat-option>\\n                        <mat-option value=\\\"Plein\\\">Plein</mat-option>\\n                        <mat-option value=\\\"Plein avec contour\\\">Plein avec contour</mat-option>\\n                    </mat-select>\\n                </mat-form-field>\\n            </div>\\n            <div id=\\\"nbVertices\\\">\\n                <label for=\\\"nbVertices\\\">Nombre de côtés</label>\\n                <mat-slider\\n                    formControlName=\\\"nbVertices\\\"\\n                    (input)=\\\"onNbVerticesSliderChange($event)\\\"\\n                    [min]=\\\"polygonSides.Min\\\"\\n                    [max]=\\\"polygonSides.Max\\\"\\n                    value=\\\"{{ polygonAttributesForm.value.nbVertices }}\\\"\\n                ></mat-slider>\\n                <mat-form-field class=\\\"small-polygon\\\">\\n                    <input\\n                        autocomplete=\\\"off\\\"\\n                        (focus)=\\\"onFocus()\\\"\\n                        (focusout)=\\\"onFocusOut()\\\"\\n                        matInput\\n                        type=\\\"number\\\"\\n                        formControlName=\\\"nbVertices\\\"\\n                        (input)=\\\"onNbVerticesChange()\\\"\\n                        [min]=\\\"polygonSides.Min\\\"\\n                        [max]=\\\"polygonSides.Max\\\"\\n                    />\\n                    <mat-error>\\n                        La valeur inscrite doit être entre {{ polygonSides.Min }} et\\n                        {{ polygonSides.Max }} côtés</mat-error\\n                    >\\n                    <span matSuffix>côtés</span>\\n                </mat-form-field>\\n            </div>\\n        </div>\\n    </form>\\n</div>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n  <div id=\\\"attribute-header\\\">\\n      {{ toolName }}\\n  </div>\\n\\n  <form [formGroup]=\\\"quillAttributesForm\\\">\\n      <div class=\\\"attribute\\\">\\n          <label for=\\\"thickness\\\">Longueur du trait</label>\\n          <mat-slider\\n              formControlName=\\\"thickness\\\"\\n              (input)=\\\"onSliderChange($event)\\\"\\n              [min]=\\\"THICKNESS.Min\\\"\\n              [max]=\\\"THICKNESS.Max\\\"\\n              value=\\\"{{ quillAttributesForm.value.thickness }}\\\"\\n          ></mat-slider>\\n          <mat-form-field class=\\\"small\\\">\\n              <input\\n                  autocomplete=\\\"off\\\"\\n                  (focus)=\\\"onFocus()\\\"\\n                  (focusout)=\\\"onFocusOut()\\\"\\n                  matInput\\n                  type=\\\"number\\\"\\n                  formControlName=\\\"thickness\\\"\\n                  (input)=\\\"onThicknessChange()\\\"\\n                  [min]=\\\"THICKNESS.Min\\\"\\n                  [max]=\\\"THICKNESS.Max\\\"\\n              />\\n              <mat-error>La valeur inscrite doit être entre {{ THICKNESS.Min }} et {{ THICKNESS.Max }} px</mat-error>\\n              <span matSuffix>px</span>\\n          </mat-form-field>\\n      </div>\\n\\n      <div class=\\\"attribute\\\">\\n          <label>Angle courant</label>\\n          <mat-form-field id=\\\"angle-attribute\\\">\\n              <input\\n                  autocomplete=\\\"off\\\"\\n                  (focus)=\\\"onFocus()\\\"\\n                  (focusout)=\\\"onFocusOut()\\\"\\n                  matInput\\n                  type=\\\"number\\\"\\n                  formControlName=\\\"angle\\\"\\n                  (input)=\\\"onAngleChange()\\\"\\n                  [value]=\\\"quillToolService.angle\\\"\\n                  [min]=\\\"QUILL_ANGLE_ORIENTATION.Min\\\"\\n                  [max]=\\\"QUILL_ANGLE_ORIENTATION.Max\\\"\\n              />\\n              <mat-error\\n                  >La valeur inscrite doit être entre {{ QUILL_ANGLE_ORIENTATION.Min }} et\\n                  {{ QUILL_ANGLE_ORIENTATION.Max }} degrés</mat-error\\n              >\\n              <span matSuffix>degré(s)</span>\\n          </mat-form-field>\\n      </div>\\n  </form>\\n</div>\"","module.exports = \"<div id=\\\"container\\\">\\n    <div id=\\\"attribute-header\\\">\\n        {{ toolName }}\\n    </div>\\n\\n    <form [formGroup]=\\\"rectangleAttributesForm\\\">\\n        <div class=\\\"attribute\\\">\\n            <label for=\\\"thickness\\\">Épaisseur du trait</label>\\n            <mat-slider\\n                placeholder=\\\"Hex\\\"\\n                formControlName=\\\"thickness\\\"\\n                (input)=\\\"onSliderChange($event)\\\"\\n                [min]=\\\"thickness.Min\\\"\\n                value=\\\"{{ rectangleAttributesForm.value.thickness }}\\\"\\n            ></mat-slider>\\n            <mat-form-field class=\\\"small\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    (focus)=\\\"onFocus()\\\"\\n                    (focusout)=\\\"onFocusOut()\\\"\\n                    matInput\\n                    type=\\\"number\\\"\\n                    formControlName=\\\"thickness\\\"\\n                    (input)=\\\"onThicknessChange()\\\"\\n                    [min]=\\\"thickness.Min\\\"\\n                    [max]=\\\"thickness.Max\\\"\\n                />\\n                <mat-error>La valeur inscrite doit être entre {{ thickness.Min }} et {{ thickness.Max }} px</mat-error>\\n                <span matSuffix>px</span>\\n            </mat-form-field>\\n        </div>\\n        <div id=\\\"attribute\\\">\\n            <label for=\\\"traceType\\\">Type de tracé</label>\\n            <mat-form-field>\\n                <mat-select formControlName=\\\"traceType\\\" (selectionChange)=\\\"onTraceTypeChange()\\\">\\n                    <mat-option value=\\\"Contour\\\">Contour</mat-option>\\n                    <mat-option value=\\\"Plein\\\">Plein</mat-option>\\n                    <mat-option value=\\\"Plein avec contour\\\">Plein avec contour</mat-option>\\n                </mat-select>\\n            </mat-form-field>\\n        </div>\\n    </form>\\n</div>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div id=\\\"attribute-header\\\">\\n        {{ toolName }}\\n    </div>\\n\\n    <p>\\n        Sélectionnez une forme en effectuant un glisser-déposer du clique gauche.\\n    </p>\\n    <p>\\n        Inversez la sélection en effectuant un glisser-déposer du clique droit.\\n    </p>\\n\\n    <div id=\\\"clipboard-options\\\">\\n        <p>\\n            Manipulation de sélection:\\n        </p>\\n        <mat-button-toggle-group horizontal=\\\"true\\\" id=\\\"clipboard-buttons\\\">\\n            <mat-button-toggle\\n                matTooltip=\\\"{{ SELECT_ALL_BUTTON.tooltipName }} {{ SELECT_ALL_BUTTON.shortcut }}\\\"\\n                matTooltipPosition=\\\"after\\\"\\n                (click)=\\\"onButtonTrigger(SELECT_ALL_BUTTON.tooltipName)\\\"\\n            >\\n                <i class=\\\"{{ SELECT_ALL_BUTTON.iconName }}\\\"></i>\\n            </mat-button-toggle>\\n            <mat-button-toggle\\n                matTooltip=\\\"{{ PASTE_BUTTON.tooltipName }} {{ PASTE_BUTTON.shortcut }}\\\"\\n                matTooltipPosition=\\\"after\\\"\\n                (click)=\\\"onButtonTrigger(PASTE_BUTTON.tooltipName)\\\"\\n                [class.disabled]=\\\"isClippingsEmpty\\\"\\n                [disabled]=\\\"isClippingsEmpty\\\"\\n            >\\n                <i *ngIf=\\\"!isClippingsEmpty; else inactive_paste\\\" class=\\\"{{ PASTE_BUTTON.iconName }}\\\"></i>\\n                <ng-template #inactive_paste\\n                    ><i style=\\\"color:grey;\\\" class=\\\"{{ PASTE_BUTTON.iconName }}\\\"></i\\n                ></ng-template>\\n            </mat-button-toggle>\\n            <mat-button-toggle\\n                *ngFor=\\\"let CLIPBOARD_BUTTON of CLIPBOARD_BUTTONS\\\"\\n                matTooltip=\\\"{{ CLIPBOARD_BUTTON.tooltipName }} {{ CLIPBOARD_BUTTON.shortcut }}\\\"\\n                matTooltipPosition=\\\"after\\\"\\n                (change)=\\\"onButtonTrigger(CLIPBOARD_BUTTON.tooltipName)\\\"\\n                [class.disabled]=\\\"!isActiveSelection\\\"\\n                [disabled]=\\\"!isActiveSelection\\\"\\n            >\\n                <i *ngIf=\\\"isActiveSelection; else inactive_icon\\\" class=\\\"{{ CLIPBOARD_BUTTON.iconName }}\\\"></i>\\n                <ng-template #inactive_icon\\n                    ><i style=\\\"color:grey;\\\" class=\\\"{{ CLIPBOARD_BUTTON.iconName }}\\\"></i\\n                ></ng-template>\\n            </mat-button-toggle>\\n        </mat-button-toggle-group>\\n    </div>\\n</div>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div id=\\\"attribute-header\\\">\\n        {{ toolName }}\\n    </div>\\n\\n    <form [formGroup]=\\\"sprayCanAttributesForm\\\">\\n        <div class=\\\"attribute\\\">\\n            <label for=\\\"thickness\\\">Épaisseur des particules</label>\\n            <mat-slider\\n                formControlName=\\\"thickness\\\"\\n                (input)=\\\"onThicknessSliderChange($event)\\\"\\n                [min]=\\\"THICKNESS.Min\\\"\\n                [max]=\\\"THICKNESS.Max\\\"\\n                value=\\\"{{ sprayCanAttributesForm.value.thickness }}\\\"\\n            ></mat-slider>\\n            <mat-form-field class=\\\"small\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    (focus)=\\\"onFocus()\\\"\\n                    (focusout)=\\\"onFocusOut()\\\"\\n                    matInput\\n                    type=\\\"number\\\"\\n                    formControlName=\\\"thickness\\\"\\n                    (input)=\\\"onThicknessChange()\\\"\\n                    [min]=\\\"THICKNESS.Min\\\"\\n                    [max]=\\\"THICKNESS.Max\\\"\\n                />\\n                <mat-error>La valeur inscrite doit être entre {{ THICKNESS.Min }} et {{ THICKNESS.Max }} px</mat-error>\\n                <span matSuffix>px</span>\\n            </mat-form-field>\\n        </div>\\n\\n        <div class=\\\"attribute\\\">\\n            <label for=\\\"diameter\\\">Diamètre de l'émission</label>\\n            <mat-slider\\n                formControlName=\\\"diameter\\\"\\n                (input)=\\\"onDiameterSliderChange($event)\\\"\\n                [min]=\\\"DIAMETER.Min\\\"\\n                [max]=\\\"DIAMETER.Max\\\"\\n                value=\\\"{{ sprayCanAttributesForm.value.diameter }}\\\"\\n            ></mat-slider>\\n            <mat-form-field class=\\\"small\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    (focus)=\\\"onFocus()\\\"\\n                    (focusout)=\\\"onFocusOut()\\\"\\n                    matInput\\n                    type=\\\"number\\\"\\n                    formControlName=\\\"diameter\\\"\\n                    (input)=\\\"onDiameterChange()\\\"\\n                    [min]=\\\"DIAMETER.Min\\\"\\n                    [max]=\\\"DIAMETER.Max\\\"\\n                />\\n                <mat-error>La valeur inscrite doit être entre {{ DIAMETER.Min }} et {{ DIAMETER.Max }} px</mat-error>\\n                <span matSuffix>px</span>\\n            </mat-form-field>\\n        </div>\\n\\n        <div class=\\\"attribute\\\">\\n            <label for=\\\"diameter\\\">Intervalle des émissions</label>\\n            <mat-slider\\n                formControlName=\\\"interval\\\"\\n                (input)=\\\"onIntervalSliderChange($event)\\\"\\n                [min]=\\\"INTERVAL.Min\\\"\\n                [max]=\\\"INTERVAL.Max\\\"\\n                value=\\\"{{ sprayCanAttributesForm.value.interval }}\\\"\\n            ></mat-slider>\\n            <mat-form-field id=\\\"intervalInput\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    (focus)=\\\"onFocus()\\\"\\n                    (focusout)=\\\"onFocusOut()\\\"\\n                    matInput\\n                    type=\\\"number\\\"\\n                    formControlName=\\\"interval\\\"\\n                    (input)=\\\"onIntervalChange()\\\"\\n                    [min]=\\\"INTERVAL.Min\\\"\\n                    [max]=\\\"INTERVAL.Max\\\"\\n                />\\n                <mat-error>La valeur inscrite doit être entre {{ INTERVAL.Min }} et {{ INTERVAL.Max }} ms</mat-error>\\n                <span matSuffix>ms</span>\\n            </mat-form-field>\\n        </div>\\n    </form>\\n</div>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div id=\\\"attribute-header\\\">\\n        {{ toolName }}\\n    </div>\\n\\n    <form [formGroup]=\\\"stampAttributesForm\\\">\\n        <div class=\\\"attribute\\\">\\n            <label>Mise à échelle</label>\\n            <mat-slider\\n                placeholder=\\\"value\\\"\\n                formControlName=\\\"scaling\\\"\\n                (input)=\\\"onSliderChange($event)\\\"\\n                [min]=\\\"STAMP_SCALING.Min\\\"\\n                [max]=\\\"STAMP_SCALING.Max\\\"\\n                step=\\\"0.1\\\"\\n                value=\\\"{{ stampAttributesForm.value.scaling }}\\\"\\n            ></mat-slider>\\n\\n            <mat-form-field class=\\\"small\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    (focus)=\\\"onFocus()\\\"\\n                    (focusout)=\\\"onFocusOut()\\\"\\n                    matInput\\n                    type=\\\"number\\\"\\n                    formControlName=\\\"scaling\\\"\\n                    (input)=\\\"onScalingChange()\\\"\\n                    [min]=\\\"STAMP_SCALING.Min\\\"\\n                    [max]=\\\"STAMP_SCALING.Max\\\"\\n                />\\n                <mat-error\\n                    >La valeur inscrite doit être entre {{ STAMP_SCALING.Min }} et {{ STAMP_SCALING.Max }}</mat-error\\n                >\\n            </mat-form-field>\\n        </div>\\n\\n        <div class=\\\"attribute\\\">\\n            <label>Angle courant</label>\\n            <mat-form-field id=\\\"angle-attribute\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    (focus)=\\\"onFocus()\\\"\\n                    (focusout)=\\\"onFocusOut()\\\"\\n                    matInput\\n                    type=\\\"number\\\"\\n                    formControlName=\\\"angle\\\"\\n                    (input)=\\\"onAngleChange()\\\"\\n                    [value]=\\\"stampToolService.angle\\\"\\n                    [min]=\\\"STAMP_ANGLE_ORIENTATION.Min\\\"\\n                    [max]=\\\"STAMP_ANGLE_ORIENTATION.Max\\\"\\n                />\\n                <mat-error\\n                    >La valeur inscrite doit être entre {{ STAMP_ANGLE_ORIENTATION.Min }} et\\n                    {{ STAMP_ANGLE_ORIENTATION.Max }} degrés</mat-error\\n                >\\n                <span matSuffix>degré(s)</span>\\n            </mat-form-field>\\n        </div>\\n\\n        <div class=\\\"attribute\\\">\\n            <mat-form-field>\\n                <mat-label>Type d'étampe </mat-label>\\n                <mat-select\\n                    formControlName=\\\"stampType\\\"\\n                    (selectionChange)=\\\"onStampTypeChange()\\\"\\n                    [(value)]=\\\"selected\\\"\\n                    [ngClass]=\\\"selected ? 'class-' + selected : 'class-NoStamp'\\\"\\n                >\\n                    <mat-option *ngFor=\\\"let stamp of STAMP_TYPES; let i = index\\\" [value]=\\\"i\\\">\\n                        {{ STAMP_NAMES[i] }}\\n                        <img height=\\\"30\\\" src=\\\"{{ STAMP_TYPES[i] }}\\\" />\\n                    </mat-option>\\n                </mat-select>\\n            </mat-form-field>\\n        </div>\\n    </form>\\n</div>\\n\"","module.exports = \"<div id=\\\"container\\\">\\n    <div id=\\\"attribute-header\\\">\\n        {{ toolName }}\\n    </div>\\n\\n    <form [formGroup]=\\\"textAttributesForm\\\">\\n        <div class=\\\"attribute\\\">\\n            <mat-form-field>\\n                <mat-select\\n                    formControlName=\\\"font\\\"\\n                    (selectionChange)=\\\"onFontChange()\\\"\\n                    [ngStyle]=\\\"{ 'font-family': getCurrentFont() }\\\"\\n                    (keydown)=\\\"$event.stopPropagation()\\\"\\n                >\\n                    <mat-option\\n                        *ngFor=\\\"let FONT of FONTS\\\"\\n                        [ngStyle]=\\\"{ 'font-family': FONT.fontFamily }\\\"\\n                        value=\\\"{{ FONT.fontFamily }}\\\"\\n                    >\\n                        {{ FONT.fontName }}\\n                    </mat-option>\\n                </mat-select>\\n            </mat-form-field>\\n            <mat-form-field id=\\\"small\\\">\\n                <input\\n                    autocomplete=\\\"off\\\"\\n                    (focus)=\\\"onFocus()\\\"\\n                    (focusout)=\\\"onFocusOut()\\\"\\n                    matInput\\n                    type=\\\"number\\\"\\n                    formControlName=\\\"fontSize\\\"\\n                    (input)=\\\"onFontSizeChange()\\\"\\n                    [min]=\\\"fontSize.Min\\\"\\n                    [max]=\\\"fontSize.Max\\\"\\n                    (keydown)=\\\"$event.stopPropagation()\\\"\\n                />\\n                <mat-error>La valeur inscrite doit être entre {{ fontSize.Min }} et {{ fontSize.Max }} </mat-error>\\n            </mat-form-field>\\n\\n            <br />\\n            <mat-button-toggle-group formControlName=\\\"align\\\" (click)=\\\"onAlignChange()\\\">\\n                <mat-button-toggle matTooltip=\\\"Aligner à gauche\\\" value=\\\"start\\\"\\n                    ><i class=\\\"fas fa-align-left\\\"></i\\n                ></mat-button-toggle>\\n\\n                <mat-button-toggle matTooltip=\\\"Aligner au centre\\\" value=\\\"middle\\\"\\n                    ><i class=\\\"fas fa-align-center\\\"></i\\n                ></mat-button-toggle>\\n\\n                <mat-button-toggle matTooltip=\\\"Aligner à droite\\\" value=\\\"end\\\"\\n                    ><i class=\\\"fas fa-align-right\\\"></i\\n                ></mat-button-toggle>\\n            </mat-button-toggle-group>\\n\\n            <mat-button-toggle matTooltip=\\\"Gras\\\" (click)=\\\"onBoldChange()\\\"\\n                ><i class=\\\"fas fa-bold\\\"></i\\n            ></mat-button-toggle>\\n\\n            <mat-button-toggle matTooltip=\\\"Italique\\\" (click)=\\\"onItalicChange()\\\"\\n                ><i class=\\\"fas fa-italic\\\"></i\\n            ></mat-button-toggle>\\n        </div>\\n    </form>\\n</div>\\n\"","module.exports = \"<div id=\\\"sidebar\\\">\\n    <div id=\\\"tools-buttons\\\">\\n        <mat-button-toggle-group vertical=\\\"true\\\" value=\\\"Sélection\\\">\\n            <mat-button-toggle\\n                *ngFor=\\\"let TOOL_BUTTON_INFO of TOOLS_BUTTON_INFO; let i = index\\\"\\n                matTooltip=\\\"{{ TOOL_BUTTON_INFO.tooltipName }} {{ TOOL_BUTTON_INFO.shortcut }}\\\"\\n                matTooltipPosition=\\\"after\\\"\\n                (click)=\\\"onChangeTool(i)\\\"\\n                (contextmenu)=\\\"onRightClick(i)\\\"\\n                value=\\\"{{ TOOL_BUTTON_INFO.tooltipName }}\\\"\\n                [checked]=\\\"getChecked(i)\\\"\\n            >\\n                <img\\n                    *ngIf=\\\"i === TRACING_TOOL_POSITION || i === SHAPE_TOOL_POSITION\\\"\\n                    src=\\\"../../../assets/triangle.png\\\"\\n                />\\n                <i *ngIf=\\\"i === TRACING_TOOL_POSITION\\\" [ngClass]=\\\"getTracingToolClass()\\\"> </i>\\n                <i *ngIf=\\\"i === SHAPE_TOOL_POSITION\\\" [ngClass]=\\\"getShapeToolClass()\\\"> </i>\\n                <i\\n                    *ngIf=\\\"i !== TRACING_TOOL_POSITION && i !== SHAPE_TOOL_POSITION\\\"\\n                    class=\\\"{{ TOOL_BUTTON_INFO.iconName }}\\\"\\n                >\\n                </i>\\n            </mat-button-toggle>\\n        </mat-button-toggle-group>\\n\\n        <mat-button-toggle-group vertical=\\\"true\\\" id=\\\"file-buttons\\\">\\n            <mat-button-toggle\\n                *ngFor=\\\"let FILE_BUTTON_INFO of FILES_BUTTON_INFO\\\"\\n                matTooltip=\\\"{{ FILE_BUTTON_INFO.tooltipName }} {{ FILE_BUTTON_INFO.shortcut }}\\\"\\n                matTooltipPosition=\\\"after\\\"\\n                (click)=\\\"onChangeFileTool(FILE_BUTTON_INFO.tooltipName)\\\"\\n                [disabled]=\\\"checkIfCantUndoRedo(FILE_BUTTON_INFO.tooltipName)\\\"\\n            >\\n                <i\\n                    [style.color]=\\\"checkIfCantUndoRedo(FILE_BUTTON_INFO.tooltipName) ? 'silver' : 'black'\\\"\\n                    class=\\\"{{ FILE_BUTTON_INFO.iconName }}\\\"\\n                ></i>\\n            </mat-button-toggle>\\n        </mat-button-toggle-group>\\n    </div>\\n    <app-attribute-panel (click)=\\\"onClickAttributePanel()\\\"></app-attribute-panel>\\n</div>\\n\\n<mat-button-toggle-group *ngIf=\\\"showTracingTools\\\" id=\\\"tracing-tools\\\">\\n    <mat-button-toggle\\n        *ngFor=\\\"let buttonInfo of TRACING_BUTTON_INFO\\\"\\n        matTooltip=\\\"{{ buttonInfo.tooltipName }} {{ buttonInfo.shortcut }}\\\"\\n        matTooltipPosition=\\\"above\\\"\\n        (click)=\\\"onChangeTracingTool(buttonInfo.tooltipName)\\\"\\n        value=\\\"{{ buttonInfo.tooltipName }}\\\"\\n        [checked]=\\\"currentToolName === buttonInfo.tooltipName\\\"\\n    >\\n        <i class=\\\"{{ buttonInfo.iconName }}\\\"> </i>\\n    </mat-button-toggle>\\n</mat-button-toggle-group>\\n\\n<mat-button-toggle-group *ngIf=\\\"showShapeTools\\\" id=\\\"shape-tools\\\">\\n    <mat-button-toggle\\n        *ngFor=\\\"let buttonInfo of SHAPE_BUTTON_INFO\\\"\\n        matTooltip=\\\"{{ buttonInfo.tooltipName }} {{ buttonInfo.shortcut }}\\\"\\n        matTooltipPosition=\\\"above\\\"\\n        (click)=\\\"onChangeShapeTool(buttonInfo.tooltipName)\\\"\\n        value=\\\"{{ buttonInfo.tooltipName }}\\\"\\n        [checked]=\\\"currentToolName === buttonInfo.tooltipName\\\"\\n    >\\n        <i class=\\\"{{ buttonInfo.iconName }}\\\"> </i>\\n    </mat-button-toggle>\\n</mat-button-toggle-group>\\n\"","module.exports = \"<svg\\n    #svgpad\\n    [ngClass]=\\\"{ 'stop-scrolling': modalIsDisplayed }\\\"\\n    [attr.width]=\\\"drawingInfo.width + 'px'\\\"\\n    [attr.height]=\\\"drawingInfo.height + 'px'\\\"\\n    [ngStyle]=\\\"getCursorStyle()\\\"\\n>\\n    <rect (click)=\\\"onClickRectangle()\\\" />\\n</svg>\\n\\n<svg\\n    class=\\\"grid\\\"\\n    *ngIf=\\\"gridIsActive\\\"\\n    [ngClass]=\\\"{ 'stop-scrolling': modalIsDisplayed }\\\"\\n    [attr.width]=\\\"drawingInfo.width\\\"\\n    [attr.height]=\\\"drawingInfo.height\\\"\\n>\\n    <defs>\\n        <pattern id=\\\"smallGrid\\\" [attr.width]=\\\"gridSize\\\" [attr.height]=\\\"gridSize\\\" patternUnits=\\\"userSpaceOnUse\\\">\\n            <path\\n                d=\\\"M 200 0 L 0 0 0 200\\\"\\n                fill=\\\"none\\\"\\n                stroke=\\\"gray\\\"\\n                stroke-width=\\\"2\\\"\\n                [attr.stroke-opacity]=\\\"gridOpacity\\\"\\n            />\\n        </pattern>\\n        <pattern id=\\\"grid\\\" [attr.width]=\\\"gridSize\\\" [attr.height]=\\\"gridSize\\\" patternUnits=\\\"userSpaceOnUse\\\">\\n            <rect width=\\\"200\\\" height=\\\"200\\\" fill=\\\"url(#smallGrid)\\\" />\\n        </pattern>\\n    </defs>\\n    <rect\\n        class=\\\"grid\\\"\\n        [attr.height]=\\\"drawingInfo.height + 'px'\\\"\\n        [attr.width]=\\\"drawingInfo.width + 'px'\\\"\\n        fill=\\\"url(#grid)\\\"\\n    />\\n</svg>\\n\"","import { HttpClientModule } from '@angular/common/http';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppComponent } from './components/app/app.component';\n\n// *********** Angular Material ******************\nimport {\n    MatButtonModule,\n    MatButtonToggleModule,\n    MatCheckboxModule,\n    MatDialogModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatListModule,\n    MatRadioModule,\n    MatSelectModule,\n    MatSliderModule,\n    MatSlideToggleModule,\n    MatSnackBarModule,\n    MatTabsModule,\n    MatTooltipModule,\n} from '@angular/material';\n// ************************************************\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\n// *************** Services **********************\nimport { DrawingModalWindowService } from './services/drawing-modal-window/drawing-modal-window.service';\nimport { EventListenerService } from './services/event-listener/event-listener.service';\nimport { ColorToolService } from './services/tools/color-tool/color-tool.service';\nimport { ToolSelectorService } from './services/tools/tool-selector/tool-selector.service';\nimport { WelcomeModalWindowService } from './services/welcome-modal-window/welcome-modal-window.service';\n// ************************************************\n\nimport { AttributePanelComponent } from '@attribute-panel/attribute-panel.component';\nimport { BrushAttributesComponent } from '@attribute-panel/brush-attributes/brush-attributes.component';\nimport { ColorApplicatorAttributesComponent } from '@attribute-panel/color-applicator-attributes/color-applicator-attributes.component';\nimport { ColorAttributesComponent } from '@attribute-panel/color-attributes/color-attributes.component';\nimport { PencilAttributesComponent } from '@attribute-panel/pencil-attributes/pencil-attributes.component';\nimport { RectangleAttributesComponent } from '@attribute-panel/rectangle-attributes/rectangle-attributes.component';\nimport { LabelFilter } from '../classes/pipes/labelFilter';\nimport { MySlice } from '../classes/pipes/mySlice';\nimport { NameFilter } from '../classes/pipes/nameFilter';\nimport { ToTrustHtmlPipe } from '../classes/pipes/toTrustHtml';\nimport { ColorNumericValuesComponent } from './components/color-palette/color-numeric-values/color-numeric-values.component';\nimport { ColorPaletteComponent } from './components/color-palette/color-palette.component';\nimport { ColorPickerComponent } from './components/color-palette/color-picker/color-picker.component';\nimport { ColorQueueComponent } from './components/color-palette/color-queue/color-queue.component';\nimport { DrawingModalWindowComponent } from './components/modal-windows/drawing-modal-window/drawing-modal-window.component';\n// tslint:disable-next-line: max-line-length\nimport { ExportFileModalWindowComponent } from './components/modal-windows/export-file-modal-window/export-file-modal-window.component';\nimport { OpenFileModalWindowComponent } from './components/modal-windows/open-file-modal-window/open-file-modal-window.component';\nimport { SaveFileModalWindowComponent } from './components/modal-windows/save-file-modal-window/save-file-modal-window.component';\nimport { WelcomeModalWindowComponent } from './components/modal-windows/welcome-modal-window/welcome-modal-window.component';\nimport { DropperAttributesComponent } from './components/sidebar-tools/attribute-panel/dropper-attributes/dropper-attributes.component';\nimport { EllipsisAttributesComponent } from './components/sidebar-tools/attribute-panel/ellipsis-attributes/ellipsis-attributes.component';\nimport { EraserAttributesComponent } from './components/sidebar-tools/attribute-panel/eraser-attributes/eraser-attributes.component';\nimport { FillAttributesComponent } from './components/sidebar-tools/attribute-panel/fill-attributes/fill-attributes.component';\nimport { GridAttributesComponent } from './components/sidebar-tools/attribute-panel/grid-attributes/grid-attributes.component';\nimport { LineAttributesComponent } from './components/sidebar-tools/attribute-panel/line-attributes/line-attributes.component';\n// tslint:disable-next-line: max-line-length\nimport { MagnetismAttributesComponent } from './components/sidebar-tools/attribute-panel/magnetism-attributes/magnetism-attributes.component';\nimport { PenAttributesComponent } from './components/sidebar-tools/attribute-panel/pen-attributes/pen-attributes.component';\nimport { PolygonAttributesComponent } from './components/sidebar-tools/attribute-panel/polygon-attributes/polygon-attributes.component';\nimport { QuillAttributesComponent } from './components/sidebar-tools/attribute-panel/quill-attributes/quill-attributes.component';\n// tslint:disable-next-line: max-line-length\nimport { SelectionAttributesComponent } from './components/sidebar-tools/attribute-panel/selection-attributes/selection-attributes.component';\n// tslint:disable-next-line: max-line-length\nimport { SprayCanAttributesComponent } from './components/sidebar-tools/attribute-panel/spray-can-attributes/spray-can-attributes.component';\nimport { StampAttributesComponent } from './components/sidebar-tools/attribute-panel/stamp-attributes/stamp-attributes.component';\nimport { TextAttributesComponent } from './components/sidebar-tools/attribute-panel/text-attributes/text-attributes.component';\nimport { SidebarToolsComponent } from './components/sidebar-tools/sidebar-tools.component';\nimport { WorkZoneComponent } from './components/work-zone/work-zone.component';\nimport { DrawStackService } from './services/draw-stack/draw-stack.service';\nimport { DrawingSaverService } from './services/server/drawing-saver/drawing-saver.service';\nimport { UndoRedoerService } from './services/undo-redoer/undo-redoer.service';\n\n@NgModule({\n    declarations: [\n        MySlice,\n        LabelFilter,\n        NameFilter,\n        ToTrustHtmlPipe,\n        AppComponent,\n        AttributePanelComponent,\n        WorkZoneComponent,\n        SidebarToolsComponent,\n        DrawingModalWindowComponent,\n        ColorPaletteComponent,\n        ColorPickerComponent,\n        WelcomeModalWindowComponent,\n        ColorQueueComponent,\n        PencilAttributesComponent,\n        RectangleAttributesComponent,\n        BrushAttributesComponent,\n        ColorAttributesComponent,\n        ColorApplicatorAttributesComponent,\n        ColorNumericValuesComponent,\n        OpenFileModalWindowComponent,\n        PolygonAttributesComponent,\n        GridAttributesComponent,\n        LineAttributesComponent,\n        StampAttributesComponent,\n        DropperAttributesComponent,\n        EllipsisAttributesComponent,\n        SaveFileModalWindowComponent,\n        SelectionAttributesComponent,\n        ExportFileModalWindowComponent,\n        PenAttributesComponent,\n        TextAttributesComponent,\n        EraserAttributesComponent,\n        FillAttributesComponent,\n        MagnetismAttributesComponent,\n        QuillAttributesComponent,\n        SprayCanAttributesComponent,\n    ],\n    imports: [\n        MatSliderModule,\n        MatCheckboxModule,\n        MatSnackBarModule,\n        MatDialogModule,\n        MatListModule,\n        MatRadioModule,\n        FormsModule,\n        ReactiveFormsModule,\n        MatInputModule,\n        MatButtonToggleModule,\n        MatButtonModule,\n        BrowserAnimationsModule,\n        BrowserModule,\n        HttpClientModule,\n        MatTooltipModule,\n        MatSelectModule,\n        MatTabsModule,\n        MatFormFieldModule,\n        MatSlideToggleModule,\n        MatSnackBarModule,\n    ],\n    entryComponents: [\n        WelcomeModalWindowComponent,\n        DrawingModalWindowComponent,\n        OpenFileModalWindowComponent,\n        SaveFileModalWindowComponent,\n        ExportFileModalWindowComponent,\n    ],\n    providers: [\n        ToolSelectorService,\n        DrawingModalWindowService,\n        WelcomeModalWindowService,\n        ColorToolService,\n        EventListenerService,\n        DrawStackService,\n        DrawingSaverService,\n        UndoRedoerService,\n    ],\n    bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, HostListener, OnInit } from '@angular/core';\nimport { MatDialog } from '@angular/material';\n\nimport { ModalManagerService } from 'src/app/services/modal-manager/modal-manager.service';\nimport { WelcomeModalWindowComponent } from '../../components/modal-windows/welcome-modal-window/welcome-modal-window.component';\nimport { ShortcutManagerService } from '../../services/shortcut-manager/shortcut-manager.service';\nimport { WelcomeModalWindowService } from '../../services/welcome-modal-window/welcome-modal-window.service';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.scss'],\n})\nexport class AppComponent implements OnInit {\n    displayWelcomeModalWindow = false;\n    modalIsDisplayed = false;\n    isOnInput = false;\n\n    constructor(\n        private welcomeModalWindowService: WelcomeModalWindowService,\n        private dialog: MatDialog,\n        private shortcutManagerService: ShortcutManagerService,\n        private modalManagerService: ModalManagerService,\n    ) {}\n\n    ngOnInit(): void {\n        this.modalManagerService.currentModalIsDisplayed.subscribe((modalIsDisplayed) => {\n            this.modalIsDisplayed = modalIsDisplayed;\n        });\n        this.shortcutManagerService.currentIsOnInput.subscribe((isOnInput: boolean) => {\n            this.isOnInput = isOnInput;\n        });\n        this.displayWelcomeModalWindow = this.welcomeModalWindowService.getValueFromLocalStorage();\n        if (!this.modalIsDisplayed) {\n            this.openWelcomeModalWindow();\n        }\n    }\n\n    openWelcomeModalWindow(): void {\n        if (this.displayWelcomeModalWindow) {\n            const dialogRef = this.dialog.open(WelcomeModalWindowComponent, {\n                panelClass: 'myapp-max-width-dialog',\n                disableClose: true,\n                autoFocus: false,\n            });\n            this.modalManagerService.setModalIsDisplayed(true);\n            dialogRef.afterClosed().subscribe((displayWelcomeModalWindow) => {\n                if (!displayWelcomeModalWindow) {\n                    displayWelcomeModalWindow = displayWelcomeModalWindow.toString();\n                    this.welcomeModalWindowService.setValueToLocalStorage(displayWelcomeModalWindow);\n                }\n                this.modalManagerService.setModalIsDisplayed(false);\n            });\n        }\n    }\n\n    shouldAllowShortcut(): boolean {\n        return !this.modalIsDisplayed && !this.isOnInput;\n    }\n\n    @HostListener('window:contextmenu', ['$event']) onRightClick(event: MouseEvent) {\n        event.preventDefault();\n    }\n}\n","module.exports = \".medium {\\n  margin-top: 20px;\\n  width: 100px;\\n}\\n\\n.small {\\n  margin: 0 5px;\\n  width: 50px;\\n}\\n\\n#form-inputs {\\n  margin-left: 40px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL2NvbG9yLXBhbGV0dGUvY29sb3ItbnVtZXJpYy12YWx1ZXMvY29sb3ItbnVtZXJpYy12YWx1ZXMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvY29sb3ItcGFsZXR0ZS9jb2xvci1udW1lcmljLXZhbHVlcy9jb2xvci1udW1lcmljLXZhbHVlcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0VBQ0EsWUFBQTtBQ0NKOztBRENBO0VBQ0ksYUFBQTtFQUNBLFdBQUE7QUNFSjs7QURDQTtFQUNJLGlCQUFBO0FDRUoiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2NvbG9yLXBhbGV0dGUvY29sb3ItbnVtZXJpYy12YWx1ZXMvY29sb3ItbnVtZXJpYy12YWx1ZXMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWVkaXVtIHtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgIHdpZHRoOiAxMDBweDtcbn1cbi5zbWFsbCB7XG4gICAgbWFyZ2luOiAwIDVweDtcbiAgICB3aWR0aDogNTBweDtcbn1cblxuI2Zvcm0taW5wdXRzIHtcbiAgICBtYXJnaW4tbGVmdDogNDBweDtcbn1cbiIsIi5tZWRpdW0ge1xuICBtYXJnaW4tdG9wOiAyMHB4O1xuICB3aWR0aDogMTAwcHg7XG59XG5cbi5zbWFsbCB7XG4gIG1hcmdpbjogMCA1cHg7XG4gIHdpZHRoOiA1MHB4O1xufVxuXG4jZm9ybS1pbnB1dHMge1xuICBtYXJnaW4tbGVmdDogNDBweDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\nimport { ShortcutManagerService } from 'src/app/services/shortcut-manager/shortcut-manager.service';\nimport { ColorToolService } from 'src/app/services/tools/color-tool/color-tool.service';\nimport { DEFAULT_WHITE } from '../../../../constants/color-constants';\n\n@Component({\n    selector: 'app-color-numeric-values',\n    templateUrl: './color-numeric-values.component.html',\n    styleUrls: ['./color-numeric-values.component.scss'],\n})\nexport class ColorNumericValuesComponent implements OnInit {\n    colorNumericValuesForm: FormGroup;\n    formBuilder: FormBuilder;\n    previewColor = DEFAULT_WHITE;\n\n    constructor(\n        formBuilder: FormBuilder,\n        private colorToolService: ColorToolService,\n        private shortcutManagerService: ShortcutManagerService,\n    ) {\n        this.formBuilder = formBuilder;\n        this.initializeForm();\n    }\n\n    ngOnInit() {\n        this.colorToolService.selectedColorType.subscribe(() => {\n            this.previewColor = this.colorToolService.getColorOnFocus();\n            this.setColorNumericValues();\n        });\n        this.colorToolService.previewColor.subscribe((previewColor: string) => {\n            this.previewColor = previewColor;\n            this.setColorNumericValues();\n        });\n    }\n\n    initializeForm(): void {\n        this.colorNumericValuesForm = this.formBuilder.group({\n            hex: ['000000', [Validators.pattern('^([A-Fa-f0-9]{6}$)')]],\n            R: [0, [Validators.required, Validators.min(0), Validators.max(255)]],\n            G: [0, [Validators.required, Validators.min(0), Validators.max(255)]],\n            B: [0, [Validators.required, Validators.min(0), Validators.max(255)]],\n            A: [1, [Validators.required, Validators.min(0), Validators.max(1)]],\n        });\n    }\n\n    setColorNumericValues(): void {\n        this.setHexValues();\n        this.setRGBValues();\n    }\n\n    setHexValues(): void {\n        this.colorNumericValuesForm.controls.hex.setValue(this.previewColor.slice(0, 6));\n    }\n\n    setRGBValues(): void {\n        this.colorNumericValuesForm.controls.R.setValue(parseInt(this.previewColor.slice(0, 2), 16));\n        this.colorNumericValuesForm.controls.G.setValue(parseInt(this.previewColor.slice(2, 4), 16));\n        this.colorNumericValuesForm.controls.B.setValue(parseInt(this.previewColor.slice(4, 6), 16));\n        this.colorNumericValuesForm.controls.A.setValue((parseInt(this.previewColor.slice(6, 8), 16) / 255).toFixed(1));\n    }\n\n    onUserHexInput(): void {\n        if (this.colorNumericValuesForm.valid) {\n            const opacity = this.colorToolService.getPreviewColorOpacityHex();\n            this.previewColor = this.colorNumericValuesForm.value.hex + opacity;\n            this.setColorNumericValues();\n            this.colorToolService.changePreviewColor(this.previewColor);\n        } else {\n            this.setHexValues();\n        }\n    }\n\n    onUserColorRGBInput(): void {\n        const previewColor = this.colorToolService.translateRGBToHex(\n            this.colorNumericValuesForm.value.R,\n            this.colorNumericValuesForm.value.G,\n            this.colorNumericValuesForm.value.B,\n            this.colorNumericValuesForm.value.A,\n        );\n        this.previewColor = previewColor;\n        this.setColorNumericValues();\n        this.colorToolService.changePreviewColor(this.previewColor);\n    }\n\n    onFocus() {\n        this.shortcutManagerService.changeIsOnInput(true);\n    }\n\n    onFocusOut() {\n        this.shortcutManagerService.changeIsOnInput(false);\n    }\n}\n","module.exports = \"#container {\\n  height: 455px;\\n}\\n\\n#user-color {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n}\\n\\n#user-color span {\\n  width: 190px;\\n}\\n\\n#big-color {\\n  -webkit-transform: scale(1.4);\\n          transform: scale(1.4);\\n}\\n\\n.color {\\n  width: 0;\\n  height: 0;\\n  padding: 10px;\\n  border-radius: 100%;\\n  border: 1px solid black;\\n  margin: 5px;\\n  outline: none;\\n  -webkit-transition: ease-in-out 0.2s;\\n  transition: ease-in-out 0.2s;\\n}\\n\\n.color:hover:not(#bigColor) {\\n  -webkit-transform: scale(1.2);\\n          transform: scale(1.2);\\n}\\n\\n.color:active:not(#bigColor) {\\n  -webkit-transform: scale(1);\\n          transform: scale(1);\\n}\\n\\n#buttons {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n}\\n\\n#buttons button {\\n  padding: 0 30px;\\n  margin: 0px 10px;\\n  margin-bottom: 15px;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL2NvbG9yLXBhbGV0dGUvY29sb3ItcGFsZXR0ZS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9jb2xvci1wYWxldHRlL2NvbG9yLXBhbGV0dGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0FDQ0o7O0FERUE7RUFDSSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0VBQ0Esd0JBQUE7VUFBQSx1QkFBQTtBQ0NKOztBRENJO0VBQ0ksWUFBQTtBQ0NSOztBREdBO0VBQ0ksNkJBQUE7VUFBQSxxQkFBQTtBQ0FKOztBREdBO0VBQ0ksUUFBQTtFQUNBLFNBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0VBQ0Esb0NBQUE7RUFBQSw0QkFBQTtBQ0FKOztBREVBO0VBQ0ksNkJBQUE7VUFBQSxxQkFBQTtBQ0NKOztBRENBO0VBQ0ksMkJBQUE7VUFBQSxtQkFBQTtBQ0VKOztBRENBO0VBQ0ksb0JBQUE7RUFBQSxhQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtFQUNBLHdCQUFBO1VBQUEsdUJBQUE7QUNFSjs7QURBSTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0Esb0JBQUE7RUFBQSxhQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtBQ0VSIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9jb2xvci1wYWxldHRlL2NvbG9yLXBhbGV0dGUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjY29udGFpbmVyIHtcbiAgICBoZWlnaHQ6IDQ1NXB4O1xufVxuXG4jdXNlci1jb2xvciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuXG4gICAgc3BhbiB7XG4gICAgICAgIHdpZHRoOiAxOTBweDtcbiAgICB9XG59XG5cbiNiaWctY29sb3Ige1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMS40KTtcbn1cblxuLmNvbG9yIHtcbiAgICB3aWR0aDogMDtcbiAgICBoZWlnaHQ6IDA7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICAgIG1hcmdpbjogNXB4O1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgdHJhbnNpdGlvbjogZWFzZS1pbi1vdXQgMC4ycztcbn1cbi5jb2xvcjpob3Zlcjpub3QoI2JpZ0NvbG9yKSB7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxLjIpO1xufVxuLmNvbG9yOmFjdGl2ZTpub3QoI2JpZ0NvbG9yKSB7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcbn1cblxuI2J1dHRvbnMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblxuICAgIGJ1dHRvbiB7XG4gICAgICAgIHBhZGRpbmc6IDAgMzBweDtcbiAgICAgICAgbWFyZ2luOiAwcHggMTBweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB9XG59XG4iLCIjY29udGFpbmVyIHtcbiAgaGVpZ2h0OiA0NTVweDtcbn1cblxuI3VzZXItY29sb3Ige1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cbiN1c2VyLWNvbG9yIHNwYW4ge1xuICB3aWR0aDogMTkwcHg7XG59XG5cbiNiaWctY29sb3Ige1xuICB0cmFuc2Zvcm06IHNjYWxlKDEuNCk7XG59XG5cbi5jb2xvciB7XG4gIHdpZHRoOiAwO1xuICBoZWlnaHQ6IDA7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwMCU7XG4gIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICBtYXJnaW46IDVweDtcbiAgb3V0bGluZTogbm9uZTtcbiAgdHJhbnNpdGlvbjogZWFzZS1pbi1vdXQgMC4ycztcbn1cblxuLmNvbG9yOmhvdmVyOm5vdCgjYmlnQ29sb3IpIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjIpO1xufVxuXG4uY29sb3I6YWN0aXZlOm5vdCgjYmlnQ29sb3IpIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcbn1cblxuI2J1dHRvbnMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cbiNidXR0b25zIGJ1dHRvbiB7XG4gIHBhZGRpbmc6IDAgMzBweDtcbiAgbWFyZ2luOiAwcHggMTBweDtcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\n\nimport { ColorToolService } from 'src/app/services/tools/color-tool/color-tool.service';\nimport { COLOR_TYPE, DEFAULT_WHITE } from 'src/constants/color-constants';\n\ninterface IconStyle {\n    backgroundColor: string;\n}\n\n@Component({\n    selector: 'app-color-palette',\n    templateUrl: './color-palette.component.html',\n    styleUrls: ['./color-palette.component.scss'],\n})\nexport class ColorPaletteComponent implements OnInit {\n    selectedColorType: COLOR_TYPE = COLOR_TYPE.primaryColor;\n    previewColor = DEFAULT_WHITE;\n\n    constructor(private colorToolService: ColorToolService) {}\n\n    ngOnInit(): void {\n        this.colorToolService.previewColor.subscribe((previewColor) => {\n            this.previewColor = previewColor;\n        });\n\n        this.colorToolService.selectedColorType.subscribe((selectedColorType) => {\n            if (selectedColorType) {\n                this.selectedColorType = selectedColorType;\n                this.previewColor = this.colorToolService.getColorOnFocus();\n            }\n        });\n    }\n    onClickColorQueueButton(color: string): void {\n        this.previewColor = color;\n    }\n\n    onSubmit(): void {\n        this.colorToolService.changeColorOnFocus(this.previewColor);\n        this.colorToolService.addColorToQueue(this.previewColor);\n        this.colorToolService.changeShowColorPalette(false);\n        this.colorToolService.changeSelectedColorType(undefined);\n    }\n\n    onCancel(): void {\n        this.colorToolService.changeShowColorPalette(false);\n        this.colorToolService.changeSelectedColorType(undefined);\n    }\n\n    getUserColorIcon(): IconStyle {\n        return {\n            backgroundColor: '#' + this.previewColor,\n        };\n    }\n}\n","module.exports = \"#ColorWheelContainer {\\n  margin: auto;\\n  margin-top: 10px;\\n  width: 50%;\\n  height: 200px;\\n  width: 150px;\\n}\\n#ColorWheelContainer label {\\n  position: relative;\\n  left: -35px;\\n  top: 10px;\\n  margin-top: 20px;\\n  font-size: 70%;\\n  color: #999999;\\n}\\n#ColorWheelContainer mat-slider {\\n  padding-top: 0px;\\n  padding-bottom: 20px;\\n  width: 150px;\\n}\\n#ColorWheelContainer #currentColor {\\n  position: absolute;\\n  display: none;\\n  top: 0;\\n  width: 0;\\n  height: 0;\\n  padding: 10px;\\n  border: 1px solid #ffffff;\\n  margin: 5px;\\n  border-radius: 100%;\\n  outline: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL2NvbG9yLXBhbGV0dGUvY29sb3ItcGlja2VyL2NvbG9yLXBpY2tlci5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9jb2xvci1wYWxldHRlL2NvbG9yLXBpY2tlci9jb2xvci1waWNrZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxVQUFBO0VBQ0EsYUFBQTtFQUNBLFlBQUE7QUNDSjtBRENJO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0VBQ0EsU0FBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtFQUNBLGNBQUE7QUNDUjtBREVJO0VBQ0ksZ0JBQUE7RUFDQSxvQkFBQTtFQUNBLFlBQUE7QUNBUjtBREdJO0VBQ0ksa0JBQUE7RUFDQSxhQUFBO0VBQ0EsTUFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0EsYUFBQTtFQUNBLHlCQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtBQ0RSIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9jb2xvci1wYWxldHRlL2NvbG9yLXBpY2tlci9jb2xvci1waWNrZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjQ29sb3JXaGVlbENvbnRhaW5lciB7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgd2lkdGg6IDUwJTtcbiAgICBoZWlnaHQ6IDIwMHB4O1xuICAgIHdpZHRoOiAxNTBweDtcblxuICAgIGxhYmVsIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBsZWZ0OiAtMzVweDtcbiAgICAgICAgdG9wOiAxMHB4O1xuICAgICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgICBmb250LXNpemU6IDcwJTtcbiAgICAgICAgY29sb3I6ICM5OTk5OTk7XG4gICAgfVxuXG4gICAgbWF0LXNsaWRlciB7XG4gICAgICAgIHBhZGRpbmctdG9wOiAwcHg7XG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4O1xuICAgICAgICB3aWR0aDogMTUwcHg7XG4gICAgfVxuXG4gICAgI2N1cnJlbnRDb2xvciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICB3aWR0aDogMDtcbiAgICAgICAgaGVpZ2h0OiAwO1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZmZmZmZmO1xuICAgICAgICBtYXJnaW46IDVweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTAwJTtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICB9XG59XG4iLCIjQ29sb3JXaGVlbENvbnRhaW5lciB7XG4gIG1hcmdpbjogYXV0bztcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgd2lkdGg6IDUwJTtcbiAgaGVpZ2h0OiAyMDBweDtcbiAgd2lkdGg6IDE1MHB4O1xufVxuI0NvbG9yV2hlZWxDb250YWluZXIgbGFiZWwge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGxlZnQ6IC0zNXB4O1xuICB0b3A6IDEwcHg7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG4gIGZvbnQtc2l6ZTogNzAlO1xuICBjb2xvcjogIzk5OTk5OTtcbn1cbiNDb2xvcldoZWVsQ29udGFpbmVyIG1hdC1zbGlkZXIge1xuICBwYWRkaW5nLXRvcDogMHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMjBweDtcbiAgd2lkdGg6IDE1MHB4O1xufVxuI0NvbG9yV2hlZWxDb250YWluZXIgI2N1cnJlbnRDb2xvciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgZGlzcGxheTogbm9uZTtcbiAgdG9wOiAwO1xuICB3aWR0aDogMDtcbiAgaGVpZ2h0OiAwO1xuICBwYWRkaW5nOiAxMHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjZmZmZmZmO1xuICBtYXJnaW46IDVweDtcbiAgYm9yZGVyLXJhZGl1czogMTAwJTtcbiAgb3V0bGluZTogbm9uZTtcbn0iXX0= */\"","import { Component, ElementRef, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { MatSliderChange } from '@angular/material';\n\nimport { ColorToolService } from '../../../services/tools/color-tool/color-tool.service';\n\n@Component({\n    selector: 'app-color-picker',\n    templateUrl: './color-picker.component.html',\n    styleUrls: ['./color-picker.component.scss'],\n})\nexport class ColorPickerComponent implements OnInit {\n    canvas: HTMLCanvasElement;\n    context: CanvasRenderingContext2D;\n    obscurity = 0;\n\n    @ViewChild('canvas_picker', { static: true }) canvasPicker: ElementRef<HTMLCanvasElement>;\n\n    constructor(private colorToolService: ColorToolService, private renderer: Renderer2) {}\n\n    ngOnInit(): void {\n        const img = new Image();\n        img.src = '../../../assets/color-wheel.png';\n\n        this.canvas = this.canvasPicker.nativeElement;\n        this.context = this.canvas.getContext('2d') as CanvasRenderingContext2D;\n\n        img.onload = () => {\n            this.context.drawImage(img, 0, 0);\n        };\n    }\n\n    onSliderChange(event: MatSliderChange): void {\n        if (event.value === null) {\n            return;\n        }\n        this.obscurity = event.value;\n        this.renderer.setStyle(\n            this.canvasPicker.nativeElement,\n            'filter',\n            'brightness(' + (1 - this.obscurity) * 100 + '%)',\n        );\n    }\n\n    onCanvasClick(event: MouseEvent): void {\n        const x = event.offsetX;\n        const y = event.offsetY;\n\n        const pixel = this.context.getImageData(x, y, 1, 1).data;\n\n        if (this.obscurity !== 1 && pixel[0] + pixel[1] + pixel[2] + pixel[3] === 0) {\n            return;\n        }\n\n        const newHex = this.colorToolService.translateRGBToHex(\n            pixel[0] - pixel[0] * this.obscurity,\n            pixel[1] - pixel[1] * this.obscurity,\n            pixel[2] - pixel[2] * this.obscurity,\n        );\n\n        const opacity = this.colorToolService.getPreviewColorOpacityHex();\n        this.colorToolService.changePreviewColor(newHex + opacity);\n    }\n}\n","module.exports = \"p {\\n  color: #999999;\\n  font-size: 11.2px;\\n  margin: 5px 0;\\n  margin-left: 40px;\\n}\\n\\n#buttons {\\n  margin-bottom: 10px;\\n  margin-left: 40px;\\n  height: 25px;\\n}\\n\\n#buttons .color {\\n  width: 0;\\n  height: 0;\\n  padding: 8px;\\n  border: 1px solid #d0d0d0;\\n  margin: 2px;\\n  border-radius: 100%;\\n  outline: none;\\n  -webkit-transition: ease-in-out 0.2s;\\n  transition: ease-in-out 0.2s;\\n}\\n\\n#buttons .color:hover:not(#bigColor) {\\n  -webkit-transform: scale(1.2);\\n          transform: scale(1.2);\\n}\\n\\n#buttons .color:active:not(#bigColor) {\\n  -webkit-transform: scale(1);\\n          transform: scale(1);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL2NvbG9yLXBhbGV0dGUvY29sb3ItcXVldWUvY29sb3ItcXVldWUuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvY29sb3ItcGFsZXR0ZS9jb2xvci1xdWV1ZS9jb2xvci1xdWV1ZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGFBQUE7RUFDQSxpQkFBQTtBQ0NKOztBREVBO0VBQ0ksbUJBQUE7RUFDQSxpQkFBQTtFQUNBLFlBQUE7QUNDSjs7QURDSTtFQUNJLFFBQUE7RUFDQSxTQUFBO0VBQ0EsWUFBQTtFQUNBLHlCQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLG9DQUFBO0VBQUEsNEJBQUE7QUNDUjs7QURDSTtFQUNJLDZCQUFBO1VBQUEscUJBQUE7QUNDUjs7QURDSTtFQUNJLDJCQUFBO1VBQUEsbUJBQUE7QUNDUiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY29sb3ItcGFsZXR0ZS9jb2xvci1xdWV1ZS9jb2xvci1xdWV1ZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInAge1xuICAgIGNvbG9yOiByZ2IoMTUzLCAxNTMsIDE1Myk7XG4gICAgZm9udC1zaXplOiAxMS4ycHg7XG4gICAgbWFyZ2luOiA1cHggMDtcbiAgICBtYXJnaW4tbGVmdDogNDBweDtcbn1cblxuI2J1dHRvbnMge1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgbWFyZ2luLWxlZnQ6IDQwcHg7XG4gICAgaGVpZ2h0OiAyNXB4O1xuXG4gICAgLmNvbG9yIHtcbiAgICAgICAgd2lkdGg6IDA7XG4gICAgICAgIGhlaWdodDogMDtcbiAgICAgICAgcGFkZGluZzogOHB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZDBkMGQwO1xuICAgICAgICBtYXJnaW46IDJweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTAwJTtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgdHJhbnNpdGlvbjogZWFzZS1pbi1vdXQgMC4ycztcbiAgICB9XG4gICAgLmNvbG9yOmhvdmVyOm5vdCgjYmlnQ29sb3IpIHtcbiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjIpO1xuICAgIH1cbiAgICAuY29sb3I6YWN0aXZlOm5vdCgjYmlnQ29sb3IpIHtcbiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcbiAgICB9XG59XG4iLCJwIHtcbiAgY29sb3I6ICM5OTk5OTk7XG4gIGZvbnQtc2l6ZTogMTEuMnB4O1xuICBtYXJnaW46IDVweCAwO1xuICBtYXJnaW4tbGVmdDogNDBweDtcbn1cblxuI2J1dHRvbnMge1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBtYXJnaW4tbGVmdDogNDBweDtcbiAgaGVpZ2h0OiAyNXB4O1xufVxuI2J1dHRvbnMgLmNvbG9yIHtcbiAgd2lkdGg6IDA7XG4gIGhlaWdodDogMDtcbiAgcGFkZGluZzogOHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjZDBkMGQwO1xuICBtYXJnaW46IDJweDtcbiAgYm9yZGVyLXJhZGl1czogMTAwJTtcbiAgb3V0bGluZTogbm9uZTtcbiAgdHJhbnNpdGlvbjogZWFzZS1pbi1vdXQgMC4ycztcbn1cbiNidXR0b25zIC5jb2xvcjpob3Zlcjpub3QoI2JpZ0NvbG9yKSB7XG4gIHRyYW5zZm9ybTogc2NhbGUoMS4yKTtcbn1cbiNidXR0b25zIC5jb2xvcjphY3RpdmU6bm90KCNiaWdDb2xvcikge1xuICB0cmFuc2Zvcm06IHNjYWxlKDEpO1xufSJdfQ== */\"","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\n\nimport { ColorToolService } from 'src/app/services/tools/color-tool/color-tool.service';\n\ninterface IconStyle {\n    backgroundColor: string;\n}\n\n@Component({\n    selector: 'app-color-queue',\n    templateUrl: './color-queue.component.html',\n    styleUrls: ['./color-queue.component.scss'],\n})\nexport class ColorQueueComponent implements OnInit {\n    colorQueue: string[] = [];\n    @Output() clickedColorButton = new EventEmitter<string>();\n\n    constructor(private colorToolService: ColorToolService) {}\n\n    ngOnInit(): void {\n        this.colorToolService.colorQueue.subscribe((colorQueue) => {\n            this.colorQueue = colorQueue;\n        });\n    }\n\n    onClickColorButton(color: string): void {\n        this.clickedColorButton.emit(color);\n    }\n\n    getColorIcon(color: string): IconStyle {\n        return { backgroundColor: '#' + color };\n    }\n}\n","module.exports = \".formGroup {\\n  margin: 0 30px;\\n}\\n.formGroup mat-form-field {\\n  width: 110px;\\n  margin: 20px 10px;\\n}\\n.formGroup mat-form-field span {\\n  color: #888888;\\n  margin-right: 5px;\\n}\\n#userColor {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  margin-bottom: 10px;\\n}\\n#userColor .color {\\n  margin-left: 10px;\\n}\\n#userColor #bigColor {\\n  padding: 15px;\\n}\\n.color {\\n  width: 0;\\n  height: 0;\\n  padding: 10px;\\n  border: 1px solid #d0d0d0;\\n  margin: 5px;\\n  border-radius: 100%;\\n  outline: none;\\n}\\n.actionButton {\\n  width: 90px;\\n  margin: 0px 20px;\\n  margin-top: -10px;\\n  margin-bottom: 20px;\\n}\\n#confirmation {\\n  margin-bottom: 20px;\\n}\\n#confirmation #warning {\\n  background-color: red;\\n}\\n#confirmation mat-error {\\n  margin-bottom: 10px;\\n}\\n.mat-typography {\\n  overflow-x: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL21vZGFsLXdpbmRvd3MvZHJhd2luZy1tb2RhbC13aW5kb3cvZHJhd2luZy1tb2RhbC13aW5kb3cuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvbW9kYWwtd2luZG93cy9kcmF3aW5nLW1vZGFsLXdpbmRvdy9kcmF3aW5nLW1vZGFsLXdpbmRvdy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQUE7QUNDSjtBRENJO0VBQ0ksWUFBQTtFQUNBLGlCQUFBO0FDQ1I7QURDUTtFQUNJLGNBQUE7RUFDQSxpQkFBQTtBQ0NaO0FESUE7RUFDSSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx3QkFBQTtVQUFBLHVCQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtFQUNBLG1CQUFBO0FDREo7QURHSTtFQUNJLGlCQUFBO0FDRFI7QURJSTtFQUNJLGFBQUE7QUNGUjtBRE1BO0VBQ0ksUUFBQTtFQUNBLFNBQUE7RUFDQSxhQUFBO0VBQ0EseUJBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0FDSEo7QURNQTtFQUNJLFdBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7QUNISjtBRE1BO0VBQ0ksbUJBQUE7QUNISjtBREtJO0VBQ0kscUJBQUE7QUNIUjtBRE1JO0VBQ0ksbUJBQUE7QUNKUjtBRFFBO0VBQ0ksa0JBQUE7QUNMSiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbW9kYWwtd2luZG93cy9kcmF3aW5nLW1vZGFsLXdpbmRvdy9kcmF3aW5nLW1vZGFsLXdpbmRvdy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5mb3JtR3JvdXAge1xuICAgIG1hcmdpbjogMCAzMHB4O1xuXG4gICAgbWF0LWZvcm0tZmllbGQge1xuICAgICAgICB3aWR0aDogMTEwcHg7XG4gICAgICAgIG1hcmdpbjogMjBweCAxMHB4O1xuXG4gICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgY29sb3I6ICM4ODg4ODg7XG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuI3VzZXJDb2xvciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG5cbiAgICAuY29sb3Ige1xuICAgICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICB9XG5cbiAgICAjYmlnQ29sb3Ige1xuICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgIH1cbn1cblxuLmNvbG9yIHtcbiAgICB3aWR0aDogMDtcbiAgICBoZWlnaHQ6IDA7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZDBkMGQwO1xuICAgIG1hcmdpbjogNXB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7XG4gICAgb3V0bGluZTogbm9uZTtcbn1cblxuLmFjdGlvbkJ1dHRvbiB7XG4gICAgd2lkdGg6IDkwcHg7XG4gICAgbWFyZ2luOiAwcHggMjBweDtcbiAgICBtYXJnaW4tdG9wOiAtMTBweDtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG4jY29uZmlybWF0aW9uIHtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuXG4gICAgI3dhcm5pbmcge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG4gICAgfVxuXG4gICAgbWF0LWVycm9yIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICB9XG59XG5cbi5tYXQtdHlwb2dyYXBoeSB7XG4gICAgb3ZlcmZsb3cteDogaGlkZGVuO1xufVxuIiwiLmZvcm1Hcm91cCB7XG4gIG1hcmdpbjogMCAzMHB4O1xufVxuLmZvcm1Hcm91cCBtYXQtZm9ybS1maWVsZCB7XG4gIHdpZHRoOiAxMTBweDtcbiAgbWFyZ2luOiAyMHB4IDEwcHg7XG59XG4uZm9ybUdyb3VwIG1hdC1mb3JtLWZpZWxkIHNwYW4ge1xuICBjb2xvcjogIzg4ODg4ODtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbiN1c2VyQ29sb3Ige1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cbiN1c2VyQ29sb3IgLmNvbG9yIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG59XG4jdXNlckNvbG9yICNiaWdDb2xvciB7XG4gIHBhZGRpbmc6IDE1cHg7XG59XG5cbi5jb2xvciB7XG4gIHdpZHRoOiAwO1xuICBoZWlnaHQ6IDA7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNkMGQwZDA7XG4gIG1hcmdpbjogNXB4O1xuICBib3JkZXItcmFkaXVzOiAxMDAlO1xuICBvdXRsaW5lOiBub25lO1xufVxuXG4uYWN0aW9uQnV0dG9uIHtcbiAgd2lkdGg6IDkwcHg7XG4gIG1hcmdpbjogMHB4IDIwcHg7XG4gIG1hcmdpbi10b3A6IC0xMHB4O1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG4jY29uZmlybWF0aW9uIHtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cbiNjb25maXJtYXRpb24gI3dhcm5pbmcge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG59XG4jY29uZmlybWF0aW9uIG1hdC1lcnJvciB7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG5cbi5tYXQtdHlwb2dyYXBoeSB7XG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcbn0iXX0= */\"","import { Component, HostListener, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatDialogRef } from '@angular/material';\n\nimport { Drawing } from 'src/../../common/communication/Drawing';\nimport { ModalManagerService } from 'src/app/services/modal-manager/modal-manager.service';\nimport { DrawingLoaderService } from 'src/app/services/server/drawing-loader/drawing-loader.service';\nimport { UndoRedoerService } from 'src/app/services/undo-redoer/undo-redoer.service';\nimport { DEFAULT_WHITE } from 'src/constants/color-constants';\nimport { SIDEBAR_WIDTH } from 'src/constants/constants';\nimport { DrawingInfo } from '../../../../../../common/communication/DrawingInfo';\nimport { DrawingModalWindowService } from '../../../services/drawing-modal-window/drawing-modal-window.service';\nimport { ShortcutManagerService } from '../../../services/shortcut-manager/shortcut-manager.service';\nimport { ColorToolService } from '../../../services/tools/color-tool/color-tool.service';\n\n@Component({\n    selector: 'app-drawing-modal-window',\n    templateUrl: './drawing-modal-window.component.html',\n    styleUrls: ['./drawing-modal-window.component.scss'],\n})\nexport class DrawingModalWindowComponent implements OnInit {\n    drawingModalForm: FormGroup;\n    formBuilder: FormBuilder;\n\n    previewColor: string;\n    emptyDrawStack = true;\n\n    constructor(\n        formBuilder: FormBuilder,\n        private dialogRef: MatDialogRef<DrawingModalWindowComponent>,\n        private drawingModalWindowService: DrawingModalWindowService,\n        private colorToolService: ColorToolService,\n        private shortcutManagerService: ShortcutManagerService,\n        private modalManagerService: ModalManagerService,\n        private drawingLoaderService: DrawingLoaderService,\n        private undoRedoerService: UndoRedoerService,\n    ) {\n        this.formBuilder = formBuilder;\n    }\n\n    ngOnInit(): void {\n        this.colorToolService.previewColor.subscribe((previewColor) => {\n            this.previewColor = previewColor;\n        });\n\n        this.drawingLoaderService.emptyDrawStack.subscribe((emptyDrawStack) => {\n            this.emptyDrawStack = emptyDrawStack;\n        });\n\n        this.previewColor =\n            this.colorToolService.backgroundColor === undefined\n                ? DEFAULT_WHITE\n                : this.colorToolService.backgroundColor.value;\n        this.initializeForm();\n    }\n\n    initializeForm(): void {\n        this.drawingModalForm = this.formBuilder.group({\n            confirm: this.emptyDrawStack,\n            width: [window.innerWidth - SIDEBAR_WIDTH, [Validators.required, Validators.min(0), Validators.max(10000)]],\n            height: [window.innerHeight, [Validators.required, Validators.min(0), Validators.max(10000)]],\n        });\n    }\n\n    onSubmit() {\n        this.undoRedoerService.initializeStacks();\n\n        this.drawingModalWindowService.changeDrawingInfo(\n            this.drawingModalForm.value.width,\n            this.drawingModalForm.value.height,\n            this.previewColor,\n        );\n        this.drawingLoaderService.currentDrawing.next({\n            svg: '',\n            drawingInfo: {\n                name: '',\n                createdAt: 0,\n                lastModified: 0,\n                labels: [],\n                idStack: [],\n                width: 0,\n                height: 0,\n                color: '',\n            } as DrawingInfo,\n        } as Drawing);\n        this.colorToolService.changeBackgroundColor(this.previewColor);\n        this.colorToolService.addColorToQueue(this.previewColor);\n        this.modalManagerService.setModalIsDisplayed(false);\n    }\n\n    @HostListener('window:resize')\n    onResize(): void {\n        if (!this.drawingModalForm.controls.width.dirty && !this.drawingModalForm.controls.height.dirty) {\n            this.drawingModalForm.controls.width.setValue(window.innerWidth - SIDEBAR_WIDTH);\n            this.drawingModalForm.controls.height.setValue(window.innerHeight);\n        }\n    }\n\n    onCancel(): void {\n        this.dialogRef.close();\n        this.modalManagerService.setModalIsDisplayed(false);\n    }\n\n    getUserColorIcon(): IconStyle {\n        return { backgroundColor: '#' + this.previewColor };\n    }\n\n    onClickColorQueueButton(previewColor: string): void {\n        this.previewColor = previewColor;\n    }\n\n    onFocus(): void {\n        this.shortcutManagerService.changeIsOnInput(true);\n    }\n    onFocusOut(): void {\n        this.shortcutManagerService.changeIsOnInput(false);\n    }\n}\n\ninterface IconStyle {\n    backgroundColor: string;\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbW9kYWwtd2luZG93cy9leHBvcnQtZmlsZS1tb2RhbC13aW5kb3cvZXhwb3J0LWZpbGUtbW9kYWwtd2luZG93LmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { MatDialogRef } from '@angular/material';\n\nimport { ModalManagerService } from 'src/app/services/modal-manager/modal-manager.service';\nimport { DrawingLoaderService } from 'src/app/services/server/drawing-loader/drawing-loader.service';\nimport { ExportToolService } from 'src/app/services/tools/export-tool/export-tool.service';\nimport { FILE_TYPE } from 'src/constants/tool-constants';\n\n@Component({\n    selector: 'app-export-file-modal-window',\n    templateUrl: './export-file-modal-window.component.html',\n    styleUrls: ['./export-file-modal-window.component.scss'],\n})\nexport class ExportFileModalWindowComponent implements OnInit {\n    exportFileModalForm: FormGroup;\n    formBuilder: FormBuilder;\n    workZoneIsEmpty = true;\n\n    readonly FILE_TYPE = FILE_TYPE;\n\n    constructor(\n        formBuilder: FormBuilder,\n        private dialogRef: MatDialogRef<ExportFileModalWindowComponent>,\n        private modalManagerService: ModalManagerService,\n        private exportToolService: ExportToolService,\n        private drawingLoaderService: DrawingLoaderService,\n    ) {\n        this.formBuilder = formBuilder;\n    }\n\n    ngOnInit() {\n        this.initializeForm();\n        this.drawingLoaderService.emptyDrawStack.subscribe((isEmpty) => {\n            this.workZoneIsEmpty = isEmpty;\n        });\n    }\n\n    initializeForm(): void {\n        this.exportFileModalForm = this.formBuilder.group({\n            fileType: [FILE_TYPE.SVG],\n        });\n    }\n\n    closeDialog(): void {\n        this.dialogRef.close();\n        this.modalManagerService.setModalIsDisplayed(false);\n    }\n\n    onSubmit(): void {\n        this.exportToolService.saveFile(this.exportFileModalForm.controls.fileType.value);\n        this.closeDialog();\n    }\n}\n","module.exports = \"::ng-deep.mat-dialog-content {\\n  margin: 0 !important;\\n}\\n\\n::ng-deep.mat-list-text {\\n  padding-right: 0 !important;\\n}\\n\\n#content-wrapper {\\n  display: grid;\\n  grid-template-rows: minmax(428px, auto) 19px;\\n}\\n\\n.mat-typography,\\n.mat-typography-local {\\n  align-self: center;\\n  height: 428px;\\n}\\n\\n.mat-typography :focus,\\n.mat-typography-local :focus {\\n  outline: none;\\n}\\n\\n.mat-typography-local {\\n  width: 674px;\\n}\\n\\n.tab-content {\\n  height: 600px;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n  overflow-x: hidden;\\n}\\n\\n#selection-list {\\n  padding: 0;\\n}\\n\\n#selection-list ::ng-deep.mat-pseudo-checkbox {\\n  display: none !important;\\n}\\n\\n#selection-list #list-option {\\n  height: 100%;\\n  margin-top: 10px;\\n  border: 1px solid #e1e4e8;\\n  border-radius: 5px;\\n}\\n\\n#drawing-option {\\n  display: grid;\\n  grid-template-columns: 130px 450px 60px;\\n  grid-template-rows: minmax(50px, auto) 20px;\\n}\\n\\n#drawing-option #drawing-name {\\n  grid-column: 1/2;\\n  grid-row: 1/2;\\n  font-size: 14px;\\n  display: -webkit-box;\\n  display: flex;\\n  align-self: center;\\n  -webkit-box-pack: start;\\n          justify-content: flex-start;\\n}\\n\\n#drawing-option #drawing-labels-list {\\n  grid-column: 2/3;\\n  grid-row: 1/2;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: left;\\n          justify-content: left;\\n  flex-wrap: wrap;\\n  align-self: center;\\n}\\n\\n#drawing-option #drawing-labels-list #drawing-label {\\n  padding: 3px 6px;\\n  margin: 3px 4px;\\n  min-width: 60px;\\n  font-size: 12px;\\n  text-align: center;\\n  border: 1px solid;\\n  border-radius: 5px;\\n}\\n\\n#drawing-option #drawing-thumbnail {\\n  grid-column: 3/4;\\n  grid-row: 1/3;\\n  height: 60px;\\n  width: 60px;\\n  padding: 0;\\n  display: -webkit-box;\\n  display: flex;\\n  align-self: center;\\n}\\n\\n#drawing-option #drawing-created-at {\\n  grid-column: 1/3;\\n  grid-row: 2/3;\\n  font-size: 10px;\\n  line-height: 1;\\n  align-self: center;\\n  color: #586069;\\n}\\n\\nmat-list-option[aria-selected=true] {\\n  background: #dddddd;\\n}\\n\\n#filters {\\n  margin-top: 10px;\\n  width: 626px;\\n  align-self: center;\\n  margin-right: 42px;\\n}\\n\\n.filter {\\n  height: 24px;\\n  padding: 2px 4px 2px 40px;\\n  margin: 4px 0;\\n  color: #586069;\\n  border: 1px solid #d1d5da;\\n  border-radius: 3px;\\n  outline: none;\\n  background-image: url('search_icon.png');\\n  background-repeat: no-repeat;\\n  background-position: left 8px center;\\n  background-size: 20px;\\n}\\n\\n.hidden-info {\\n  text-align: center;\\n  color: #8f8f8f;\\n}\\n\\n.center {\\n  display: -webkit-box;\\n  display: flex;\\n  align-self: center;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n}\\n\\n#loading-div {\\n  max-height: 600px;\\n  margin: 20px;\\n  text-align: center;\\n}\\n\\n#loading-div #img {\\n  width: 150px;\\n}\\n\\n.confirmation {\\n  margin-top: 20px;\\n}\\n\\n#content-local-wrapper {\\n  margin-top: 20px;\\n}\\n\\n#input-wrapper {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  margin-top: 10px;\\n}\\n\\n#destination-label {\\n  font-size: 16px;\\n  align-self: center;\\n}\\n\\n#destination-path {\\n  margin: 0 10px 0 0;\\n  text-align: left;\\n  padding: 2px 4px 2px 12px;\\n  color: rgba(0, 0, 0, 0.87);\\n  box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);\\n  border: 1px solid;\\n  border-color: rgba(0, 0, 0, 0.12);\\n  border-radius: 2px;\\n  line-height: 20px;\\n  font-size: 14px;\\n  outline: none;\\n  cursor: default;\\n  width: 100%;\\n  height: 24px;\\n}\\n\\n.inputfile {\\n  width: 0.1px;\\n  height: 0.1px;\\n  opacity: 0;\\n  overflow: hidden;\\n  position: absolute;\\n  z-index: -1;\\n}\\n\\n.inputfile + label {\\n  color: rgba(0, 0, 0, 0.87);\\n  cursor: pointer;\\n}\\n\\n.inputfile:focus + label {\\n  outline: 1px dotted #000;\\n}\\n\\n.inputfile:focus + label,\\n.inputfile + label:hover {\\n  color: #ff5722;\\n}\\n\\n::ng-deep.mat-dialog-actions {\\n  margin-bottom: 0 !important;\\n  min-height: 40px;\\n}\\n\\n.fas.fa-folder {\\n  font-size: 24px;\\n}\\n\\n.submit-button-group-wrapper {\\n  height: 100%;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: reverse;\\n          flex-direction: column-reverse;\\n}\\n\\n.submit-button-group {\\n  align-self: flex-end;\\n}\\n\\n.submit-button-group #clickable {\\n  cursor: pointer;\\n  text-decoration: underline;\\n}\\n\\n#clickable {\\n  cursor: pointer;\\n  text-decoration: underline;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL21vZGFsLXdpbmRvd3Mvb3Blbi1maWxlLW1vZGFsLXdpbmRvdy9vcGVuLWZpbGUtbW9kYWwtd2luZG93LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL21vZGFsLXdpbmRvd3Mvb3Blbi1maWxlLW1vZGFsLXdpbmRvdy9vcGVuLWZpbGUtbW9kYWwtd2luZG93LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksb0JBQUE7QUNDSjs7QURFQTtFQUNJLDJCQUFBO0FDQ0o7O0FERUE7RUFDSSxhQUFBO0VBQ0EsNENBQUE7QUNDSjs7QURFQTs7RUFFSSxrQkFBQTtFQUNBLGFBQUE7QUNDSjs7QURDSTs7RUFDSSxhQUFBO0FDRVI7O0FERUE7RUFDSSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxhQUFBO0VBQ0Esb0JBQUE7RUFBQSxhQUFBO0VBQ0EsNEJBQUE7RUFBQSw2QkFBQTtVQUFBLHNCQUFBO0VBQ0EseUJBQUE7VUFBQSw4QkFBQTtFQUNBLGtCQUFBO0FDQ0o7O0FERUE7RUFLSSxVQUFBO0FDSEo7O0FEREk7RUFDSSx3QkFBQTtBQ0dSOztBREVJO0VBQ0ksWUFBQTtFQUNBLGdCQUFBO0VBRUEseUJBQUE7RUFDQSxrQkFBQTtBQ0RSOztBREtBO0VBQ0ksYUFBQTtFQUNBLHVDQUFBO0VBQ0EsMkNBQUE7QUNGSjs7QURJSTtFQUNJLGdCQUFBO0VBQ0EsYUFBQTtFQUVBLGVBQUE7RUFFQSxvQkFBQTtFQUFBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLHVCQUFBO1VBQUEsMkJBQUE7QUNKUjs7QURPSTtFQUNJLGdCQUFBO0VBQ0EsYUFBQTtFQUVBLG9CQUFBO0VBQUEsYUFBQTtFQUNBLHNCQUFBO1VBQUEscUJBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7QUNOUjs7QURRUTtFQUNJLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FDTlo7O0FEVUk7RUFDSSxnQkFBQTtFQUNBLGFBQUE7RUFFQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFVBQUE7RUFDQSxvQkFBQTtFQUFBLGFBQUE7RUFDQSxrQkFBQTtBQ1RSOztBRFlJO0VBQ0ksZ0JBQUE7RUFDQSxhQUFBO0VBRUEsZUFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7QUNYUjs7QURlQTtFQUNJLG1CQUFBO0FDWko7O0FEZUE7RUFDSSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0FDWko7O0FEZUE7RUFDSSxZQUFBO0VBQ0EseUJBQUE7RUFDQSxhQUFBO0VBRUEsY0FBQTtFQUVBLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBRUEsd0NBQUE7RUFDQSw0QkFBQTtFQUNBLG9DQUFBO0VBQ0EscUJBQUE7QUNmSjs7QURrQkE7RUFDSSxrQkFBQTtFQUNBLGNBQUE7QUNmSjs7QURrQkE7RUFDSSxvQkFBQTtFQUFBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLHdCQUFBO1VBQUEsdUJBQUE7QUNmSjs7QURrQkE7RUFDSSxpQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQ2ZKOztBRGdCSTtFQUNJLFlBQUE7QUNkUjs7QURrQkE7RUFDSSxnQkFBQTtBQ2ZKOztBRGtCQTtFQUNJLGdCQUFBO0FDZko7O0FEa0JBO0VBQ0ksb0JBQUE7RUFBQSxhQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtFQUNBLHdCQUFBO1VBQUEsdUJBQUE7RUFDQSxnQkFBQTtBQ2ZKOztBRGtCQTtFQUNJLGVBQUE7RUFDQSxrQkFBQTtBQ2ZKOztBRGtCQTtFQUNJLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx5QkFBQTtFQUVBLDBCQUFBO0VBRUEsd0hBQUE7RUFFQSxpQkFBQTtFQUNBLGlDQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUVBLFdBQUE7RUFDQSxZQUFBO0FDbkJKOztBRHNCQTtFQUNJLFlBQUE7RUFDQSxhQUFBO0VBQ0EsVUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0FDbkJKOztBRHNCQTtFQUNJLDBCQUFBO0VBQ0EsZUFBQTtBQ25CSjs7QURzQkE7RUFDSSx3QkFBQTtBQ25CSjs7QURzQkE7O0VBRUksY0FBQTtBQ25CSjs7QURzQkE7RUFDSSwyQkFBQTtFQUNBLGdCQUFBO0FDbkJKOztBRHNCQTtFQUNJLGVBQUE7QUNuQko7O0FEc0JBO0VBQ0ksWUFBQTtFQUNBLG9CQUFBO0VBQUEsYUFBQTtFQUNBLDRCQUFBO0VBQUEsOEJBQUE7VUFBQSw4QkFBQTtBQ25CSjs7QURzQkE7RUFDSSxvQkFBQTtBQ25CSjs7QURvQkk7RUFDSSxlQUFBO0VBQ0EsMEJBQUE7QUNsQlI7O0FEc0JBO0VBQ0ksZUFBQTtFQUNBLDBCQUFBO0FDbkJKIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9tb2RhbC13aW5kb3dzL29wZW4tZmlsZS1tb2RhbC13aW5kb3cvb3Blbi1maWxlLW1vZGFsLXdpbmRvdy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjo6bmctZGVlcC5tYXQtZGlhbG9nLWNvbnRlbnQge1xuICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1xufVxuXG46Om5nLWRlZXAubWF0LWxpc3QtdGV4dCB7XG4gICAgcGFkZGluZy1yaWdodDogMCAhaW1wb3J0YW50O1xufVxuXG4jY29udGVudC13cmFwcGVyIHtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdyaWQtdGVtcGxhdGUtcm93czogbWlubWF4KDQyOHB4LCBhdXRvKSAxOXB4O1xufVxuXG4ubWF0LXR5cG9ncmFwaHksXG4ubWF0LXR5cG9ncmFwaHktbG9jYWwge1xuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgICBoZWlnaHQ6IDQyOHB4O1xuXG4gICAgOmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICB9XG59XG5cbi5tYXQtdHlwb2dyYXBoeS1sb2NhbCB7XG4gICAgd2lkdGg6IDY3NHB4O1xufVxuXG4udGFiLWNvbnRlbnQge1xuICAgIGhlaWdodDogNjAwcHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBvdmVyZmxvdy14OiBoaWRkZW47XG59XG5cbiNzZWxlY3Rpb24tbGlzdCB7XG4gICAgOjpuZy1kZWVwLm1hdC1wc2V1ZG8tY2hlY2tib3gge1xuICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG4gICAgfVxuXG4gICAgcGFkZGluZzogMDtcblxuICAgICNsaXN0LW9wdGlvbiB7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcblxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZTFlNGU4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgfVxufVxuXG4jZHJhd2luZy1vcHRpb24ge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxMzBweCA0NTBweCA2MHB4O1xuICAgIGdyaWQtdGVtcGxhdGUtcm93czogbWlubWF4KDUwcHgsIGF1dG8pIDIwcHg7XG5cbiAgICAjZHJhd2luZy1uYW1lIHtcbiAgICAgICAgZ3JpZC1jb2x1bW46IDEgLyAyO1xuICAgICAgICBncmlkLXJvdzogMSAvIDI7XG5cbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgIH1cblxuICAgICNkcmF3aW5nLWxhYmVscy1saXN0IHtcbiAgICAgICAgZ3JpZC1jb2x1bW46IDIgLyAzO1xuICAgICAgICBncmlkLXJvdzogMSAvIDI7XG5cbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBsZWZ0O1xuICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcblxuICAgICAgICAjZHJhd2luZy1sYWJlbCB7XG4gICAgICAgICAgICBwYWRkaW5nOiAzcHggNnB4O1xuICAgICAgICAgICAgbWFyZ2luOiAzcHggNHB4O1xuICAgICAgICAgICAgbWluLXdpZHRoOiA2MHB4O1xuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQ7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAjZHJhd2luZy10aHVtYm5haWwge1xuICAgICAgICBncmlkLWNvbHVtbjogMyAvIDQ7XG4gICAgICAgIGdyaWQtcm93OiAxIC8gMztcblxuICAgICAgICBoZWlnaHQ6IDYwcHg7XG4gICAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gICAgfVxuXG4gICAgI2RyYXdpbmctY3JlYXRlZC1hdCB7XG4gICAgICAgIGdyaWQtY29sdW1uOiAxIC8gMztcbiAgICAgICAgZ3JpZC1yb3c6IDIgLyAzO1xuXG4gICAgICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE7XG4gICAgICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgICAgICAgY29sb3I6ICM1ODYwNjk7XG4gICAgfVxufVxuXG5tYXQtbGlzdC1vcHRpb25bYXJpYS1zZWxlY3RlZD0ndHJ1ZSddIHtcbiAgICBiYWNrZ3JvdW5kOiAjZGRkZGRkO1xufVxuXG4jZmlsdGVycyB7XG4gICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICB3aWR0aDogNjI2cHg7XG4gICAgYWxpZ24tc2VsZjogY2VudGVyO1xuICAgIG1hcmdpbi1yaWdodDogNDJweDtcbn1cblxuLmZpbHRlciB7XG4gICAgaGVpZ2h0OiAyNHB4O1xuICAgIHBhZGRpbmc6IDJweCA0cHggMnB4IDQwcHg7XG4gICAgbWFyZ2luOiA0cHggMDtcblxuICAgIGNvbG9yOiAjNTg2MDY5O1xuXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2QxZDVkYTtcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgb3V0bGluZTogbm9uZTtcblxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnLi4vLi4vLi4vLi4vYXNzZXRzL3NlYXJjaF9pY29uLnBuZycpO1xuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogbGVmdCA4cHggY2VudGVyO1xuICAgIGJhY2tncm91bmQtc2l6ZTogMjBweDtcbn1cblxuLmhpZGRlbi1pbmZvIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgY29sb3I6ICM4ZjhmOGY7XG59XG5cbi5jZW50ZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24tc2VsZjogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4jbG9hZGluZy1kaXYge1xuICAgIG1heC1oZWlnaHQ6IDYwMHB4O1xuICAgIG1hcmdpbjogMjBweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgI2ltZyB7XG4gICAgICAgIHdpZHRoOiAxNTBweDtcbiAgICB9XG59XG5cbi5jb25maXJtYXRpb24ge1xuICAgIG1hcmdpbi10b3A6IDIwcHg7XG59XG5cbiNjb250ZW50LWxvY2FsLXdyYXBwZXIge1xuICAgIG1hcmdpbi10b3A6IDIwcHg7XG59XG5cbiNpbnB1dC13cmFwcGVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgbWFyZ2luLXRvcDogMTBweDtcbn1cblxuI2Rlc3RpbmF0aW9uLWxhYmVsIHtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgYWxpZ24tc2VsZjogY2VudGVyO1xufVxuXG4jZGVzdGluYXRpb24tcGF0aCB7XG4gICAgbWFyZ2luOiAwIDEwcHggMCAwO1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgcGFkZGluZzogMnB4IDRweCAycHggMTJweDtcblxuICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuODcpO1xuXG4gICAgYm94LXNoYWRvdzogMHB4IDBweCAwcHggMHB4IHJnYmEoMCwgMCwgMCwgMC4yKSwgMHB4IDBweCAwcHggMHB4IHJnYmEoMCwgMCwgMCwgMC4xNCksXG4gICAgICAgIDBweCAwcHggMHB4IDBweCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkO1xuICAgIGJvcmRlci1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjEyKTtcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgY3Vyc29yOiBkZWZhdWx0O1xuXG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAyNHB4O1xufVxuXG4uaW5wdXRmaWxlIHtcbiAgICB3aWR0aDogMC4xcHg7XG4gICAgaGVpZ2h0OiAwLjFweDtcbiAgICBvcGFjaXR5OiAwO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHotaW5kZXg6IC0xO1xufVxuXG4uaW5wdXRmaWxlICsgbGFiZWwge1xuICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuODcpO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmlucHV0ZmlsZTpmb2N1cyArIGxhYmVsIHtcbiAgICBvdXRsaW5lOiAxcHggZG90dGVkICMwMDA7XG59XG5cbi5pbnB1dGZpbGU6Zm9jdXMgKyBsYWJlbCxcbi5pbnB1dGZpbGUgKyBsYWJlbDpob3ZlciB7XG4gICAgY29sb3I6ICNmZjU3MjI7XG59XG5cbjo6bmctZGVlcC5tYXQtZGlhbG9nLWFjdGlvbnMge1xuICAgIG1hcmdpbi1ib3R0b206IDAgIWltcG9ydGFudDtcbiAgICBtaW4taGVpZ2h0OiA0MHB4O1xufVxuXG4uZmFzLmZhLWZvbGRlciB7XG4gICAgZm9udC1zaXplOiAyNHB4O1xufVxuXG4uc3VibWl0LWJ1dHRvbi1ncm91cC13cmFwcGVyIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XG59XG5cbi5zdWJtaXQtYnV0dG9uLWdyb3VwIHtcbiAgICBhbGlnbi1zZWxmOiBmbGV4LWVuZDtcbiAgICAjY2xpY2thYmxlIHtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICB9XG59XG5cbiNjbGlja2FibGUge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbn1cbiIsIjo6bmctZGVlcC5tYXQtZGlhbG9nLWNvbnRlbnQge1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbn1cblxuOjpuZy1kZWVwLm1hdC1saXN0LXRleHQge1xuICBwYWRkaW5nLXJpZ2h0OiAwICFpbXBvcnRhbnQ7XG59XG5cbiNjb250ZW50LXdyYXBwZXIge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLXJvd3M6IG1pbm1heCg0MjhweCwgYXV0bykgMTlweDtcbn1cblxuLm1hdC10eXBvZ3JhcGh5LFxuLm1hdC10eXBvZ3JhcGh5LWxvY2FsIHtcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xuICBoZWlnaHQ6IDQyOHB4O1xufVxuLm1hdC10eXBvZ3JhcGh5IDpmb2N1cyxcbi5tYXQtdHlwb2dyYXBoeS1sb2NhbCA6Zm9jdXMge1xuICBvdXRsaW5lOiBub25lO1xufVxuXG4ubWF0LXR5cG9ncmFwaHktbG9jYWwge1xuICB3aWR0aDogNjc0cHg7XG59XG5cbi50YWItY29udGVudCB7XG4gIGhlaWdodDogNjAwcHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xufVxuXG4jc2VsZWN0aW9uLWxpc3Qge1xuICBwYWRkaW5nOiAwO1xufVxuI3NlbGVjdGlvbi1saXN0IDo6bmctZGVlcC5tYXQtcHNldWRvLWNoZWNrYm94IHtcbiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xufVxuI3NlbGVjdGlvbi1saXN0ICNsaXN0LW9wdGlvbiB7XG4gIGhlaWdodDogMTAwJTtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2UxZTRlODtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xufVxuXG4jZHJhd2luZy1vcHRpb24ge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDEzMHB4IDQ1MHB4IDYwcHg7XG4gIGdyaWQtdGVtcGxhdGUtcm93czogbWlubWF4KDUwcHgsIGF1dG8pIDIwcHg7XG59XG4jZHJhd2luZy1vcHRpb24gI2RyYXdpbmctbmFtZSB7XG4gIGdyaWQtY29sdW1uOiAxLzI7XG4gIGdyaWQtcm93OiAxLzI7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG59XG4jZHJhd2luZy1vcHRpb24gI2RyYXdpbmctbGFiZWxzLWxpc3Qge1xuICBncmlkLWNvbHVtbjogMi8zO1xuICBncmlkLXJvdzogMS8yO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGxlZnQ7XG4gIGZsZXgtd3JhcDogd3JhcDtcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xufVxuI2RyYXdpbmctb3B0aW9uICNkcmF3aW5nLWxhYmVscy1saXN0ICNkcmF3aW5nLWxhYmVsIHtcbiAgcGFkZGluZzogM3B4IDZweDtcbiAgbWFyZ2luOiAzcHggNHB4O1xuICBtaW4td2lkdGg6IDYwcHg7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBib3JkZXI6IDFweCBzb2xpZDtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xufVxuI2RyYXdpbmctb3B0aW9uICNkcmF3aW5nLXRodW1ibmFpbCB7XG4gIGdyaWQtY29sdW1uOiAzLzQ7XG4gIGdyaWQtcm93OiAxLzM7XG4gIGhlaWdodDogNjBweDtcbiAgd2lkdGg6IDYwcHg7XG4gIHBhZGRpbmc6IDA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcbn1cbiNkcmF3aW5nLW9wdGlvbiAjZHJhd2luZy1jcmVhdGVkLWF0IHtcbiAgZ3JpZC1jb2x1bW46IDEvMztcbiAgZ3JpZC1yb3c6IDIvMztcbiAgZm9udC1zaXplOiAxMHB4O1xuICBsaW5lLWhlaWdodDogMTtcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xuICBjb2xvcjogIzU4NjA2OTtcbn1cblxubWF0LWxpc3Qtb3B0aW9uW2FyaWEtc2VsZWN0ZWQ9dHJ1ZV0ge1xuICBiYWNrZ3JvdW5kOiAjZGRkZGRkO1xufVxuXG4jZmlsdGVycyB7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG4gIHdpZHRoOiA2MjZweDtcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xuICBtYXJnaW4tcmlnaHQ6IDQycHg7XG59XG5cbi5maWx0ZXIge1xuICBoZWlnaHQ6IDI0cHg7XG4gIHBhZGRpbmc6IDJweCA0cHggMnB4IDQwcHg7XG4gIG1hcmdpbjogNHB4IDA7XG4gIGNvbG9yOiAjNTg2MDY5O1xuICBib3JkZXI6IDFweCBzb2xpZCAjZDFkNWRhO1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIG91dGxpbmU6IG5vbmU7XG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIi4uLy4uLy4uLy4uL2Fzc2V0cy9zZWFyY2hfaWNvbi5wbmdcIik7XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IGxlZnQgOHB4IGNlbnRlcjtcbiAgYmFja2dyb3VuZC1zaXplOiAyMHB4O1xufVxuXG4uaGlkZGVuLWluZm8ge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiAjOGY4ZjhmO1xufVxuXG4uY2VudGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuI2xvYWRpbmctZGl2IHtcbiAgbWF4LWhlaWdodDogNjAwcHg7XG4gIG1hcmdpbjogMjBweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuI2xvYWRpbmctZGl2ICNpbWcge1xuICB3aWR0aDogMTUwcHg7XG59XG5cbi5jb25maXJtYXRpb24ge1xuICBtYXJnaW4tdG9wOiAyMHB4O1xufVxuXG4jY29udGVudC1sb2NhbC13cmFwcGVyIHtcbiAgbWFyZ2luLXRvcDogMjBweDtcbn1cblxuI2lucHV0LXdyYXBwZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgbWFyZ2luLXRvcDogMTBweDtcbn1cblxuI2Rlc3RpbmF0aW9uLWxhYmVsIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBhbGlnbi1zZWxmOiBjZW50ZXI7XG59XG5cbiNkZXN0aW5hdGlvbi1wYXRoIHtcbiAgbWFyZ2luOiAwIDEwcHggMCAwO1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBwYWRkaW5nOiAycHggNHB4IDJweCAxMnB4O1xuICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjg3KTtcbiAgYm94LXNoYWRvdzogMHB4IDBweCAwcHggMHB4IHJnYmEoMCwgMCwgMCwgMC4yKSwgMHB4IDBweCAwcHggMHB4IHJnYmEoMCwgMCwgMCwgMC4xNCksIDBweCAwcHggMHB4IDBweCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xuICBib3JkZXI6IDFweCBzb2xpZDtcbiAgYm9yZGVyLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMTIpO1xuICBib3JkZXItcmFkaXVzOiAycHg7XG4gIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICBmb250LXNpemU6IDE0cHg7XG4gIG91dGxpbmU6IG5vbmU7XG4gIGN1cnNvcjogZGVmYXVsdDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMjRweDtcbn1cblxuLmlucHV0ZmlsZSB7XG4gIHdpZHRoOiAwLjFweDtcbiAgaGVpZ2h0OiAwLjFweDtcbiAgb3BhY2l0eTogMDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB6LWluZGV4OiAtMTtcbn1cblxuLmlucHV0ZmlsZSArIGxhYmVsIHtcbiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44Nyk7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmlucHV0ZmlsZTpmb2N1cyArIGxhYmVsIHtcbiAgb3V0bGluZTogMXB4IGRvdHRlZCAjMDAwO1xufVxuXG4uaW5wdXRmaWxlOmZvY3VzICsgbGFiZWwsXG4uaW5wdXRmaWxlICsgbGFiZWw6aG92ZXIge1xuICBjb2xvcjogI2ZmNTcyMjtcbn1cblxuOjpuZy1kZWVwLm1hdC1kaWFsb2ctYWN0aW9ucyB7XG4gIG1hcmdpbi1ib3R0b206IDAgIWltcG9ydGFudDtcbiAgbWluLWhlaWdodDogNDBweDtcbn1cblxuLmZhcy5mYS1mb2xkZXIge1xuICBmb250LXNpemU6IDI0cHg7XG59XG5cbi5zdWJtaXQtYnV0dG9uLWdyb3VwLXdyYXBwZXIge1xuICBoZWlnaHQ6IDEwMCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcbn1cblxuLnN1Ym1pdC1idXR0b24tZ3JvdXAge1xuICBhbGlnbi1zZWxmOiBmbGV4LWVuZDtcbn1cbi5zdWJtaXQtYnV0dG9uLWdyb3VwICNjbGlja2FibGUge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xufVxuXG4jY2xpY2thYmxlIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatDialogRef, MatSnackBar } from '@angular/material';\n\nimport { filter, map } from 'rxjs/operators';\n\nimport { Drawing } from 'src/../../common/communication/Drawing';\nimport { ModalManagerService } from 'src/app/services/modal-manager/modal-manager.service';\nimport { DrawingLoaderService } from 'src/app/services/server/drawing-loader/drawing-loader.service';\nimport { FileManagerService } from 'src/app/services/server/file-manager/file-manager.service';\nimport { UndoRedoerService } from 'src/app/services/undo-redoer/undo-redoer.service';\nimport { GIFS, NUMBER_OF_MS } from 'src/constants/constants';\nimport { SNACKBAR_DURATION } from 'src/constants/tool-constants';\nimport { DrawingInfo } from '../../../../../../common/communication/DrawingInfo';\n\n@Component({\n    selector: 'app-open-file-modal-window',\n    templateUrl: './open-file-modal-window.component.html',\n    styleUrls: ['./open-file-modal-window.component.scss'],\n})\nexport class OpenFileModalWindowComponent implements OnInit {\n    openFileModalForm: FormGroup;\n    openLocalFileModalForm: FormGroup;\n    formBuilder: FormBuilder;\n\n    drawingsFromServer: Drawing[] = [];\n    SVGs: Map<string, string> = new Map([]);\n    selectedOption: number;\n    nameFilter: string;\n    labelFilter: string;\n    emptyDrawStack = true;\n    isLoading: boolean;\n    randomGifIndex: number;\n    localFileName = '';\n    fileToLoad: Drawing | null = null;\n\n    constructor(\n        formBuilder: FormBuilder,\n        private dialogRef: MatDialogRef<OpenFileModalWindowComponent>,\n        private modalManagerService: ModalManagerService,\n        private fileManagerService: FileManagerService,\n        private drawingLoaderService: DrawingLoaderService,\n        private undoRedoerService: UndoRedoerService,\n        private snackBar: MatSnackBar,\n    ) {\n        this.formBuilder = formBuilder;\n    }\n\n    ngOnInit(): void {\n        this.initializeForms();\n\n        this.isLoading = true;\n        this.localFileName = '';\n        this.fileManagerService\n            .getAllDrawings()\n            .pipe(\n                filter((subject) => {\n                    if (subject === undefined) {\n                        this.snackBar.open('Erreur de chargement! Le serveur n\\'est peut-être pas ouvert.', 'OK', {\n                            duration: SNACKBAR_DURATION,\n                        });\n                        this.isLoading = false;\n                        return false;\n                    } else {\n                        return true;\n                    }\n                }),\n            )\n            .pipe(map((drawings) => drawings.sort((a, b) => b.drawingInfo.createdAt - a.drawingInfo.createdAt)))\n            .subscribe((drawings: Drawing[]) => {\n                drawings.forEach((drawing: Drawing) => {\n                    this.drawingsFromServer.push(drawing);\n                });\n                this.isLoading = false;\n            });\n\n        this.drawingLoaderService.emptyDrawStack.subscribe((emptyDrawStack) => {\n            this.emptyDrawStack = emptyDrawStack;\n        });\n\n        this.randomGifIndex = Math.floor(Math.random() * GIFS.length);\n    }\n\n    downloadAndUpdateSVG(drawing: Drawing, drawingInfo: DrawingInfo, url: string): void {\n        this.SVGs.set(drawingInfo.name, url);\n\n        const xhr = new XMLHttpRequest();\n        xhr.responseType = 'blob';\n        xhr.onload = async () => {\n            const blob = xhr.response;\n            const text = await new Response(blob).text();\n            drawing.svg = this.extractInnerHTML(text);\n        };\n        xhr.open('GET', 'https://cors-anywhere.herokuapp.com/' + url);\n        xhr.send();\n    }\n\n    extractInnerHTML(text: string): string {\n        return text.slice(text.indexOf('>') + 1, text.indexOf('</svg>'));\n    }\n\n    initializeForms(): void {\n        this.openFileModalForm = this.formBuilder.group({\n            selectedDrawing: [[this.selectedOption], Validators.required],\n            confirm: false,\n        });\n\n        this.openLocalFileModalForm = this.formBuilder.group({\n            confirm: false,\n        });\n    }\n\n    initializeUndoRedoStacks(): void {\n        this.undoRedoerService.initializeStacks();\n        this.undoRedoerService.fromLoader = true;\n    }\n\n    handleSelection(event: any): void {\n        this.selectedOption = event.option.selected ? event.option.value : 0;\n        this.openFileModalForm.controls.selectedDrawing.setValue([this.selectedOption]);\n    }\n\n    closeDialog(): void {\n        this.dialogRef.close();\n        this.modalManagerService.setModalIsDisplayed(false);\n    }\n\n    loadServerFile(): void {\n        this.initializeUndoRedoStacks();\n        const selectedDrawing: Drawing = this.drawingsFromServer.find(\n            (drawing) => drawing.drawingInfo.createdAt === this.selectedOption,\n        ) as Drawing;\n        this.drawingLoaderService.currentDrawing.next(selectedDrawing);\n        this.closeDialog();\n    }\n\n    loadLocalFile(): void {\n        this.initializeUndoRedoStacks();\n        this.drawingLoaderService.currentDrawing.next(this.fileToLoad as Drawing);\n        this.closeDialog();\n    }\n\n    getFileToLoad(event: Event): void {\n        const reader = new FileReader();\n        const target = event.target as HTMLInputElement;\n        const files = target.files as FileList;\n        if (files.length !== 0) {\n            reader.readAsText(files[0]);\n            reader.onload = () => {\n                try {\n                    const localFileContent = JSON.parse(reader.result as string);\n                    this.fileToLoad = localFileContent as Drawing;\n                    this.localFileName = this.fileToLoad.drawingInfo.name;\n                } catch (error) {\n                    this.fileToLoad = null;\n                    this.localFileName = '';\n                    this.snackBar.open('Le fichier choisi n\\'est pas valide, veuillez réessayer.', 'OK', {\n                        duration: SNACKBAR_DURATION,\n                    });\n                }\n            };\n        }\n    }\n\n    serverFormIsInvalid(): boolean {\n        return (\n            this.openFileModalForm.value.selectedDrawing[0] === '' ||\n            (!this.emptyDrawStack && this.openFileModalForm.invalid)\n        );\n    }\n\n    localFormIsInvalid(): boolean {\n        return this.localFileName === '' || (!this.emptyDrawStack && this.openLocalFileModalForm.invalid);\n    }\n\n    getGifSource() {\n        return GIFS[this.randomGifIndex];\n    }\n\n    onDelete() {\n        const selectedDrawing: Drawing = this.drawingsFromServer.find(\n            (drawing) => drawing.drawingInfo.createdAt === this.selectedOption,\n        ) as Drawing;\n        this.fileManagerService.deleteDrawing(selectedDrawing.drawingInfo.createdAt).subscribe((createdAt: number) => {\n            if (createdAt === selectedDrawing.drawingInfo.createdAt) {\n                this.drawingsFromServer = this.drawingsFromServer.filter((drawing: Drawing) => {\n                    return drawing.drawingInfo.createdAt !== createdAt;\n                });\n                this.snackBar.open('Suppression réussie!', 'OK', {\n                    duration: SNACKBAR_DURATION,\n                });\n            } else {\n                this.snackBar.open('Erreur de suppression du côté serveur!', 'OK', {\n                    duration: SNACKBAR_DURATION,\n                });\n            }\n        });\n    }\n\n    getDimensions(drawingName: string): number[] {\n        const i: number = this.findIndexByName(drawingName);\n        const height: number = this.drawingsFromServer[i].drawingInfo.height;\n        const width: number = this.drawingsFromServer[i].drawingInfo.width;\n\n        return [width, height];\n    }\n\n    getViewBox(drawingName: string): string {\n        const dimensions = this.getDimensions(drawingName);\n        return `0 0 ${dimensions[0]} ${dimensions[1]}`;\n    }\n\n    getWidth(drawingName: string): string {\n        const dimensions = this.getDimensions(drawingName);\n\n        return dimensions[0] > dimensions[1] ? '100%' : '60px';\n    }\n\n    getHeight(drawingName: string): string {\n        const dimensions = this.getDimensions(drawingName);\n\n        return dimensions[0] < dimensions[1] ? '100%' : '60px';\n    }\n\n    getSVG(drawingName: string): string {\n        const i: number = this.findIndexByName(drawingName);\n        return this.drawingsFromServer[i].svg;\n    }\n\n    findIndexByName(drawingName: string): number {\n        const drawing: Drawing = this.drawingsFromServer.find((el: Drawing) => {\n            return el.drawingInfo.name === drawingName;\n        }) as Drawing;\n        return this.drawingsFromServer.indexOf(drawing);\n    }\n\n    unmaskAll() {\n        this.nameFilter = '$tout';\n    }\n\n    convertTimeStampToDate(timestamp: number): string {\n        const currentTimestamp = Date.now();\n\n        if (this.numberOfDaysBetween(timestamp, currentTimestamp) < 7) {\n            const differenceInMs = currentTimestamp - timestamp;\n            return 'Créé il y a ' + this.msToDaysHoursMinutes(differenceInMs);\n        }\n        const date = new Date(timestamp);\n\n        const creationDate =\n            `${date.getFullYear}/${date.getMonth}/${date.getDay} à ` +\n            `${date.getHours}:${date.getMinutes}:${date.getSeconds}}`;\n\n        return 'Créé le ' + creationDate;\n    }\n\n    numberOfDaysBetween(timestamp1: number, timestamp2: number): number {\n        const numberDaysDate1 = Math.floor(timestamp1 / NUMBER_OF_MS.day);\n        const numberDaysDate2 = Math.floor(timestamp2 / NUMBER_OF_MS.day);\n\n        return numberDaysDate2 - numberDaysDate1;\n    }\n\n    msToDaysHoursMinutes(differenceInMs: number): string {\n        const days = Math.floor(differenceInMs / NUMBER_OF_MS.day);\n        const hours = Math.floor((differenceInMs % NUMBER_OF_MS.day) / NUMBER_OF_MS.hours);\n        const minutes = Math.floor((differenceInMs % NUMBER_OF_MS.hours) / NUMBER_OF_MS.minutes);\n\n        const daysDisplay = days <= 1 ? ' jour, ' : ' jours, ';\n        const hoursDisplay = hours <= 1 ? ' heure et ' : ' heures et ';\n        const minutesDisplay = minutes <= 1 ? ' minute ' : ' minutes';\n\n        return days + daysDisplay + hours + hoursDisplay + minutes + minutesDisplay;\n    }\n}\n","module.exports = \".mat-typography,\\n.mat-typography-local {\\n  display: grid;\\n  align-self: center;\\n  padding: 15px 40px;\\n}\\n\\n.mat-typography {\\n  grid-template-columns: 140px 315px 185px;\\n  grid-template-rows: 30px 10px auto 10px 30px;\\n}\\n\\n.mat-typography-local {\\n  grid-template-columns: 140px 500px;\\n  grid-template-rows: 30px 20px 30px;\\n}\\n\\n#input-description {\\n  grid-column: 1/3;\\n  grid-row: 3/4;\\n  align-self: center;\\n  font-size: 14px;\\n  font-style: italic;\\n  color: #ff5722;\\n}\\n\\n.file-name-title {\\n  grid-column: 1/2;\\n  grid-row: 1/2;\\n}\\n\\n.file-name-input {\\n  grid-column: 2/3;\\n  grid-row: 1/2;\\n  width: 492px;\\n}\\n\\n.tab-content {\\n  height: 280px;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n  overflow-x: hidden;\\n}\\n\\n.drawing-name-title {\\n  grid-column: 1/2;\\n  grid-row: 1/2;\\n}\\n\\n.drawing-label-title {\\n  grid-column: 1/2;\\n  grid-row: 3/4;\\n}\\n\\n.drawing-name-input {\\n  grid-column: 2/4;\\n  grid-row: 1/2;\\n  width: 492px;\\n}\\n\\n.drawing-labels-list {\\n  grid-column: 2/4;\\n  grid-row: 3/4;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: left;\\n          justify-content: left;\\n  flex-wrap: wrap;\\n}\\n\\n.new-label-input {\\n  grid-column: 2/3;\\n  grid-row: 5/6;\\n  width: 307px;\\n}\\n\\n.new-label-button {\\n  grid-column: 3/4;\\n  grid-row: 5/6;\\n  text-align: center;\\n  line-height: 0;\\n  margin-right: 20px;\\n  padding: 0;\\n}\\n\\n.drawing-name-title,\\n.drawing-label-title,\\n.file-name-title {\\n  align-self: center;\\n  font-size: 14px;\\n}\\n\\n.drawing-name-input,\\n.new-label-input,\\n.file-name-input {\\n  padding-left: 8px;\\n  align-self: center;\\n  margin: 0;\\n  font-size: 14px;\\n}\\n\\n.label {\\n  padding: 3px 6px;\\n  margin: 3px 4px;\\n  min-width: 60px;\\n  font-size: 12px;\\n  text-align: center;\\n  border-style: dashed;\\n  border-radius: 5px;\\n}\\n\\n::ng-deep.mat-dialog-actions {\\n  margin-bottom: 0 !important;\\n}\\n\\n.fas.fa-folder {\\n  font-size: 24px;\\n}\\n\\n.submit-button-group-wrapper {\\n  height: 100%;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: reverse;\\n          flex-direction: column-reverse;\\n}\\n\\n.submit-button-group {\\n  align-self: flex-end;\\n}\\n\\n.cdk-focused {\\n  outline: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL21vZGFsLXdpbmRvd3Mvc2F2ZS1maWxlLW1vZGFsLXdpbmRvdy9zYXZlLWZpbGUtbW9kYWwtd2luZG93LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL21vZGFsLXdpbmRvd3Mvc2F2ZS1maWxlLW1vZGFsLXdpbmRvdy9zYXZlLWZpbGUtbW9kYWwtd2luZG93LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztFQUVJLGFBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0FDQ0o7O0FERUE7RUFDSSx3Q0FBQTtFQUNBLDRDQUFBO0FDQ0o7O0FERUE7RUFDSSxrQ0FBQTtFQUNBLGtDQUFBO0FDQ0o7O0FERUE7RUFDSSxnQkFBQTtFQUNBLGFBQUE7RUFFQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7QUNBSjs7QURHQTtFQUNJLGdCQUFBO0VBQ0EsYUFBQTtBQ0FKOztBREdBO0VBQ0ksZ0JBQUE7RUFDQSxhQUFBO0VBRUEsWUFBQTtBQ0RKOztBRElBO0VBQ0ksYUFBQTtFQUNBLG9CQUFBO0VBQUEsYUFBQTtFQUNBLDRCQUFBO0VBQUEsNkJBQUE7VUFBQSxzQkFBQTtFQUNBLHlCQUFBO1VBQUEsOEJBQUE7RUFDQSxrQkFBQTtBQ0RKOztBRElBO0VBQ0ksZ0JBQUE7RUFDQSxhQUFBO0FDREo7O0FESUE7RUFDSSxnQkFBQTtFQUNBLGFBQUE7QUNESjs7QURJQTtFQUNJLGdCQUFBO0VBQ0EsYUFBQTtFQUVBLFlBQUE7QUNGSjs7QURLQTtFQUNJLGdCQUFBO0VBQ0EsYUFBQTtFQUVBLG9CQUFBO0VBQUEsYUFBQTtFQUNBLHNCQUFBO1VBQUEscUJBQUE7RUFDQSxlQUFBO0FDSEo7O0FETUE7RUFDSSxnQkFBQTtFQUNBLGFBQUE7RUFFQSxZQUFBO0FDSko7O0FET0E7RUFDSSxnQkFBQTtFQUNBLGFBQUE7RUFFQSxrQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtFQUNBLFVBQUE7QUNMSjs7QURRQTs7O0VBR0ksa0JBQUE7RUFDQSxlQUFBO0FDTEo7O0FEUUE7OztFQUdJLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsZUFBQTtBQ0xKOztBRFFBO0VBQ0ksZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0Esa0JBQUE7QUNMSjs7QURRQTtFQUNJLDJCQUFBO0FDTEo7O0FEUUE7RUFDSSxlQUFBO0FDTEo7O0FEUUE7RUFDSSxZQUFBO0VBQ0Esb0JBQUE7RUFBQSxhQUFBO0VBQ0EsNEJBQUE7RUFBQSw4QkFBQTtVQUFBLDhCQUFBO0FDTEo7O0FEUUE7RUFDSSxvQkFBQTtBQ0xKOztBRFFBO0VBQ0ksYUFBQTtBQ0xKIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9tb2RhbC13aW5kb3dzL3NhdmUtZmlsZS1tb2RhbC13aW5kb3cvc2F2ZS1maWxlLW1vZGFsLXdpbmRvdy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXQtdHlwb2dyYXBoeSxcbi5tYXQtdHlwb2dyYXBoeS1sb2NhbCB7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gICAgcGFkZGluZzogMTVweCA0MHB4O1xufVxuXG4ubWF0LXR5cG9ncmFwaHkge1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMTQwcHggMzE1cHggMTg1cHg7XG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAzMHB4IDEwcHggYXV0byAxMHB4IDMwcHg7XG59XG5cbi5tYXQtdHlwb2dyYXBoeS1sb2NhbCB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxNDBweCA1MDBweDtcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IDMwcHggMjBweCAzMHB4O1xufVxuXG4jaW5wdXQtZGVzY3JpcHRpb24ge1xuICAgIGdyaWQtY29sdW1uOiAxIC8gMztcbiAgICBncmlkLXJvdzogMyAvIDQ7XG5cbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgICBjb2xvcjogI2ZmNTcyMjtcbn1cblxuLmZpbGUtbmFtZS10aXRsZSB7XG4gICAgZ3JpZC1jb2x1bW46IDEgLyAyO1xuICAgIGdyaWQtcm93OiAxIC8gMjtcbn1cblxuLmZpbGUtbmFtZS1pbnB1dCB7XG4gICAgZ3JpZC1jb2x1bW46IDIgLyAzO1xuICAgIGdyaWQtcm93OiAxIC8gMjtcblxuICAgIHdpZHRoOiA0OTJweDtcbn1cblxuLnRhYi1jb250ZW50IHtcbiAgICBoZWlnaHQ6IDI4MHB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgb3ZlcmZsb3cteDogaGlkZGVuO1xufVxuXG4uZHJhd2luZy1uYW1lLXRpdGxlIHtcbiAgICBncmlkLWNvbHVtbjogMSAvIDI7XG4gICAgZ3JpZC1yb3c6IDEgLyAyO1xufVxuXG4uZHJhd2luZy1sYWJlbC10aXRsZSB7XG4gICAgZ3JpZC1jb2x1bW46IDEgLyAyO1xuICAgIGdyaWQtcm93OiAzIC8gNDtcbn1cblxuLmRyYXdpbmctbmFtZS1pbnB1dCB7XG4gICAgZ3JpZC1jb2x1bW46IDIgLyA0O1xuICAgIGdyaWQtcm93OiAxIC8gMjtcblxuICAgIHdpZHRoOiA0OTJweDtcbn1cblxuLmRyYXdpbmctbGFiZWxzLWxpc3Qge1xuICAgIGdyaWQtY29sdW1uOiAyIC8gNDtcbiAgICBncmlkLXJvdzogMyAvIDQ7XG5cbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogbGVmdDtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG59XG5cbi5uZXctbGFiZWwtaW5wdXQge1xuICAgIGdyaWQtY29sdW1uOiAyIC8gMztcbiAgICBncmlkLXJvdzogNSAvIDY7XG5cbiAgICB3aWR0aDogMzA3cHg7XG59XG5cbi5uZXctbGFiZWwtYnV0dG9uIHtcbiAgICBncmlkLWNvbHVtbjogMyAvIDQ7XG4gICAgZ3JpZC1yb3c6IDUgLyA2O1xuXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGxpbmUtaGVpZ2h0OiAwO1xuICAgIG1hcmdpbi1yaWdodDogMjBweDtcbiAgICBwYWRkaW5nOiAwO1xufVxuXG4uZHJhd2luZy1uYW1lLXRpdGxlLFxuLmRyYXdpbmctbGFiZWwtdGl0bGUsXG4uZmlsZS1uYW1lLXRpdGxlIHtcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiAxNHB4O1xufVxuXG4uZHJhd2luZy1uYW1lLWlucHV0LFxuLm5ldy1sYWJlbC1pbnB1dCxcbi5maWxlLW5hbWUtaW5wdXQge1xuICAgIHBhZGRpbmctbGVmdDogOHB4O1xuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgICBtYXJnaW46IDA7XG4gICAgZm9udC1zaXplOiAxNHB4O1xufVxuXG4ubGFiZWwge1xuICAgIHBhZGRpbmc6IDNweCA2cHg7XG4gICAgbWFyZ2luOiAzcHggNHB4O1xuICAgIG1pbi13aWR0aDogNjBweDtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGJvcmRlci1zdHlsZTogZGFzaGVkO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbn1cblxuOjpuZy1kZWVwLm1hdC1kaWFsb2ctYWN0aW9ucyB7XG4gICAgbWFyZ2luLWJvdHRvbTogMCAhaW1wb3J0YW50O1xufVxuXG4uZmFzLmZhLWZvbGRlciB7XG4gICAgZm9udC1zaXplOiAyNHB4O1xufVxuXG4uc3VibWl0LWJ1dHRvbi1ncm91cC13cmFwcGVyIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XG59XG5cbi5zdWJtaXQtYnV0dG9uLWdyb3VwIHtcbiAgICBhbGlnbi1zZWxmOiBmbGV4LWVuZDtcbn1cblxuLmNkay1mb2N1c2VkIHtcbiAgICBvdXRsaW5lOiBub25lO1xufVxuIiwiLm1hdC10eXBvZ3JhcGh5LFxuLm1hdC10eXBvZ3JhcGh5LWxvY2FsIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xuICBwYWRkaW5nOiAxNXB4IDQwcHg7XG59XG5cbi5tYXQtdHlwb2dyYXBoeSB7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMTQwcHggMzE1cHggMTg1cHg7XG4gIGdyaWQtdGVtcGxhdGUtcm93czogMzBweCAxMHB4IGF1dG8gMTBweCAzMHB4O1xufVxuXG4ubWF0LXR5cG9ncmFwaHktbG9jYWwge1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDE0MHB4IDUwMHB4O1xuICBncmlkLXRlbXBsYXRlLXJvd3M6IDMwcHggMjBweCAzMHB4O1xufVxuXG4jaW5wdXQtZGVzY3JpcHRpb24ge1xuICBncmlkLWNvbHVtbjogMS8zO1xuICBncmlkLXJvdzogMy80O1xuICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xuICBjb2xvcjogI2ZmNTcyMjtcbn1cblxuLmZpbGUtbmFtZS10aXRsZSB7XG4gIGdyaWQtY29sdW1uOiAxLzI7XG4gIGdyaWQtcm93OiAxLzI7XG59XG5cbi5maWxlLW5hbWUtaW5wdXQge1xuICBncmlkLWNvbHVtbjogMi8zO1xuICBncmlkLXJvdzogMS8yO1xuICB3aWR0aDogNDkycHg7XG59XG5cbi50YWItY29udGVudCB7XG4gIGhlaWdodDogMjgwcHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xufVxuXG4uZHJhd2luZy1uYW1lLXRpdGxlIHtcbiAgZ3JpZC1jb2x1bW46IDEvMjtcbiAgZ3JpZC1yb3c6IDEvMjtcbn1cblxuLmRyYXdpbmctbGFiZWwtdGl0bGUge1xuICBncmlkLWNvbHVtbjogMS8yO1xuICBncmlkLXJvdzogMy80O1xufVxuXG4uZHJhd2luZy1uYW1lLWlucHV0IHtcbiAgZ3JpZC1jb2x1bW46IDIvNDtcbiAgZ3JpZC1yb3c6IDEvMjtcbiAgd2lkdGg6IDQ5MnB4O1xufVxuXG4uZHJhd2luZy1sYWJlbHMtbGlzdCB7XG4gIGdyaWQtY29sdW1uOiAyLzQ7XG4gIGdyaWQtcm93OiAzLzQ7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogbGVmdDtcbiAgZmxleC13cmFwOiB3cmFwO1xufVxuXG4ubmV3LWxhYmVsLWlucHV0IHtcbiAgZ3JpZC1jb2x1bW46IDIvMztcbiAgZ3JpZC1yb3c6IDUvNjtcbiAgd2lkdGg6IDMwN3B4O1xufVxuXG4ubmV3LWxhYmVsLWJ1dHRvbiB7XG4gIGdyaWQtY29sdW1uOiAzLzQ7XG4gIGdyaWQtcm93OiA1LzY7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbGluZS1oZWlnaHQ6IDA7XG4gIG1hcmdpbi1yaWdodDogMjBweDtcbiAgcGFkZGluZzogMDtcbn1cblxuLmRyYXdpbmctbmFtZS10aXRsZSxcbi5kcmF3aW5nLWxhYmVsLXRpdGxlLFxuLmZpbGUtbmFtZS10aXRsZSB7XG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG4uZHJhd2luZy1uYW1lLWlucHV0LFxuLm5ldy1sYWJlbC1pbnB1dCxcbi5maWxlLW5hbWUtaW5wdXQge1xuICBwYWRkaW5nLWxlZnQ6IDhweDtcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xuICBtYXJnaW46IDA7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLmxhYmVsIHtcbiAgcGFkZGluZzogM3B4IDZweDtcbiAgbWFyZ2luOiAzcHggNHB4O1xuICBtaW4td2lkdGg6IDYwcHg7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBib3JkZXItc3R5bGU6IGRhc2hlZDtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xufVxuXG46Om5nLWRlZXAubWF0LWRpYWxvZy1hY3Rpb25zIHtcbiAgbWFyZ2luLWJvdHRvbTogMCAhaW1wb3J0YW50O1xufVxuXG4uZmFzLmZhLWZvbGRlciB7XG4gIGZvbnQtc2l6ZTogMjRweDtcbn1cblxuLnN1Ym1pdC1idXR0b24tZ3JvdXAtd3JhcHBlciB7XG4gIGhlaWdodDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbi1yZXZlcnNlO1xufVxuXG4uc3VibWl0LWJ1dHRvbi1ncm91cCB7XG4gIGFsaWduLXNlbGY6IGZsZXgtZW5kO1xufVxuXG4uY2RrLWZvY3VzZWQge1xuICBvdXRsaW5lOiBub25lO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatDialogRef, MatSnackBar } from '@angular/material';\nimport { SafeResourceUrl } from '@angular/platform-browser';\n\nimport { filter, take } from 'rxjs/operators';\nimport { ModalManagerService } from 'src/app/services/modal-manager/modal-manager.service';\nimport { DrawingLoaderService } from 'src/app/services/server/drawing-loader/drawing-loader.service';\nimport { DrawingSaverService } from 'src/app/services/server/drawing-saver/drawing-saver.service';\nimport { DrawingSavingInfo } from 'src/classes/DrawingSavingInfo';\nimport { MAX_NB_LABELS } from 'src/constants/constants';\nimport { SNACKBAR_DURATION } from 'src/constants/tool-constants';\n\n@Component({\n    selector: 'app-save-file-modal-window',\n    templateUrl: './save-file-modal-window.component.html',\n    styleUrls: ['./save-file-modal-window.component.scss'],\n})\nexport class SaveFileModalWindowComponent implements OnInit {\n    saveFileModalForm: FormGroup;\n    saveFileLocalModalForm: FormGroup;\n    formBuilderServer: FormBuilder;\n    formBuilderLocal: FormBuilder;\n    drawingLabels: string[] = ['Art Abstrait', 'Art Contemporain', 'Expressionnisme', 'Minimalisme'];\n    selectedLabels: string[] = [];\n    errorMessage: string;\n    isSaving: boolean;\n    saveFileUrl: SafeResourceUrl = '';\n    filename = '';\n    createdAt = 0;\n    lastModified = 0;\n\n    constructor(\n        formBuilderServer: FormBuilder,\n        formBuilderLocal: FormBuilder,\n        private dialogRef: MatDialogRef<SaveFileModalWindowComponent>,\n        private modalManagerService: ModalManagerService,\n        private drawingSaverService: DrawingSaverService,\n        private drawingLoaderService: DrawingLoaderService,\n        private snackBar: MatSnackBar,\n    ) {\n        this.formBuilderServer = formBuilderServer;\n        this.formBuilderLocal = formBuilderLocal;\n    }\n\n    ngOnInit() {\n        this.initializeForm();\n        this.drawingLoaderService.currentDrawing.subscribe((currentDrawing) => {\n            this.saveFileModalForm.controls.name.setValue(currentDrawing.drawingInfo.name);\n            currentDrawing.drawingInfo.labels.forEach((label: string) => {\n                if (!this.drawingLabels.includes(label)) {\n                    this.drawingLabels.push(label);\n                }\n            });\n            this.selectedLabels = Array.from(currentDrawing.drawingInfo.labels);\n            this.createdAt = currentDrawing.drawingInfo.createdAt === null ? 0 : currentDrawing.drawingInfo.createdAt;\n            this.lastModified = currentDrawing.drawingInfo.lastModified;\n        });\n        this.drawingSaverService.currentErrorMessage.subscribe((errorMessage) => {\n            this.errorMessage = errorMessage;\n        });\n        this.isSaving = false;\n    }\n\n    initializeForm(): void {\n        this.saveFileModalForm = this.formBuilderServer.group({\n            name: ['', [Validators.required, Validators.minLength(1), Validators.maxLength(15)]],\n            label: ['', [Validators.maxLength(15), Validators.pattern('[A-Za-z0-9àÀéÉèÈôÔîÏçÇùÙ]*')]],\n        });\n        this.saveFileLocalModalForm = this.formBuilderLocal.group({\n            filename: [\n                '',\n                [Validators.required, Validators.minLength(1), Validators.pattern('([a-zA-Z0-9s_\\\\():])+(?:|.txt)$')],\n            ],\n        });\n    }\n\n    closeDialog(): void {\n        this.dialogRef.close();\n        this.modalManagerService.setModalIsDisplayed(false);\n    }\n\n    saveToServer(): void {\n        const drawingSavingInfo: DrawingSavingInfo = {\n            name: this.saveFileModalForm.value.name,\n            drawingLabels: this.selectedLabels,\n            createdAt: this.createdAt,\n            lastModified: this.lastModified,\n        };\n        this.drawingSaverService.sendFileToServer(drawingSavingInfo);\n        this.isSaving = true;\n\n        this.drawingSaverService.currentIsSaved\n            .pipe(filter((subject) => subject !== undefined))\n            .pipe(take(1))\n            .subscribe((drawingIsSaved) => {\n                if (drawingIsSaved) {\n                    this.snackBar.open('Sauvegarde réussie!', 'OK', {\n                        duration: SNACKBAR_DURATION,\n                    });\n                    this.closeDialog();\n                } else {\n                    this.snackBar.open(`Sauvegarde échouée...\\n${this.errorMessage}`, 'OK', {\n                        duration: SNACKBAR_DURATION,\n                    });\n                }\n                this.isSaving = false;\n                this.drawingSaverService.currentIsSaved.next(undefined);\n            });\n    }\n\n    saveToLocal(): boolean {\n        if (this.drawingLoaderService.emptyDrawStack.value) {\n            this.snackBar.open('Sauvegarde échouée...\\nAucun dessin dans la zone de travail!', 'OK', {\n                duration: SNACKBAR_DURATION,\n            });\n            return false;\n        }\n        this.saveFileUrl = this.drawingSaverService.getLocalFileDownloadUrl();\n        this.filename = this.saveFileLocalModalForm.value.filename;\n        this.closeDialog();\n        return true;\n    }\n\n    addLabel(newLabel: string): void {\n        if (this.selectedLabels.length >= MAX_NB_LABELS) {\n            this.snackBar.open(`Veuillez choisir au maximum ${MAX_NB_LABELS} étiquettes.`, 'OK', {\n                duration: SNACKBAR_DURATION,\n            });\n            return;\n        }\n        this.drawingLabels.push(newLabel);\n        this.selectedLabels.push(newLabel);\n        this.saveFileModalForm.controls.label.setValue('');\n    }\n\n    toggleLabel(label: string): void {\n        this.selectedLabels.includes(label) ? this.deselect(label) : this.select(label);\n    }\n\n    deselect(label: string): void {\n        this.selectedLabels = this.selectedLabels.filter((selectedLabel) => {\n            return selectedLabel !== label;\n        });\n    }\n\n    select(label: string): void {\n        this.selectedLabels.length >= MAX_NB_LABELS\n            ? this.snackBar.open(`Veuillez choisir au maximum ${MAX_NB_LABELS} étiquettes.`, 'OK', {\n                  duration: SNACKBAR_DURATION,\n              })\n            : this.selectedLabels.push(label);\n    }\n}\n","module.exports = \"#footer {\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n}\\n\\n#user-guide-message {\\n  text-align: center;\\n  margin-top: 25px;\\n}\\n\\n#user-guide-button {\\n  padding: 0 6px 0 6px;\\n  margin: 6px 8px 6px 12px;\\n  min-width: 250px;\\n  line-height: 24px;\\n  border-radius: 3px;\\n  border-color: white;\\n  font-size: 14px;\\n  text-align: center;\\n  text-decoration: none;\\n  outline: none;\\n  background-color: #ff5722;\\n  cursor: pointer;\\n}\\n\\n#user-guide-button-container {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n}\\n\\n#user-guide-button-text {\\n  display: -webkit-box;\\n  display: flex;\\n}\\n\\n#user-guide-button-text p {\\n  margin: 0;\\n  padding: 5px;\\n  color: white;\\n}\\n\\n#question-icon {\\n  margin: auto;\\n  padding: 5px;\\n  color: white;\\n}\\n\\n#checkbox p {\\n  font-size: 14px;\\n}\\n\\n#start-button {\\n  border-style: solid;\\n  border-width: 1px;\\n  border-color: #d8d8d8;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL21vZGFsLXdpbmRvd3Mvd2VsY29tZS1tb2RhbC13aW5kb3cvd2VsY29tZS1tb2RhbC13aW5kb3cuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvbW9kYWwtd2luZG93cy93ZWxjb21lLW1vZGFsLXdpbmRvdy93ZWxjb21lLW1vZGFsLXdpbmRvdy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHlCQUFBO1VBQUEsOEJBQUE7QUNDSjs7QURFQTtFQUNJLGtCQUFBO0VBQ0EsZ0JBQUE7QUNDSjs7QURFQTtFQUNJLG9CQUFBO0VBQ0Esd0JBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtFQUNBLHFCQUFBO0VBQ0EsYUFBQTtFQUNBLHlCQUFBO0VBQ0EsZUFBQTtBQ0NKOztBREVBO0VBQ0ksb0JBQUE7RUFBQSxhQUFBO0VBQ0Esd0JBQUE7VUFBQSx1QkFBQTtBQ0NKOztBREVBO0VBQ0ksb0JBQUE7RUFBQSxhQUFBO0FDQ0o7O0FEQ0k7RUFDSSxTQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7QUNDUjs7QURHQTtFQUNJLFlBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBQ0FKOztBRElJO0VBQ0ksZUFBQTtBQ0RSOztBREtBO0VBQ0ksbUJBQUE7RUFDQSxpQkFBQTtFQUNBLHFCQUFBO0FDRkoiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL21vZGFsLXdpbmRvd3Mvd2VsY29tZS1tb2RhbC13aW5kb3cvd2VsY29tZS1tb2RhbC13aW5kb3cuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjZm9vdGVyIHtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG59XG5cbiN1c2VyLWd1aWRlLW1lc3NhZ2Uge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW4tdG9wOiAyNXB4O1xufVxuXG4jdXNlci1ndWlkZS1idXR0b24ge1xuICAgIHBhZGRpbmc6IDAgNnB4IDAgNnB4O1xuICAgIG1hcmdpbjogNnB4IDhweCA2cHggMTJweDtcbiAgICBtaW4td2lkdGg6IDI1MHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAyNHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICBib3JkZXItY29sb3I6IHdoaXRlO1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmNTcyMjtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbiN1c2VyLWd1aWRlLWJ1dHRvbi1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cbiN1c2VyLWd1aWRlLWJ1dHRvbi10ZXh0IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuXG4gICAgcCB7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgcGFkZGluZzogNXB4O1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgfVxufVxuXG4jcXVlc3Rpb24taWNvbiB7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIHBhZGRpbmc6IDVweDtcbiAgICBjb2xvcjogd2hpdGU7XG59XG5cbiNjaGVja2JveCB7XG4gICAgcCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICB9XG59XG5cbiNzdGFydC1idXR0b24ge1xuICAgIGJvcmRlci1zdHlsZTogc29saWQ7XG4gICAgYm9yZGVyLXdpZHRoOiAxcHg7XG4gICAgYm9yZGVyLWNvbG9yOiByZ2IoMjE2LCAyMTYsIDIxNik7XG59XG4iLCIjZm9vdGVyIHtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuXG4jdXNlci1ndWlkZS1tZXNzYWdlIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tdG9wOiAyNXB4O1xufVxuXG4jdXNlci1ndWlkZS1idXR0b24ge1xuICBwYWRkaW5nOiAwIDZweCAwIDZweDtcbiAgbWFyZ2luOiA2cHggOHB4IDZweCAxMnB4O1xuICBtaW4td2lkdGg6IDI1MHB4O1xuICBsaW5lLWhlaWdodDogMjRweDtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBib3JkZXItY29sb3I6IHdoaXRlO1xuICBmb250LXNpemU6IDE0cHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICBvdXRsaW5lOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY1NzIyO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbiN1c2VyLWd1aWRlLWJ1dHRvbi1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuI3VzZXItZ3VpZGUtYnV0dG9uLXRleHQge1xuICBkaXNwbGF5OiBmbGV4O1xufVxuI3VzZXItZ3VpZGUtYnV0dG9uLXRleHQgcCB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogNXB4O1xuICBjb2xvcjogd2hpdGU7XG59XG5cbiNxdWVzdGlvbi1pY29uIHtcbiAgbWFyZ2luOiBhdXRvO1xuICBwYWRkaW5nOiA1cHg7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuI2NoZWNrYm94IHAge1xuICBmb250LXNpemU6IDE0cHg7XG59XG5cbiNzdGFydC1idXR0b24ge1xuICBib3JkZXItc3R5bGU6IHNvbGlkO1xuICBib3JkZXItd2lkdGg6IDFweDtcbiAgYm9yZGVyLWNvbG9yOiAjZDhkOGQ4O1xufSJdfQ== */\"","import { Component } from '@angular/core';\nimport { MatDialogRef } from '@angular/material';\n\nimport { ModalManagerService } from 'src/app/services/modal-manager/modal-manager.service';\n\n@Component({\n    selector: 'app-welcome-modal-window',\n    templateUrl: './welcome-modal-window.component.html',\n    styleUrls: ['./welcome-modal-window.component.scss'],\n})\nexport class WelcomeModalWindowComponent {\n    displayWelcomeModalWindow = false;\n\n    constructor(\n        private dialogRef: MatDialogRef<WelcomeModalWindowComponent>,\n        private modalManagerService: ModalManagerService,\n    ) {}\n\n    submitForm(): void {\n        this.dialogRef.close(!this.displayWelcomeModalWindow);\n        this.modalManagerService.setModalIsDisplayed(false);\n    }\n}\n","module.exports = \"#container {\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 36px;\\n  right: 0;\\n  overflow: scroll;\\n  overflow-x: hidden;\\n  border-left: 1px solid #d0d0d0;\\n  border-right: 2px solid #d0d0d0;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n}\\n#container #color-palette {\\n  margin: 30px 40px;\\n}\\n#container {\\n  scrollbar-width: none;\\n}\\n#container::-webkit-scrollbar {\\n  display: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL2F0dHJpYnV0ZS1wYW5lbC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9zaWRlYmFyLXRvb2xzL2F0dHJpYnV0ZS1wYW5lbC9hdHRyaWJ1dGUtcGFuZWwuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtFQUNBLFFBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBRUEsOEJBQUE7RUFDQSwrQkFBQTtFQUVBLG9CQUFBO0VBQUEsYUFBQTtFQUNBLDRCQUFBO0VBQUEsNkJBQUE7VUFBQSxzQkFBQTtFQUNBLHlCQUFBO1VBQUEsOEJBQUE7QUNESjtBREdJO0VBQ0ksaUJBQUE7QUNEUjtBREtBO0VBQ0kscUJBQUE7QUNGSjtBRElBO0VBQ0ksYUFBQTtBQ0RKIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9zaWRlYmFyLXRvb2xzL2F0dHJpYnV0ZS1wYW5lbC9hdHRyaWJ1dGUtcGFuZWwuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjY29udGFpbmVyIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGJvdHRvbTogMDtcbiAgICBsZWZ0OiAzNnB4O1xuICAgIHJpZ2h0OiAwO1xuICAgIG92ZXJmbG93OiBzY3JvbGw7XG4gICAgb3ZlcmZsb3cteDogaGlkZGVuO1xuXG4gICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjZDBkMGQwO1xuICAgIGJvcmRlci1yaWdodDogMnB4IHNvbGlkICNkMGQwZDA7XG5cbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuXG4gICAgI2NvbG9yLXBhbGV0dGUge1xuICAgICAgICBtYXJnaW46IDMwcHggNDBweDtcbiAgICB9XG59XG5cbiNjb250YWluZXIge1xuICAgIHNjcm9sbGJhci13aWR0aDogbm9uZTtcbn1cbiNjb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICBkaXNwbGF5OiBub25lO1xufVxuIiwiI2NvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDM2cHg7XG4gIHJpZ2h0OiAwO1xuICBvdmVyZmxvdzogc2Nyb2xsO1xuICBvdmVyZmxvdy14OiBoaWRkZW47XG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2QwZDBkMDtcbiAgYm9yZGVyLXJpZ2h0OiAycHggc29saWQgI2QwZDBkMDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuI2NvbnRhaW5lciAjY29sb3ItcGFsZXR0ZSB7XG4gIG1hcmdpbjogMzBweCA0MHB4O1xufVxuXG4jY29udGFpbmVyIHtcbiAgc2Nyb2xsYmFyLXdpZHRoOiBub25lO1xufVxuXG4jY29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhciB7XG4gIGRpc3BsYXk6IG5vbmU7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\n\nimport { TOOL_NAME } from 'src/constants/tool-constants';\nimport { ColorToolService } from '../../../services/tools/color-tool/color-tool.service';\nimport { ToolSelectorService } from '../../../services/tools/tool-selector/tool-selector.service';\n\n@Component({\n    selector: 'app-attribute-panel',\n    templateUrl: './attribute-panel.component.html',\n    styleUrls: ['./attribute-panel.component.scss'],\n})\nexport class AttributePanelComponent implements OnInit {\n    readonly TOOL_NAME = TOOL_NAME;\n\n    currentToolName: TOOL_NAME;\n    showColorPalette = false;\n\n    constructor(private toolSelectorService: ToolSelectorService, private colorToolService: ColorToolService) {}\n\n    ngOnInit(): void {\n        this.toolSelectorService.currentToolName.subscribe((toolName) => {\n            this.currentToolName = toolName;\n        });\n        this.colorToolService.showColorPalette.subscribe((showColorPalette: boolean) => {\n            this.showColorPalette = showColorPalette;\n        });\n    }\n}\n","module.exports = \"#container {\\n  padding: 30px 40px;\\n  padding-bottom: 0px;\\n}\\n#container #attribute-header {\\n  text-align: center;\\n  font-weight: bold;\\n}\\n#container .attribute {\\n  padding-top: 30px;\\n}\\n.mat-slider-horizontal {\\n  width: 150px;\\n}\\n.small {\\n  margin-left: 10px;\\n  width: 25%;\\n}\\nimg {\\n  position: relative;\\n  top: 10px;\\n  left: 5px;\\n}\\nmat-select {\\n  white-space: nowrap;\\n  display: inline;\\n}\\n.class1 {\\n  background: url(\\\"/assets/brush1.png\\\") center/contain no-repeat;\\n}\\n.class2 {\\n  background: url(\\\"/assets/brush2.png\\\") center/contain no-repeat;\\n}\\n.class3 {\\n  background: url(\\\"/assets/brush3.png\\\") center/contain no-repeat;\\n}\\n.class4 {\\n  background: url(\\\"/assets/brush4.png\\\") center/contain no-repeat;\\n}\\n.class5 {\\n  background: url(\\\"/assets/brush5.png\\\") center/contain no-repeat;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL2JydXNoLWF0dHJpYnV0ZXMvYnJ1c2gtYXR0cmlidXRlcy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9zaWRlYmFyLXRvb2xzL2F0dHJpYnV0ZS1wYW5lbC9icnVzaC1hdHRyaWJ1dGVzL2JydXNoLWF0dHJpYnV0ZXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLG1CQUFBO0FDQ0o7QURDSTtFQUNJLGtCQUFBO0VBQ0EsaUJBQUE7QUNDUjtBREVJO0VBQ0ksaUJBQUE7QUNBUjtBRElBO0VBQ0ksWUFBQTtBQ0RKO0FESUE7RUFDSSxpQkFBQTtFQUNBLFVBQUE7QUNESjtBRElBO0VBQ0ksa0JBQUE7RUFDQSxTQUFBO0VBQ0EsU0FBQTtBQ0RKO0FESUE7RUFDSSxtQkFBQTtFQUNBLGVBQUE7QUNESjtBRElBO0VBQ0ksOERBQUE7QUNESjtBRElBO0VBQ0ksOERBQUE7QUNESjtBRElBO0VBQ0ksOERBQUE7QUNESjtBRElBO0VBQ0ksOERBQUE7QUNESjtBRElBO0VBQ0ksOERBQUE7QUNESiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZWJhci10b29scy9hdHRyaWJ1dGUtcGFuZWwvYnJ1c2gtYXR0cmlidXRlcy9icnVzaC1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMzBweCA0MHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAwcHg7XG5cbiAgICAjYXR0cmlidXRlLWhlYWRlciB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gICAgLmF0dHJpYnV0ZSB7XG4gICAgICAgIHBhZGRpbmctdG9wOiAzMHB4O1xuICAgIH1cbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gICAgd2lkdGg6IDE1MHB4O1xufVxuXG4uc21hbGwge1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIHdpZHRoOiAyNSU7XG59XG5cbmltZyB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHRvcDogMTBweDtcbiAgICBsZWZ0OiA1cHg7XG59XG5cbm1hdC1zZWxlY3Qge1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgZGlzcGxheTogaW5saW5lO1xufVxuXG4uY2xhc3MxIHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoJy9hc3NldHMvYnJ1c2gxLnBuZycpIGNlbnRlciAvIGNvbnRhaW4gbm8tcmVwZWF0O1xufVxuXG4uY2xhc3MyIHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoJy9hc3NldHMvYnJ1c2gyLnBuZycpIGNlbnRlciAvIGNvbnRhaW4gbm8tcmVwZWF0O1xufVxuXG4uY2xhc3MzIHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoJy9hc3NldHMvYnJ1c2gzLnBuZycpIGNlbnRlciAvIGNvbnRhaW4gbm8tcmVwZWF0O1xufVxuXG4uY2xhc3M0IHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoJy9hc3NldHMvYnJ1c2g0LnBuZycpIGNlbnRlciAvIGNvbnRhaW4gbm8tcmVwZWF0O1xufVxuXG4uY2xhc3M1IHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoJy9hc3NldHMvYnJ1c2g1LnBuZycpIGNlbnRlciAvIGNvbnRhaW4gbm8tcmVwZWF0O1xufVxuIiwiI2NvbnRhaW5lciB7XG4gIHBhZGRpbmc6IDMwcHggNDBweDtcbiAgcGFkZGluZy1ib3R0b206IDBweDtcbn1cbiNjb250YWluZXIgI2F0dHJpYnV0ZS1oZWFkZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuI2NvbnRhaW5lciAuYXR0cmlidXRlIHtcbiAgcGFkZGluZy10b3A6IDMwcHg7XG59XG5cbi5tYXQtc2xpZGVyLWhvcml6b250YWwge1xuICB3aWR0aDogMTUwcHg7XG59XG5cbi5zbWFsbCB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICB3aWR0aDogMjUlO1xufVxuXG5pbWcge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogMTBweDtcbiAgbGVmdDogNXB4O1xufVxuXG5tYXQtc2VsZWN0IHtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgZGlzcGxheTogaW5saW5lO1xufVxuXG4uY2xhc3MxIHtcbiAgYmFja2dyb3VuZDogdXJsKFwiL2Fzc2V0cy9icnVzaDEucG5nXCIpIGNlbnRlci9jb250YWluIG5vLXJlcGVhdDtcbn1cblxuLmNsYXNzMiB7XG4gIGJhY2tncm91bmQ6IHVybChcIi9hc3NldHMvYnJ1c2gyLnBuZ1wiKSBjZW50ZXIvY29udGFpbiBuby1yZXBlYXQ7XG59XG5cbi5jbGFzczMge1xuICBiYWNrZ3JvdW5kOiB1cmwoXCIvYXNzZXRzL2JydXNoMy5wbmdcIikgY2VudGVyL2NvbnRhaW4gbm8tcmVwZWF0O1xufVxuXG4uY2xhc3M0IHtcbiAgYmFja2dyb3VuZDogdXJsKFwiL2Fzc2V0cy9icnVzaDQucG5nXCIpIGNlbnRlci9jb250YWluIG5vLXJlcGVhdDtcbn1cblxuLmNsYXNzNSB7XG4gIGJhY2tncm91bmQ6IHVybChcIi9hc3NldHMvYnJ1c2g1LnBuZ1wiKSBjZW50ZXIvY29udGFpbiBuby1yZXBlYXQ7XG59Il19 */\"","import { AfterViewInit, Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatSliderChange } from '@angular/material';\n\nimport { ShortcutManagerService } from 'src/app/services/shortcut-manager/shortcut-manager.service';\nimport { AttributesManagerService } from 'src/app/services/tools/attributes-manager/attributes-manager.service';\nimport { BrushToolService } from 'src/app/services/tools/brush-tool/brush-tool.service';\nimport { ToolSelectorService } from 'src/app/services/tools/tool-selector/tool-selector.service';\nimport { PREDICATE } from 'src/constants/constants';\nimport { BRUSH_STYLE, BRUSH_STYLES, THICKNESS, TOOL_NAME } from 'src/constants/tool-constants';\n\n@Component({\n    selector: 'app-brush-attributes',\n    templateUrl: './brush-attributes.component.html',\n    styleUrls: ['./brush-attributes.component.scss'],\n    providers: [AttributesManagerService],\n})\nexport class BrushAttributesComponent implements OnInit, AfterViewInit {\n    toolName = TOOL_NAME.Brush;\n    brushAttributesForm: FormGroup;\n    brushToolService: BrushToolService;\n    styles = BRUSH_STYLES;\n    selected: string;\n\n    readonly THICKNESS = THICKNESS;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private attributesManagerService: AttributesManagerService,\n        private toolSelectorService: ToolSelectorService,\n        private shortcutManagerService: ShortcutManagerService,\n    ) {\n        this.formBuilder = formBuilder;\n    }\n\n    ngOnInit(): void {\n        this.initializeForm();\n        this.onThicknessChange();\n    }\n\n    ngAfterViewInit(): void {\n        this.brushToolService = this.toolSelectorService.getBrushTool();\n        this.brushToolService.initializeAttributesManagerService(this.attributesManagerService);\n    }\n\n    initializeForm(): void {\n        this.brushAttributesForm = this.formBuilder.group({\n            thickness: [\n                THICKNESS.Default,\n                [Validators.required, Validators.min(THICKNESS.Min), Validators.max(THICKNESS.Max)],\n            ],\n            style: [1],\n        });\n    }\n\n    onSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, THICKNESS)) {\n            this.brushAttributesForm.controls.thickness.setValue(event.value);\n            this.onThicknessChange();\n        }\n    }\n\n    onThicknessChange(): void {\n        const thickness = this.brushAttributesForm.value.thickness;\n        if (this.brushAttributesForm.controls.thickness.valid) {\n            this.attributesManagerService.thickness.next(thickness);\n        }\n    }\n\n    change(style: BRUSH_STYLE): void {\n        this.attributesManagerService.style.next(style);\n    }\n\n    onFocus(): void {\n        this.shortcutManagerService.changeIsOnInput(true);\n    }\n    onFocusOut(): void {\n        this.shortcutManagerService.changeIsOnInput(false);\n    }\n}\n","module.exports = \"#container {\\n  padding: 30px 40px;\\n  padding-bottom: 0px;\\n}\\n#container #attribute-header {\\n  text-align: center;\\n  font-weight: bold;\\n}\\n#tips {\\n  margin-top: 30px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL2NvbG9yLWFwcGxpY2F0b3ItYXR0cmlidXRlcy9jb2xvci1hcHBsaWNhdG9yLWF0dHJpYnV0ZXMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZWJhci10b29scy9hdHRyaWJ1dGUtcGFuZWwvY29sb3ItYXBwbGljYXRvci1hdHRyaWJ1dGVzL2NvbG9yLWFwcGxpY2F0b3ItYXR0cmlidXRlcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsbUJBQUE7QUNDSjtBRENJO0VBQ0ksa0JBQUE7RUFDQSxpQkFBQTtBQ0NSO0FER0E7RUFDSSxnQkFBQTtBQ0FKIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9zaWRlYmFyLXRvb2xzL2F0dHJpYnV0ZS1wYW5lbC9jb2xvci1hcHBsaWNhdG9yLWF0dHJpYnV0ZXMvY29sb3ItYXBwbGljYXRvci1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMzBweCA0MHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAwcHg7XG5cbiAgICAjYXR0cmlidXRlLWhlYWRlciB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxufVxuXG4jdGlwcyB7XG4gICAgbWFyZ2luLXRvcDogMzBweDtcbn1cbiIsIiNjb250YWluZXIge1xuICBwYWRkaW5nOiAzMHB4IDQwcHg7XG4gIHBhZGRpbmctYm90dG9tOiAwcHg7XG59XG4jY29udGFpbmVyICNhdHRyaWJ1dGUtaGVhZGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuI3RpcHMge1xuICBtYXJnaW4tdG9wOiAzMHB4O1xufSJdfQ== */\"","import { AfterViewInit, Component } from '@angular/core';\n\nimport { ColorApplicatorToolService } from 'src/app/services/tools/color-applicator-tool/color-applicator-tool.service';\nimport { ToolSelectorService } from 'src/app/services/tools/tool-selector/tool-selector.service';\nimport { TOOL_NAME } from 'src/constants/tool-constants';\n\n@Component({\n    selector: 'app-color-applicator-attributes',\n    templateUrl: './color-applicator-attributes.component.html',\n    styleUrls: ['./color-applicator-attributes.component.scss'],\n})\nexport class ColorApplicatorAttributesComponent implements AfterViewInit {\n    toolName = TOOL_NAME.ColorApplicator;\n    colorApplicatorToolService: ColorApplicatorToolService;\n\n    constructor(private toolSelectorService: ToolSelectorService) {}\n\n    ngAfterViewInit(): void {\n        this.colorApplicatorToolService = this.toolSelectorService.getColorApplicatorTool();\n    }\n}\n","module.exports = \"#container {\\n  margin: 30px 40px;\\n}\\n#container #userColorButtons {\\n  margin-bottom: 10px;\\n}\\n#container #userColorButtons div {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n}\\n#container #userColorButtons span {\\n  width: 190px;\\n}\\n#container #userColorButtons .color {\\n  width: 0;\\n  height: 0;\\n  padding: 10px;\\n  border: 1px solid #d0d0d0;\\n  margin: 5px;\\n  border-radius: 100%;\\n  outline: none;\\n  -webkit-transition: ease-in-out 0.2s;\\n  transition: ease-in-out 0.2s;\\n}\\n#container #userColorButtons .color:hover:not(#bigColor) {\\n  -webkit-transform: scale(1.2);\\n          transform: scale(1.2);\\n}\\n#container #userColorButtons .color:active:not(#bigColor) {\\n  -webkit-transform: scale(1);\\n          transform: scale(1);\\n}\\n#container #userColorButtons i {\\n  padding: 0 10px;\\n}\\n#container #userColorButtons button {\\n  margin: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL2NvbG9yLWF0dHJpYnV0ZXMvY29sb3ItYXR0cmlidXRlcy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9zaWRlYmFyLXRvb2xzL2F0dHJpYnV0ZS1wYW5lbC9jb2xvci1hdHRyaWJ1dGVzL2NvbG9yLWF0dHJpYnV0ZXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxpQkFBQTtBQ0NKO0FEQ0k7RUFDSSxtQkFBQTtBQ0NSO0FEQ1E7RUFDSSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0VBQ0Esd0JBQUE7VUFBQSx1QkFBQTtBQ0NaO0FERVE7RUFDSSxZQUFBO0FDQVo7QURHUTtFQUNJLFFBQUE7RUFDQSxTQUFBO0VBQ0EsYUFBQTtFQUNBLHlCQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLG9DQUFBO0VBQUEsNEJBQUE7QUNEWjtBREdRO0VBQ0ksNkJBQUE7VUFBQSxxQkFBQTtBQ0RaO0FER1E7RUFDSSwyQkFBQTtVQUFBLG1CQUFBO0FDRFo7QURJUTtFQUNJLGVBQUE7QUNGWjtBREtRO0VBQ0ksWUFBQTtBQ0haIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9zaWRlYmFyLXRvb2xzL2F0dHJpYnV0ZS1wYW5lbC9jb2xvci1hdHRyaWJ1dGVzL2NvbG9yLWF0dHJpYnV0ZXMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjY29udGFpbmVyIHtcbiAgICBtYXJnaW46IDMwcHggNDBweDtcblxuICAgICN1c2VyQ29sb3JCdXR0b25zIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcblxuICAgICAgICBkaXYge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgd2lkdGg6IDE5MHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmNvbG9yIHtcbiAgICAgICAgICAgIHdpZHRoOiAwO1xuICAgICAgICAgICAgaGVpZ2h0OiAwO1xuICAgICAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkMGQwZDA7XG4gICAgICAgICAgICBtYXJnaW46IDVweDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7XG4gICAgICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogZWFzZS1pbi1vdXQgMC4ycztcbiAgICAgICAgfVxuICAgICAgICAuY29sb3I6aG92ZXI6bm90KCNiaWdDb2xvcikge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjIpO1xuICAgICAgICB9XG4gICAgICAgIC5jb2xvcjphY3RpdmU6bm90KCNiaWdDb2xvcikge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGkge1xuICAgICAgICAgICAgcGFkZGluZzogMCAxMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgYnV0dG9uIHtcbiAgICAgICAgICAgIG1hcmdpbjogMTBweDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIiNjb250YWluZXIge1xuICBtYXJnaW46IDMwcHggNDBweDtcbn1cbiNjb250YWluZXIgI3VzZXJDb2xvckJ1dHRvbnMge1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuI2NvbnRhaW5lciAjdXNlckNvbG9yQnV0dG9ucyBkaXYge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cbiNjb250YWluZXIgI3VzZXJDb2xvckJ1dHRvbnMgc3BhbiB7XG4gIHdpZHRoOiAxOTBweDtcbn1cbiNjb250YWluZXIgI3VzZXJDb2xvckJ1dHRvbnMgLmNvbG9yIHtcbiAgd2lkdGg6IDA7XG4gIGhlaWdodDogMDtcbiAgcGFkZGluZzogMTBweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2QwZDBkMDtcbiAgbWFyZ2luOiA1cHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwMCU7XG4gIG91dGxpbmU6IG5vbmU7XG4gIHRyYW5zaXRpb246IGVhc2UtaW4tb3V0IDAuMnM7XG59XG4jY29udGFpbmVyICN1c2VyQ29sb3JCdXR0b25zIC5jb2xvcjpob3Zlcjpub3QoI2JpZ0NvbG9yKSB7XG4gIHRyYW5zZm9ybTogc2NhbGUoMS4yKTtcbn1cbiNjb250YWluZXIgI3VzZXJDb2xvckJ1dHRvbnMgLmNvbG9yOmFjdGl2ZTpub3QoI2JpZ0NvbG9yKSB7XG4gIHRyYW5zZm9ybTogc2NhbGUoMSk7XG59XG4jY29udGFpbmVyICN1c2VyQ29sb3JCdXR0b25zIGkge1xuICBwYWRkaW5nOiAwIDEwcHg7XG59XG4jY29udGFpbmVyICN1c2VyQ29sb3JCdXR0b25zIGJ1dHRvbiB7XG4gIG1hcmdpbjogMTBweDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\n\nimport { COLOR_TYPE, DEFAULT_GRAY_0, DEFAULT_GRAY_1, DEFAULT_WHITE } from 'src/constants/color-constants';\nimport { ColorToolService } from '../../../../services/tools/color-tool/color-tool.service';\n\nexport interface ColorStyle {\n    backgroundColor: string;\n    border?: string;\n    transform?: string;\n}\n@Component({\n    selector: 'app-color-attributes',\n    templateUrl: './color-attributes.component.html',\n    styleUrls: ['./color-attributes.component.scss'],\n})\nexport class ColorAttributesComponent implements OnInit {\n    backgroundColor = DEFAULT_WHITE;\n    primaryColor = DEFAULT_GRAY_0;\n    secondaryColor = DEFAULT_GRAY_1;\n    selectedColorType: COLOR_TYPE | undefined = undefined;\n\n    constructor(private colorToolService: ColorToolService) {}\n\n    ngOnInit() {\n        this.colorToolService.backgroundColor.subscribe((backgroundColor: string) => {\n            this.backgroundColor = backgroundColor;\n        });\n        this.colorToolService.primaryColor.subscribe((primaryColor: string) => {\n            this.primaryColor = primaryColor;\n        });\n        this.colorToolService.secondaryColor.subscribe((secondaryColor: string) => {\n            this.secondaryColor = secondaryColor;\n        });\n        this.colorToolService.selectedColorType.subscribe((selectedColorType: COLOR_TYPE | undefined) => {\n            this.selectedColorType = selectedColorType;\n        });\n    }\n\n    onClickBackgroundColor(): void {\n        this.colorToolService.changeSelectedColorType(COLOR_TYPE.backgroundColor);\n        this.colorToolService.changeShowColorPalette(true);\n    }\n    onClickPrimaryColor(): void {\n        this.colorToolService.changeSelectedColorType(COLOR_TYPE.primaryColor);\n        this.colorToolService.changeShowColorPalette(true);\n    }\n    onClickSecondaryColor(): void {\n        this.colorToolService.changeSelectedColorType(COLOR_TYPE.secondaryColor);\n        this.colorToolService.changeShowColorPalette(true);\n    }\n\n    getBackgroundColorIcon(): ColorStyle {\n        if (this.selectedColorType === COLOR_TYPE.backgroundColor) {\n            return {\n                backgroundColor: '#' + this.backgroundColor,\n                border: 'solid 1px black',\n                transform: 'scale(1.3)',\n            };\n        }\n        return {\n            backgroundColor: '#' + this.backgroundColor,\n        };\n    }\n    getPrimaryColorIcon(): ColorStyle {\n        if (this.selectedColorType === COLOR_TYPE.primaryColor) {\n            return {\n                backgroundColor: '#' + this.primaryColor,\n                border: 'solid 1px black',\n                transform: 'scale(1.3)',\n            };\n        }\n        return {\n            backgroundColor: '#' + this.primaryColor,\n        };\n    }\n    getSecondaryColorIcon(): ColorStyle {\n        if (this.selectedColorType === COLOR_TYPE.secondaryColor) {\n            return {\n                backgroundColor: '#' + this.secondaryColor,\n                border: 'solid 1px black',\n                transform: 'scale(1.3)',\n            };\n        }\n        return {\n            backgroundColor: '#' + this.secondaryColor,\n        };\n    }\n\n    switchColors() {\n        this.colorToolService.switchPrimarySecondary();\n    }\n}\n","module.exports = \"#container {\\n  padding: 30px 40px;\\n  padding-bottom: 0px;\\n}\\n#container #attribute-header {\\n  text-align: center;\\n  font-weight: bold;\\n}\\n#container #tips {\\n  margin-top: 30px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL2Ryb3BwZXItYXR0cmlidXRlcy9kcm9wcGVyLWF0dHJpYnV0ZXMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZWJhci10b29scy9hdHRyaWJ1dGUtcGFuZWwvZHJvcHBlci1hdHRyaWJ1dGVzL2Ryb3BwZXItYXR0cmlidXRlcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsbUJBQUE7QUNDSjtBRENJO0VBQ0ksa0JBQUE7RUFDQSxpQkFBQTtBQ0NSO0FERUk7RUFDSSxnQkFBQTtBQ0FSIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9zaWRlYmFyLXRvb2xzL2F0dHJpYnV0ZS1wYW5lbC9kcm9wcGVyLWF0dHJpYnV0ZXMvZHJvcHBlci1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMzBweCA0MHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAwcHg7XG5cbiAgICAjYXR0cmlidXRlLWhlYWRlciB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gICAgI3RpcHMge1xuICAgICAgICBtYXJnaW4tdG9wOiAzMHB4O1xuICAgIH1cbn1cbiIsIiNjb250YWluZXIge1xuICBwYWRkaW5nOiAzMHB4IDQwcHg7XG4gIHBhZGRpbmctYm90dG9tOiAwcHg7XG59XG4jY29udGFpbmVyICNhdHRyaWJ1dGUtaGVhZGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbiNjb250YWluZXIgI3RpcHMge1xuICBtYXJnaW4tdG9wOiAzMHB4O1xufSJdfQ== */\"","import { Component } from '@angular/core';\n\nimport { TOOL_NAME } from 'src/constants/tool-constants';\n\n@Component({\n    selector: 'app-dropper-attributes',\n    templateUrl: './dropper-attributes.component.html',\n    styleUrls: ['./dropper-attributes.component.scss'],\n})\nexport class DropperAttributesComponent {\n    toolName = TOOL_NAME.Dropper;\n}\n","module.exports = \"#container {\\n  padding: 30px 40px;\\n  padding-bottom: 0px;\\n}\\n#container #attribute-header {\\n  text-align: center;\\n  font-weight: bold;\\n}\\n#container .attribute {\\n  padding-top: 30px;\\n}\\n.mat-slider-horizontal {\\n  width: 170px;\\n}\\n.small {\\n  margin-left: 10px;\\n  width: 25%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL2VsbGlwc2lzLWF0dHJpYnV0ZXMvZWxsaXBzaXMtYXR0cmlidXRlcy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9zaWRlYmFyLXRvb2xzL2F0dHJpYnV0ZS1wYW5lbC9lbGxpcHNpcy1hdHRyaWJ1dGVzL2VsbGlwc2lzLWF0dHJpYnV0ZXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLG1CQUFBO0FDQ0o7QURDSTtFQUNJLGtCQUFBO0VBQ0EsaUJBQUE7QUNDUjtBREVJO0VBQ0ksaUJBQUE7QUNBUjtBRElBO0VBQ0ksWUFBQTtBQ0RKO0FESUE7RUFDSSxpQkFBQTtFQUNBLFVBQUE7QUNESiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZWJhci10b29scy9hdHRyaWJ1dGUtcGFuZWwvZWxsaXBzaXMtYXR0cmlidXRlcy9lbGxpcHNpcy1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMzBweCA0MHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAwcHg7XG5cbiAgICAjYXR0cmlidXRlLWhlYWRlciB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gICAgLmF0dHJpYnV0ZSB7XG4gICAgICAgIHBhZGRpbmctdG9wOiAzMHB4O1xuICAgIH1cbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gICAgd2lkdGg6IDE3MHB4O1xufVxuXG4uc21hbGwge1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIHdpZHRoOiAyNSU7XG59XG4iLCIjY29udGFpbmVyIHtcbiAgcGFkZGluZzogMzBweCA0MHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMHB4O1xufVxuI2NvbnRhaW5lciAjYXR0cmlidXRlLWhlYWRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4jY29udGFpbmVyIC5hdHRyaWJ1dGUge1xuICBwYWRkaW5nLXRvcDogMzBweDtcbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gIHdpZHRoOiAxNzBweDtcbn1cblxuLnNtYWxsIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIHdpZHRoOiAyNSU7XG59Il19 */\"","import { AfterViewInit, Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatSliderChange } from '@angular/material';\n\nimport { ShortcutManagerService } from 'src/app/services/shortcut-manager/shortcut-manager.service';\nimport { AttributesManagerService } from 'src/app/services/tools/attributes-manager/attributes-manager.service';\nimport { EllipsisToolService } from 'src/app/services/tools/ellipsis-tool/ellipsis-tool.service';\nimport { ToolSelectorService } from 'src/app/services/tools/tool-selector/tool-selector.service';\nimport { PREDICATE } from 'src/constants/constants';\nimport { THICKNESS, TOOL_NAME } from 'src/constants/tool-constants';\n\n@Component({\n    selector: 'app-ellipsis-attributes',\n    templateUrl: './ellipsis-attributes.component.html',\n    styleUrls: ['./ellipsis-attributes.component.scss'],\n})\nexport class EllipsisAttributesComponent implements OnInit, AfterViewInit {\n    toolName = TOOL_NAME.Ellipsis;\n    ellipsisAttributesForm: FormGroup;\n    ellipsisToolService: EllipsisToolService;\n    attributesManagerService: AttributesManagerService = new AttributesManagerService();\n    readonly thickness = THICKNESS;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private toolSelectorService: ToolSelectorService,\n        private shortcutManagerService: ShortcutManagerService,\n    ) {\n        this.formBuilder = formBuilder;\n    }\n\n    ngOnInit() {\n        this.initializeForm();\n        this.onThicknessChange();\n    }\n\n    ngAfterViewInit(): void {\n        this.ellipsisToolService = this.toolSelectorService.getEllipsisTool();\n        this.ellipsisToolService.initializeAttributesManagerService(this.attributesManagerService);\n    }\n\n    initializeForm(): void {\n        this.ellipsisAttributesForm = this.formBuilder.group({\n            thickness: [\n                THICKNESS.Default,\n                [Validators.required, Validators.min(THICKNESS.Min), Validators.max(THICKNESS.Max)],\n            ],\n            traceType: ['Contour'],\n        });\n    }\n\n    onSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, THICKNESS)) {\n            this.ellipsisAttributesForm.controls.thickness.setValue(event.value);\n            this.onThicknessChange();\n        }\n    }\n\n    onThicknessChange(): void {\n        const thickness: number = this.ellipsisAttributesForm.value.thickness;\n        if (this.ellipsisAttributesForm.controls.thickness.valid) {\n            this.attributesManagerService.thickness.next(thickness);\n        }\n    }\n\n    onTraceTypeChange(): void {\n        const tracetype: string = this.ellipsisAttributesForm.value.traceType;\n        this.attributesManagerService.traceType.next(tracetype);\n    }\n\n    onFocus(): void {\n        this.shortcutManagerService.changeIsOnInput(true);\n    }\n    onFocusOut(): void {\n        this.shortcutManagerService.changeIsOnInput(false);\n    }\n}\n","module.exports = \"#container {\\n  padding: 30px 40px;\\n  padding-bottom: 0px;\\n}\\n#container #attribute-header {\\n  text-align: center;\\n  font-weight: bold;\\n}\\n#container .attribute {\\n  padding-top: 30px;\\n}\\n.mat-slider-horizontal {\\n  width: 170px;\\n}\\n.small {\\n  margin-left: 10px;\\n  width: 25%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL2VyYXNlci1hdHRyaWJ1dGVzL2VyYXNlci1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL2VyYXNlci1hdHRyaWJ1dGVzL2VyYXNlci1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxtQkFBQTtBQ0NKO0FEQ0k7RUFDSSxrQkFBQTtFQUNBLGlCQUFBO0FDQ1I7QURFSTtFQUNJLGlCQUFBO0FDQVI7QURJQTtFQUNJLFlBQUE7QUNESjtBRElBO0VBQ0ksaUJBQUE7RUFDQSxVQUFBO0FDREoiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL2VyYXNlci1hdHRyaWJ1dGVzL2VyYXNlci1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMzBweCA0MHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAwcHg7XG5cbiAgICAjYXR0cmlidXRlLWhlYWRlciB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gICAgLmF0dHJpYnV0ZSB7XG4gICAgICAgIHBhZGRpbmctdG9wOiAzMHB4O1xuICAgIH1cbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gICAgd2lkdGg6IDE3MHB4O1xufVxuXG4uc21hbGwge1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIHdpZHRoOiAyNSU7XG59XG4iLCIjY29udGFpbmVyIHtcbiAgcGFkZGluZzogMzBweCA0MHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMHB4O1xufVxuI2NvbnRhaW5lciAjYXR0cmlidXRlLWhlYWRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4jY29udGFpbmVyIC5hdHRyaWJ1dGUge1xuICBwYWRkaW5nLXRvcDogMzBweDtcbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gIHdpZHRoOiAxNzBweDtcbn1cblxuLnNtYWxsIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIHdpZHRoOiAyNSU7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatSliderChange } from '@angular/material';\n\nimport { ShortcutManagerService } from 'src/app/services/shortcut-manager/shortcut-manager.service';\nimport { AttributesManagerService } from 'src/app/services/tools/attributes-manager/attributes-manager.service';\nimport { EraserToolService } from 'src/app/services/tools/eraser-tool/eraser-tool.service';\nimport { ToolSelectorService } from 'src/app/services/tools/tool-selector/tool-selector.service';\nimport { PREDICATE } from 'src/constants/constants';\nimport { ERASER_SIZE, TOOL_NAME } from 'src/constants/tool-constants';\n\n@Component({\n    selector: 'app-eraser-attributes',\n    templateUrl: './eraser-attributes.component.html',\n    styleUrls: ['./eraser-attributes.component.scss'],\n})\nexport class EraserAttributesComponent implements OnInit {\n    toolName = TOOL_NAME.Eraser;\n\n    eraserAttributesForm: FormGroup;\n    eraserToolService: EraserToolService;\n    readonly eraserSize = ERASER_SIZE;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private attributesManagerService: AttributesManagerService,\n        private toolSelectorService: ToolSelectorService,\n        private shortcutManagerService: ShortcutManagerService,\n    ) {\n        this.formBuilder = formBuilder;\n    }\n\n    ngOnInit(): void {\n        this.initializeForm();\n        this.eraserToolService = this.toolSelectorService.getEraserTool();\n        this.eraserToolService.initializeAttributesManagerService(this.attributesManagerService);\n    }\n\n    initializeForm(): void {\n        this.eraserAttributesForm = this.formBuilder.group({\n            eraserSize: [\n                ERASER_SIZE.Default,\n                [Validators.required, Validators.min(ERASER_SIZE.Min), Validators.max(ERASER_SIZE.Max)],\n            ],\n        });\n    }\n\n    onSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, ERASER_SIZE)) {\n            this.eraserAttributesForm.controls.eraserSize.setValue(event.value);\n            this.onSizeChange();\n        }\n    }\n\n    onSizeChange(): void {\n        const eraserSize: number = this.eraserAttributesForm.value.eraserSize;\n        if (this.eraserAttributesForm.controls.eraserSize.valid) {\n            this.attributesManagerService.eraserSize.next(eraserSize);\n        }\n    }\n\n    onFocus(): void {\n        this.shortcutManagerService.changeIsOnInput(true);\n    }\n\n    onFocusOut(): void {\n        this.shortcutManagerService.changeIsOnInput(false);\n    }\n}\n","module.exports = \"#container {\\n  padding: 30px 40px;\\n  padding-bottom: 0px;\\n}\\n#container #attribute-header {\\n  text-align: center;\\n  font-weight: bold;\\n}\\n#container .attribute {\\n  padding-top: 30px;\\n}\\n.mat-slider-horizontal {\\n  width: 150px;\\n}\\n.small {\\n  margin-left: 10px;\\n  width: 25%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL2ZpbGwtYXR0cmlidXRlcy9maWxsLWF0dHJpYnV0ZXMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZWJhci10b29scy9hdHRyaWJ1dGUtcGFuZWwvZmlsbC1hdHRyaWJ1dGVzL2ZpbGwtYXR0cmlidXRlcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsbUJBQUE7QUNDSjtBRENJO0VBQ0ksa0JBQUE7RUFDQSxpQkFBQTtBQ0NSO0FERUk7RUFDSSxpQkFBQTtBQ0FSO0FESUE7RUFDSSxZQUFBO0FDREo7QURJQTtFQUNJLGlCQUFBO0VBQ0EsVUFBQTtBQ0RKIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9zaWRlYmFyLXRvb2xzL2F0dHJpYnV0ZS1wYW5lbC9maWxsLWF0dHJpYnV0ZXMvZmlsbC1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMzBweCA0MHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAwcHg7XG5cbiAgICAjYXR0cmlidXRlLWhlYWRlciB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gICAgLmF0dHJpYnV0ZSB7XG4gICAgICAgIHBhZGRpbmctdG9wOiAzMHB4O1xuICAgIH1cbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gICAgd2lkdGg6IDE1MHB4O1xufVxuXG4uc21hbGwge1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIHdpZHRoOiAyNSU7XG59XG4iLCIjY29udGFpbmVyIHtcbiAgcGFkZGluZzogMzBweCA0MHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMHB4O1xufVxuI2NvbnRhaW5lciAjYXR0cmlidXRlLWhlYWRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4jY29udGFpbmVyIC5hdHRyaWJ1dGUge1xuICBwYWRkaW5nLXRvcDogMzBweDtcbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gIHdpZHRoOiAxNTBweDtcbn1cblxuLnNtYWxsIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIHdpZHRoOiAyNSU7XG59Il19 */\"","import { AfterViewInit, Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatSliderChange } from '@angular/material';\n\nimport { ShortcutManagerService } from 'src/app/services/shortcut-manager/shortcut-manager.service';\nimport { PREDICATE } from 'src/constants/constants';\nimport { THICKNESS, TOLERANCE, TOOL_NAME } from 'src/constants/tool-constants';\nimport { AttributesManagerService } from '../../../../services/tools/attributes-manager/attributes-manager.service';\nimport { FillToolService } from '../../../../services/tools/fill-tool/fill-tool.service';\nimport { ToolSelectorService } from '../../../../services/tools/tool-selector/tool-selector.service';\n\n@Component({\n    selector: 'app-fill-attributes',\n    templateUrl: './fill-attributes.component.html',\n    styleUrls: ['./fill-attributes.component.scss'],\n})\nexport class FillAttributesComponent implements OnInit, AfterViewInit {\n    toolName = TOOL_NAME.Fill;\n    fillAttributesForm: FormGroup;\n    fillToolService: FillToolService;\n    attributesManagerService: AttributesManagerService = new AttributesManagerService();\n    readonly THICKNESS = THICKNESS;\n    readonly TOLERANCE = TOLERANCE;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private toolSelectorService: ToolSelectorService,\n        private shortcutManagerService: ShortcutManagerService,\n    ) {\n        this.formBuilder = formBuilder;\n    }\n\n    ngOnInit(): void {\n        this.initializeForm();\n        this.onThicknessChange();\n    }\n\n    ngAfterViewInit(): void {\n        this.fillToolService = this.toolSelectorService.getFillTool();\n        this.fillToolService.initializeAttributesManagerService(this.attributesManagerService);\n    }\n\n    initializeForm(): void {\n        this.fillAttributesForm = this.formBuilder.group({\n            thickness: [\n                THICKNESS.Default,\n                [Validators.required, Validators.min(THICKNESS.Min), Validators.max(THICKNESS.Max)],\n            ],\n            tolerance: [\n                TOLERANCE.Default,\n                [Validators.required, Validators.min(TOLERANCE.Min), Validators.max(TOLERANCE.Max)],\n            ],\n            traceType: ['Contour'],\n        });\n    }\n\n    onThicknessSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, THICKNESS)) {\n            this.fillAttributesForm.controls.thickness.setValue(event.value);\n            this.onThicknessChange();\n        }\n    }\n\n    onToleranceSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, TOLERANCE)) {\n            this.fillAttributesForm.controls.tolerance.setValue(event.value);\n            this.onToleranceChange();\n        }\n    }\n\n    onThicknessChange(): void {\n        const thickness: number = this.fillAttributesForm.value.thickness;\n        if (this.fillAttributesForm.controls.thickness.valid) {\n            this.attributesManagerService.thickness.next(thickness);\n        }\n    }\n\n    onToleranceChange(): void {\n        const tolerance: number = this.fillAttributesForm.value.tolerance;\n        if (this.fillAttributesForm.controls.tolerance.valid) {\n            this.attributesManagerService.tolerance.next(tolerance);\n        }\n    }\n\n    onTraceTypeChange(): void {\n        const tracetype: string = this.fillAttributesForm.value.traceType;\n        this.attributesManagerService.traceType.next(tracetype);\n    }\n\n    onFocus(): void {\n        this.shortcutManagerService.changeIsOnInput(true);\n    }\n    onFocusOut(): void {\n        this.shortcutManagerService.changeIsOnInput(false);\n    }\n}\n","module.exports = \"#container {\\n  padding: 30px 40px;\\n  padding-bottom: 0px;\\n}\\n#container #attribute-header {\\n  text-align: center;\\n  font-weight: bold;\\n}\\n#container .attribute {\\n  padding-top: 30px;\\n}\\n.mat-slider-horizontal {\\n  width: 170px;\\n}\\n.small {\\n  margin-left: 10px;\\n  width: 25%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL2dyaWQtYXR0cmlidXRlcy9ncmlkLWF0dHJpYnV0ZXMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZWJhci10b29scy9hdHRyaWJ1dGUtcGFuZWwvZ3JpZC1hdHRyaWJ1dGVzL2dyaWQtYXR0cmlidXRlcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsbUJBQUE7QUNDSjtBRENJO0VBQ0ksa0JBQUE7RUFDQSxpQkFBQTtBQ0NSO0FERUk7RUFDSSxpQkFBQTtBQ0FSO0FESUE7RUFDSSxZQUFBO0FDREo7QURJQTtFQUNJLGlCQUFBO0VBQ0EsVUFBQTtBQ0RKIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9zaWRlYmFyLXRvb2xzL2F0dHJpYnV0ZS1wYW5lbC9ncmlkLWF0dHJpYnV0ZXMvZ3JpZC1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMzBweCA0MHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAwcHg7XG5cbiAgICAjYXR0cmlidXRlLWhlYWRlciB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gICAgLmF0dHJpYnV0ZSB7XG4gICAgICAgIHBhZGRpbmctdG9wOiAzMHB4O1xuICAgIH1cbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gICAgd2lkdGg6IDE3MHB4O1xufVxuXG4uc21hbGwge1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIHdpZHRoOiAyNSU7XG59XG4iLCIjY29udGFpbmVyIHtcbiAgcGFkZGluZzogMzBweCA0MHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMHB4O1xufVxuI2NvbnRhaW5lciAjYXR0cmlidXRlLWhlYWRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4jY29udGFpbmVyIC5hdHRyaWJ1dGUge1xuICBwYWRkaW5nLXRvcDogMzBweDtcbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gIHdpZHRoOiAxNzBweDtcbn1cblxuLnNtYWxsIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIHdpZHRoOiAyNSU7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatSliderChange } from '@angular/material';\nimport { DrawingLoaderService } from 'src/app/services/server/drawing-loader/drawing-loader.service';\nimport { ShortcutManagerService } from 'src/app/services/shortcut-manager/shortcut-manager.service';\nimport { GridToolService } from 'src/app/services/tools/grid-tool/grid-tool.service';\nimport { PREDICATE } from 'src/constants/constants';\nimport { GRID_OPACITY, GRID_SIZE, TOOL_NAME } from 'src/constants/tool-constants';\n\n@Component({\n    selector: 'app-grid-attributes',\n    templateUrl: './grid-attributes.component.html',\n    styleUrls: ['./grid-attributes.component.scss'],\n})\nexport class GridAttributesComponent implements OnInit {\n    toolName = TOOL_NAME.Grid;\n    gridAttributesForm: FormGroup;\n\n    readonly gridSize = GRID_SIZE;\n    readonly gridOpacity = GRID_OPACITY;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private shortcutManagerService: ShortcutManagerService,\n        private gridToolService: GridToolService,\n        private drawingLoaderService: DrawingLoaderService,\n    ) {\n        this.formBuilder = formBuilder;\n    }\n\n    ngOnInit(): void {\n        this.initializeForm();\n        this.onSizeChange();\n        this.gridToolService.currentState.subscribe((state: boolean) => {\n            this.gridAttributesForm.controls.state.setValue(state);\n        });\n        this.gridToolService.currentSize.subscribe((size: number) => {\n            this.gridAttributesForm.controls.size.setValue(size);\n        });\n        this.drawingLoaderService.untouchedWorkZone.subscribe(() => {\n            this.enableSlider();\n        });\n    }\n\n    initializeForm(): void {\n        this.gridAttributesForm = this.formBuilder.group({\n            state: [{ value: false, disabled: true }],\n            size: [\n                GRID_SIZE.Default,\n                [Validators.required, Validators.min(GRID_SIZE.Min), Validators.max(GRID_SIZE.Max)],\n            ],\n            opacity: [\n                GRID_OPACITY.Max,\n                [Validators.required, Validators.min(GRID_OPACITY.Min), Validators.max(GRID_OPACITY.Max)],\n            ],\n        });\n    }\n\n    onSizeSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, this.gridSize)) {\n            this.gridAttributesForm.controls.size.setValue(event.value);\n            this.onSizeChange();\n        }\n    }\n\n    onOpacitySliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, this.gridOpacity)) {\n            this.gridAttributesForm.controls.opacity.setValue(event.value);\n            this.onOpacityChange();\n        }\n    }\n\n    onStateChange(): void {\n        const state = this.gridAttributesForm.value.state;\n        this.gridToolService.changeState(state);\n    }\n\n    onSizeChange(): void {\n        const size = this.gridAttributesForm.value.size;\n        if (this.gridAttributesForm.controls.size.valid) {\n            this.gridToolService.changeSize(size);\n        }\n    }\n\n    onOpacityChange(): void {\n        const opacity = this.gridAttributesForm.value.opacity;\n        if (this.gridAttributesForm.controls.opacity.valid) {\n            this.gridToolService.changeOpacity(opacity);\n        }\n    }\n\n    onFocus(): void {\n        this.shortcutManagerService.changeIsOnInput(true);\n    }\n    onFocusOut(): void {\n        this.shortcutManagerService.changeIsOnInput(false);\n    }\n\n    enableSlider(): void {\n        if (!this.drawingLoaderService.untouchedWorkZone.value) {\n            this.gridAttributesForm.controls.state.enable();\n        }\n    }\n}\n","module.exports = \"#container {\\n  padding: 30px 40px;\\n  padding-bottom: 0px;\\n}\\n#container #attribute-header {\\n  text-align: center;\\n  font-weight: bold;\\n}\\n#container .attribute {\\n  padding-top: 30px;\\n}\\n.mat-slider-horizontal {\\n  width: 170px;\\n}\\n.small {\\n  margin-left: 10px;\\n  width: 25%;\\n}\\nimg {\\n  position: relative;\\n  top: 10px;\\n  left: 5px;\\n}\\nmat-select {\\n  white-space: nowrap;\\n  display: inline;\\n}\\n.strokeType1 {\\n  background: url(\\\"/assets/strokeType1.png\\\") center/contain no-repeat;\\n}\\n.strokeType2 {\\n  background: url(\\\"/assets/strokeType2.png\\\") center/contain no-repeat;\\n}\\n.strokeType3 {\\n  background: url(\\\"/assets/strokeType3.png\\\") center/contain no-repeat;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL2xpbmUtYXR0cmlidXRlcy9saW5lLWF0dHJpYnV0ZXMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZWJhci10b29scy9hdHRyaWJ1dGUtcGFuZWwvbGluZS1hdHRyaWJ1dGVzL2xpbmUtYXR0cmlidXRlcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsbUJBQUE7QUNDSjtBRENJO0VBQ0ksa0JBQUE7RUFDQSxpQkFBQTtBQ0NSO0FERUk7RUFDSSxpQkFBQTtBQ0FSO0FESUE7RUFDSSxZQUFBO0FDREo7QURJQTtFQUNJLGlCQUFBO0VBQ0EsVUFBQTtBQ0RKO0FESUE7RUFDSSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxTQUFBO0FDREo7QURJQTtFQUNJLG1CQUFBO0VBQ0EsZUFBQTtBQ0RKO0FESUE7RUFDSSxtRUFBQTtBQ0RKO0FESUE7RUFDSSxtRUFBQTtBQ0RKO0FESUE7RUFDSSxtRUFBQTtBQ0RKIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9zaWRlYmFyLXRvb2xzL2F0dHJpYnV0ZS1wYW5lbC9saW5lLWF0dHJpYnV0ZXMvbGluZS1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMzBweCA0MHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAwcHg7XG5cbiAgICAjYXR0cmlidXRlLWhlYWRlciB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gICAgLmF0dHJpYnV0ZSB7XG4gICAgICAgIHBhZGRpbmctdG9wOiAzMHB4O1xuICAgIH1cbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gICAgd2lkdGg6IDE3MHB4O1xufVxuXG4uc21hbGwge1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIHdpZHRoOiAyNSU7XG59XG5cbmltZyB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHRvcDogMTBweDtcbiAgICBsZWZ0OiA1cHg7XG59XG5cbm1hdC1zZWxlY3Qge1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgZGlzcGxheTogaW5saW5lO1xufVxuXG4uc3Ryb2tlVHlwZTEge1xuICAgIGJhY2tncm91bmQ6IHVybCgnL2Fzc2V0cy9zdHJva2VUeXBlMS5wbmcnKSBjZW50ZXIgLyBjb250YWluIG5vLXJlcGVhdDtcbn1cblxuLnN0cm9rZVR5cGUyIHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoJy9hc3NldHMvc3Ryb2tlVHlwZTIucG5nJykgY2VudGVyIC8gY29udGFpbiBuby1yZXBlYXQ7XG59XG5cbi5zdHJva2VUeXBlMyB7XG4gICAgYmFja2dyb3VuZDogdXJsKCcvYXNzZXRzL3N0cm9rZVR5cGUzLnBuZycpIGNlbnRlciAvIGNvbnRhaW4gbm8tcmVwZWF0O1xufVxuIiwiI2NvbnRhaW5lciB7XG4gIHBhZGRpbmc6IDMwcHggNDBweDtcbiAgcGFkZGluZy1ib3R0b206IDBweDtcbn1cbiNjb250YWluZXIgI2F0dHJpYnV0ZS1oZWFkZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuI2NvbnRhaW5lciAuYXR0cmlidXRlIHtcbiAgcGFkZGluZy10b3A6IDMwcHg7XG59XG5cbi5tYXQtc2xpZGVyLWhvcml6b250YWwge1xuICB3aWR0aDogMTcwcHg7XG59XG5cbi5zbWFsbCB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICB3aWR0aDogMjUlO1xufVxuXG5pbWcge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogMTBweDtcbiAgbGVmdDogNXB4O1xufVxuXG5tYXQtc2VsZWN0IHtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgZGlzcGxheTogaW5saW5lO1xufVxuXG4uc3Ryb2tlVHlwZTEge1xuICBiYWNrZ3JvdW5kOiB1cmwoXCIvYXNzZXRzL3N0cm9rZVR5cGUxLnBuZ1wiKSBjZW50ZXIvY29udGFpbiBuby1yZXBlYXQ7XG59XG5cbi5zdHJva2VUeXBlMiB7XG4gIGJhY2tncm91bmQ6IHVybChcIi9hc3NldHMvc3Ryb2tlVHlwZTIucG5nXCIpIGNlbnRlci9jb250YWluIG5vLXJlcGVhdDtcbn1cblxuLnN0cm9rZVR5cGUzIHtcbiAgYmFja2dyb3VuZDogdXJsKFwiL2Fzc2V0cy9zdHJva2VUeXBlMy5wbmdcIikgY2VudGVyL2NvbnRhaW4gbm8tcmVwZWF0O1xufSJdfQ== */\"","import { AfterViewInit, Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\nimport { MatSliderChange } from '@angular/material';\nimport { ShortcutManagerService } from 'src/app/services/shortcut-manager/shortcut-manager.service';\nimport { AttributesManagerService } from 'src/app/services/tools/attributes-manager/attributes-manager.service';\nimport { LineToolService } from 'src/app/services/tools/line-tool/line-tool.service';\nimport { ToolSelectorService } from 'src/app/services/tools/tool-selector/tool-selector.service';\nimport { PREDICATE } from 'src/constants/constants';\nimport { LINE_JOINT_TYPE, LINE_STROKE_TYPE, THICKNESS, TOOL_NAME } from 'src/constants/tool-constants';\n\n@Component({\n    selector: 'app-line-attributes',\n    templateUrl: './line-attributes.component.html',\n    styleUrls: ['./line-attributes.component.scss'],\n    providers: [AttributesManagerService],\n})\nexport class LineAttributesComponent implements OnInit, AfterViewInit {\n    toolName = TOOL_NAME.Line;\n    lineAttributesForm: FormGroup;\n    lineToolService: LineToolService;\n    selected: string;\n\n    lineStrokeType: LINE_STROKE_TYPE;\n    LineStrokeTypeChoices = [LINE_STROKE_TYPE.Continuous, LINE_STROKE_TYPE.Dotted_line, LINE_STROKE_TYPE.Dotted_circle];\n\n    circleJointSelected = false;\n\n    readonly THICKNESS = THICKNESS;\n\n    constructor(\n        public formBuilder: FormBuilder,\n        public attributeManagerService: AttributesManagerService,\n        public toolSelectorService: ToolSelectorService,\n        public shortcutManagerService: ShortcutManagerService,\n    ) {\n        this.formBuilder = formBuilder;\n    }\n\n    ngOnInit(): void {\n        this.initializeForm();\n        this.onThicknessChange();\n    }\n\n    ngAfterViewInit(): void {\n        this.lineToolService = this.toolSelectorService.getLineTool();\n        this.lineToolService.initializeAttributesManagerService(this.attributeManagerService);\n    }\n\n    initializeForm(): void {\n        this.lineAttributesForm = this.formBuilder.group({\n            thickness: [\n                THICKNESS.Default,\n                [Validators.required, Validators.min(THICKNESS.Min), Validators.max(THICKNESS.Max)],\n            ],\n            lineStrokeType: [LINE_STROKE_TYPE.Continuous],\n            lineJointType: [LINE_JOINT_TYPE.Curvy],\n            circleJointDiameter: [THICKNESS.Default, [Validators.min(THICKNESS.Min), Validators.max(THICKNESS.Max)]],\n        });\n    }\n\n    onLineStrokeTypeChange(lineStrokeType: LINE_STROKE_TYPE): void {\n        this.attributeManagerService.lineStrokeType.next(lineStrokeType);\n    }\n\n    onLineJointTypeChange(lineJointType: LINE_JOINT_TYPE): void {\n        this.circleJointSelected = lineJointType === LINE_JOINT_TYPE.Circle;\n        this.attributeManagerService.lineJointType.next(lineJointType);\n    }\n\n    onCircleJointSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, THICKNESS)) {\n            this.lineAttributesForm.controls.circleJointDiameter.setValue(event.value);\n            this.onCircleJointDiameterChange();\n        }\n    }\n\n    onCircleJointDiameterChange(): void {\n        const jointThickness = this.lineAttributesForm.value.circleJointDiameter;\n        if (this.lineAttributesForm.valid) {\n            this.attributeManagerService.circleJointDiameter.next(jointThickness);\n        }\n    }\n\n    onSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, THICKNESS)) {\n            this.lineAttributesForm.controls.thickness.setValue(event.value);\n            this.onThicknessChange();\n        }\n    }\n\n    onThicknessChange(): void {\n        const thickness: number = this.lineAttributesForm.value.thickness;\n        if (this.lineAttributesForm.controls.thickness.valid) {\n            this.attributeManagerService.thickness.next(thickness);\n        }\n    }\n\n    onFocus() {\n        this.shortcutManagerService.changeIsOnInput(true);\n    }\n\n    onFocusOut() {\n        this.shortcutManagerService.changeIsOnInput(false);\n    }\n}\n","module.exports = \"#container {\\n  padding: 30px 40px;\\n  padding-bottom: 0px;\\n}\\n#container #attribute-header {\\n  text-align: center;\\n  font-weight: bold;\\n}\\n#container .attribute {\\n  padding-top: 30px;\\n}\\n.mat-slider-horizontal {\\n  width: 170px;\\n}\\n.small {\\n  margin-left: 10px;\\n  width: 25%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL21hZ25ldGlzbS1hdHRyaWJ1dGVzL21hZ25ldGlzbS1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL21hZ25ldGlzbS1hdHRyaWJ1dGVzL21hZ25ldGlzbS1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxtQkFBQTtBQ0NKO0FEQ0k7RUFDSSxrQkFBQTtFQUNBLGlCQUFBO0FDQ1I7QURFSTtFQUNJLGlCQUFBO0FDQVI7QURJQTtFQUNJLFlBQUE7QUNESjtBRElBO0VBQ0ksaUJBQUE7RUFDQSxVQUFBO0FDREoiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL21hZ25ldGlzbS1hdHRyaWJ1dGVzL21hZ25ldGlzbS1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XHJcbiAgICBwYWRkaW5nOiAzMHB4IDQwcHg7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMHB4O1xyXG5cclxuICAgICNhdHRyaWJ1dGUtaGVhZGVyIHtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICB9XHJcblxyXG4gICAgLmF0dHJpYnV0ZSB7XHJcbiAgICAgICAgcGFkZGluZy10b3A6IDMwcHg7XHJcbiAgICB9XHJcbn1cclxuXHJcbi5tYXQtc2xpZGVyLWhvcml6b250YWwge1xyXG4gICAgd2lkdGg6IDE3MHB4O1xyXG59XHJcblxyXG4uc21hbGwge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XHJcbiAgICB3aWR0aDogMjUlO1xyXG59XHJcbiIsIiNjb250YWluZXIge1xuICBwYWRkaW5nOiAzMHB4IDQwcHg7XG4gIHBhZGRpbmctYm90dG9tOiAwcHg7XG59XG4jY29udGFpbmVyICNhdHRyaWJ1dGUtaGVhZGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbiNjb250YWluZXIgLmF0dHJpYnV0ZSB7XG4gIHBhZGRpbmctdG9wOiAzMHB4O1xufVxuXG4ubWF0LXNsaWRlci1ob3Jpem9udGFsIHtcbiAgd2lkdGg6IDE3MHB4O1xufVxuXG4uc21hbGwge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgd2lkdGg6IDI1JTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\n\nimport { DrawingLoaderService } from 'src/app/services/server/drawing-loader/drawing-loader.service';\nimport { ShortcutManagerService } from 'src/app/services/shortcut-manager/shortcut-manager.service';\nimport { MagnetismToolService } from 'src/app/services/tools/magnetism-tool/magnetism-tool.service';\nimport {\n    BOTTOM_CONTROL_POINTS,\n    CENTER_CONTROL_POINTS,\n    CONTROL_POINTS,\n    TOOL_NAME,\n    TOP_CONTROL_POINTS,\n} from 'src/constants/tool-constants';\n\n@Component({\n    selector: 'app-magnetism-attributes',\n    templateUrl: './magnetism-attributes.component.html',\n    styleUrls: ['./magnetism-attributes.component.scss'],\n})\nexport class MagnetismAttributesComponent implements OnInit {\n    toolName = TOOL_NAME.Magnetism;\n    magnetismAttributesForm: FormGroup;\n\n    readonly CONTROL_POINTS = CONTROL_POINTS;\n    readonly TOP_CONTROL_POINTS = TOP_CONTROL_POINTS;\n    readonly CENTER_CONTROL_POINTS = CENTER_CONTROL_POINTS;\n    readonly BOTTOM_CONTROL_POINTS = BOTTOM_CONTROL_POINTS;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private shortcutManagerService: ShortcutManagerService,\n        public magnetismService: MagnetismToolService,\n        private drawingLoaderService: DrawingLoaderService,\n    ) {\n        this.formBuilder = formBuilder;\n    }\n\n    ngOnInit(): void {\n        this.initializeForm();\n        this.magnetismService.isMagnetic.subscribe((state: boolean) => {\n            this.magnetismAttributesForm.controls.state.setValue(state);\n        });\n        this.drawingLoaderService.untouchedWorkZone.subscribe(() => {\n            this.enableSlider();\n        });\n    }\n\n    initializeForm(): void {\n        this.magnetismAttributesForm = this.formBuilder.group({\n            state: [{ value: false, disabled: true }],\n        });\n    }\n\n    onStateChange(): void {\n        const state = this.magnetismAttributesForm.value.state;\n        this.magnetismService.changeState(state);\n    }\n\n    onFocus(): void {\n        this.shortcutManagerService.changeIsOnInput(true);\n    }\n    onFocusOut(): void {\n        this.shortcutManagerService.changeIsOnInput(false);\n    }\n\n    enableSlider(): void {\n        if (!this.drawingLoaderService.untouchedWorkZone.value) {\n            this.magnetismAttributesForm.controls.state.enable();\n        }\n    }\n\n    setMagnetismPoint(value: CONTROL_POINTS) {\n        this.magnetismService.currentPoint = value;\n    }\n}\n","module.exports = \"#container {\\n  padding: 30px 40px;\\n  padding-bottom: 0px;\\n}\\n#container #attribute-header {\\n  text-align: center;\\n  font-weight: bold;\\n}\\n#container .attribute {\\n  padding-top: 30px;\\n}\\n.mat-slider-horizontal {\\n  width: 150px;\\n}\\n.small {\\n  margin-left: 10px;\\n  width: 25%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL3Blbi1hdHRyaWJ1dGVzL3Blbi1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL3Blbi1hdHRyaWJ1dGVzL3Blbi1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxtQkFBQTtBQ0NKO0FEQ0k7RUFDSSxrQkFBQTtFQUNBLGlCQUFBO0FDQ1I7QURFSTtFQUNJLGlCQUFBO0FDQVI7QURJQTtFQUNJLFlBQUE7QUNESjtBRElBO0VBQ0ksaUJBQUE7RUFDQSxVQUFBO0FDREoiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL3Blbi1hdHRyaWJ1dGVzL3Blbi1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMzBweCA0MHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAwcHg7XG5cbiAgICAjYXR0cmlidXRlLWhlYWRlciB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gICAgLmF0dHJpYnV0ZSB7XG4gICAgICAgIHBhZGRpbmctdG9wOiAzMHB4O1xuICAgIH1cbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gICAgd2lkdGg6IDE1MHB4O1xufVxuXG4uc21hbGwge1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIHdpZHRoOiAyNSU7XG59XG4iLCIjY29udGFpbmVyIHtcbiAgcGFkZGluZzogMzBweCA0MHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMHB4O1xufVxuI2NvbnRhaW5lciAjYXR0cmlidXRlLWhlYWRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4jY29udGFpbmVyIC5hdHRyaWJ1dGUge1xuICBwYWRkaW5nLXRvcDogMzBweDtcbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gIHdpZHRoOiAxNTBweDtcbn1cblxuLnNtYWxsIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIHdpZHRoOiAyNSU7XG59Il19 */\"","import { AfterViewInit, Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatSliderChange } from '@angular/material';\n\nimport { ShortcutManagerService } from 'src/app/services/shortcut-manager/shortcut-manager.service';\nimport { PREDICATE } from 'src/constants/constants';\nimport { THICKNESS, TOOL_NAME } from 'src/constants/tool-constants';\nimport { AttributesManagerService } from '../../../../services/tools/attributes-manager/attributes-manager.service';\nimport { PenToolService } from '../../../../services/tools/pen-tool/pen-tool.service';\nimport { ToolSelectorService } from '../../../../services/tools/tool-selector/tool-selector.service';\n\n@Component({\n    selector: 'app-pen-attributes',\n    templateUrl: './pen-attributes.component.html',\n    styleUrls: ['./pen-attributes.component.scss'],\n    providers: [AttributesManagerService],\n})\nexport class PenAttributesComponent implements OnInit, AfterViewInit {\n    toolName = TOOL_NAME.Pen;\n    penAttributesForm: FormGroup;\n    penToolService: PenToolService;\n\n    readonly THICKNESS = THICKNESS;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private attributesManagerService: AttributesManagerService,\n        private toolSelectorService: ToolSelectorService,\n        private shortcutManagerService: ShortcutManagerService,\n    ) {\n        this.formBuilder = formBuilder;\n    }\n\n    ngOnInit(): void {\n        this.initializeForm();\n        this.onMaxThicknessChange();\n        this.onMinThicknessChange();\n    }\n\n    ngAfterViewInit(): void {\n        this.penToolService = this.toolSelectorService.getPenTool();\n        this.penToolService.initializeAttributesManagerService(this.attributesManagerService);\n    }\n\n    initializeForm(): void {\n        this.penAttributesForm = this.formBuilder.group({\n            maxThickness: [\n                THICKNESS.Default,\n                [Validators.required, Validators.min(THICKNESS.Min), Validators.max(THICKNESS.Max)],\n            ],\n            minThickness: [\n                THICKNESS.Min,\n                [Validators.required, Validators.min(THICKNESS.Min), Validators.max(THICKNESS.Max)],\n            ],\n        });\n    }\n\n    onMaxSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, THICKNESS)) {\n            this.penAttributesForm.controls.maxThickness.setValue(event.value);\n            this.onMaxThicknessChange();\n        }\n    }\n    onMaxThicknessChange(): void {\n        const maxThickness: number = this.penAttributesForm.value.maxThickness;\n        if (this.penAttributesForm.controls.maxThickness.valid) {\n            this.attributesManagerService.thickness.next(maxThickness);\n        }\n        if (this.penAttributesForm.value.minThickness > this.penAttributesForm.value.maxThickness) {\n            const max = this.penAttributesForm.value.maxThickness;\n            this.penAttributesForm.controls.minThickness.setValue(max);\n        }\n        this.penAttributesForm.controls.minThickness.setValidators(\n            Validators.max(this.penAttributesForm.value.maxThickness),\n        );\n    }\n\n    onMinSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, THICKNESS)) {\n            this.penAttributesForm.controls.minThickness.setValue(event.value);\n            this.onMinThicknessChange();\n        }\n    }\n    onMinThicknessChange(): void {\n        const minThickness: number = this.penAttributesForm.value.minThickness;\n        if (this.penAttributesForm.controls.minThickness.valid) {\n            this.attributesManagerService.minThickness.next(minThickness);\n        }\n    }\n\n    onFocus(): void {\n        this.shortcutManagerService.changeIsOnInput(true);\n    }\n    onFocusOut(): void {\n        this.shortcutManagerService.changeIsOnInput(false);\n    }\n}\n","module.exports = \"#container {\\n  padding: 30px 40px;\\n  padding-bottom: 0px;\\n}\\n#container #attribute-header {\\n  text-align: center;\\n  font-weight: bold;\\n}\\n#container .attribute {\\n  padding-top: 30px;\\n}\\n.mat-slider-horizontal {\\n  width: 150px;\\n}\\n.small {\\n  margin-left: 10px;\\n  width: 25%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL3BlbmNpbC1hdHRyaWJ1dGVzL3BlbmNpbC1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL3BlbmNpbC1hdHRyaWJ1dGVzL3BlbmNpbC1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxtQkFBQTtBQ0NKO0FEQ0k7RUFDSSxrQkFBQTtFQUNBLGlCQUFBO0FDQ1I7QURFSTtFQUNJLGlCQUFBO0FDQVI7QURJQTtFQUNJLFlBQUE7QUNESjtBRElBO0VBQ0ksaUJBQUE7RUFDQSxVQUFBO0FDREoiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL3BlbmNpbC1hdHRyaWJ1dGVzL3BlbmNpbC1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMzBweCA0MHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAwcHg7XG5cbiAgICAjYXR0cmlidXRlLWhlYWRlciB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gICAgLmF0dHJpYnV0ZSB7XG4gICAgICAgIHBhZGRpbmctdG9wOiAzMHB4O1xuICAgIH1cbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gICAgd2lkdGg6IDE1MHB4O1xufVxuXG4uc21hbGwge1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIHdpZHRoOiAyNSU7XG59XG4iLCIjY29udGFpbmVyIHtcbiAgcGFkZGluZzogMzBweCA0MHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMHB4O1xufVxuI2NvbnRhaW5lciAjYXR0cmlidXRlLWhlYWRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4jY29udGFpbmVyIC5hdHRyaWJ1dGUge1xuICBwYWRkaW5nLXRvcDogMzBweDtcbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gIHdpZHRoOiAxNTBweDtcbn1cblxuLnNtYWxsIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIHdpZHRoOiAyNSU7XG59Il19 */\"","import { AfterViewInit, Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatSliderChange } from '@angular/material';\n\nimport { ShortcutManagerService } from 'src/app/services/shortcut-manager/shortcut-manager.service';\nimport { PREDICATE } from 'src/constants/constants';\nimport { THICKNESS, TOOL_NAME } from 'src/constants/tool-constants';\nimport { AttributesManagerService } from '../../../../services/tools/attributes-manager/attributes-manager.service';\nimport { PencilToolService } from '../../../../services/tools/pencil-tool/pencil-tool.service';\nimport { ToolSelectorService } from '../../../../services/tools/tool-selector/tool-selector.service';\n\n@Component({\n    selector: 'app-pencil-attributes',\n    templateUrl: './pencil-attributes.component.html',\n    styleUrls: ['./pencil-attributes.component.scss'],\n    providers: [AttributesManagerService],\n})\nexport class PencilAttributesComponent implements OnInit, AfterViewInit {\n    toolName = TOOL_NAME.Pencil;\n    pencilAttributesForm: FormGroup;\n    pencilToolService: PencilToolService;\n\n    readonly THICKNESS = THICKNESS;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private attributesManagerService: AttributesManagerService,\n        private toolSelectorService: ToolSelectorService,\n        private shortcutManagerService: ShortcutManagerService,\n    ) {\n        this.formBuilder = formBuilder;\n    }\n\n    ngOnInit(): void {\n        this.initializeForm();\n        this.onThicknessChange();\n    }\n\n    ngAfterViewInit(): void {\n        this.pencilToolService = this.toolSelectorService.getPencilTool();\n        this.pencilToolService.initializeAttributesManagerService(this.attributesManagerService);\n    }\n\n    initializeForm(): void {\n        this.pencilAttributesForm = this.formBuilder.group({\n            thickness: [\n                THICKNESS.Default,\n                [Validators.required, Validators.min(THICKNESS.Min), Validators.max(THICKNESS.Max)],\n            ],\n        });\n    }\n\n    onSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, THICKNESS)) {\n            this.pencilAttributesForm.controls.thickness.setValue(event.value);\n            this.onThicknessChange();\n        }\n    }\n\n    onThicknessChange(): void {\n        const thickness: number = this.pencilAttributesForm.value.thickness;\n        if (this.pencilAttributesForm.controls.thickness.valid) {\n            this.attributesManagerService.thickness.next(thickness);\n        }\n    }\n\n    onFocus(): void {\n        this.shortcutManagerService.changeIsOnInput(true);\n    }\n    onFocusOut(): void {\n        this.shortcutManagerService.changeIsOnInput(false);\n    }\n}\n","module.exports = \"#container {\\n  padding: 30px 40px;\\n  padding-bottom: 0px;\\n}\\n#container #attribute-header {\\n  text-align: center;\\n  font-weight: bold;\\n}\\n#container .attribute {\\n  padding-top: 30px;\\n}\\n.mat-slider-horizontal {\\n  width: 150px;\\n}\\n#nbVertices .mat-slider-horizontal {\\n  width: 120px;\\n}\\n.small {\\n  margin-left: 10px;\\n  width: 25%;\\n}\\n.small-polygon {\\n  margin-left: 10px;\\n  width: 30%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL3BvbHlnb24tYXR0cmlidXRlcy9wb2x5Z29uLWF0dHJpYnV0ZXMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZWJhci10b29scy9hdHRyaWJ1dGUtcGFuZWwvcG9seWdvbi1hdHRyaWJ1dGVzL3BvbHlnb24tYXR0cmlidXRlcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsbUJBQUE7QUNDSjtBRENJO0VBQ0ksa0JBQUE7RUFDQSxpQkFBQTtBQ0NSO0FERUk7RUFDSSxpQkFBQTtBQ0FSO0FESUE7RUFDSSxZQUFBO0FDREo7QURLSTtFQUNJLFlBQUE7QUNGUjtBRE1BO0VBQ0ksaUJBQUE7RUFDQSxVQUFBO0FDSEo7QURNQTtFQUNJLGlCQUFBO0VBQ0EsVUFBQTtBQ0hKIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9zaWRlYmFyLXRvb2xzL2F0dHJpYnV0ZS1wYW5lbC9wb2x5Z29uLWF0dHJpYnV0ZXMvcG9seWdvbi1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMzBweCA0MHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAwcHg7XG5cbiAgICAjYXR0cmlidXRlLWhlYWRlciB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gICAgLmF0dHJpYnV0ZSB7XG4gICAgICAgIHBhZGRpbmctdG9wOiAzMHB4O1xuICAgIH1cbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gICAgd2lkdGg6IDE1MHB4O1xufVxuXG4jbmJWZXJ0aWNlcyB7XG4gICAgLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gICAgICAgIHdpZHRoOiAxMjBweDtcbiAgICB9XG59XG5cbi5zbWFsbCB7XG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgd2lkdGg6IDI1JTtcbn1cblxuLnNtYWxsLXBvbHlnb24ge1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIHdpZHRoOiAzMCU7XG59XG4iLCIjY29udGFpbmVyIHtcbiAgcGFkZGluZzogMzBweCA0MHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMHB4O1xufVxuI2NvbnRhaW5lciAjYXR0cmlidXRlLWhlYWRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4jY29udGFpbmVyIC5hdHRyaWJ1dGUge1xuICBwYWRkaW5nLXRvcDogMzBweDtcbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gIHdpZHRoOiAxNTBweDtcbn1cblxuI25iVmVydGljZXMgLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gIHdpZHRoOiAxMjBweDtcbn1cblxuLnNtYWxsIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIHdpZHRoOiAyNSU7XG59XG5cbi5zbWFsbC1wb2x5Z29uIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIHdpZHRoOiAzMCU7XG59Il19 */\"","import { AfterViewInit, Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatSliderChange } from '@angular/material';\n\nimport { ShortcutManagerService } from 'src/app/services/shortcut-manager/shortcut-manager.service';\nimport { AttributesManagerService } from 'src/app/services/tools/attributes-manager/attributes-manager.service';\nimport { PolygonToolService } from 'src/app/services/tools/polygon-tool/polygon-tool.service';\nimport { ToolSelectorService } from 'src/app/services/tools/tool-selector/tool-selector.service';\nimport { PREDICATE } from 'src/constants/constants';\nimport { POLYGON_SIDES, POLYGONE_FORM_TYPE, THICKNESS, TOOL_NAME } from 'src/constants/tool-constants';\n\n@Component({\n    selector: 'app-polygon-attributes',\n    templateUrl: './polygon-attributes.component.html',\n    styleUrls: ['./polygon-attributes.component.scss'],\n})\nexport class PolygonAttributesComponent implements OnInit, AfterViewInit {\n    toolName = TOOL_NAME.Polygon;\n    polygonAttributesForm: FormGroup;\n    polygonToolService: PolygonToolService;\n    attributesManagerService: AttributesManagerService = new AttributesManagerService();\n\n    readonly thickness = THICKNESS;\n    readonly polygonSides = POLYGON_SIDES;\n    readonly polygonFormType = POLYGONE_FORM_TYPE;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private toolSelectorService: ToolSelectorService,\n        private shortcutManagerService: ShortcutManagerService,\n    ) {\n        this.formBuilder = formBuilder;\n    }\n\n    ngOnInit(): void {\n        this.initializeForm();\n        this.onThicknessChange();\n    }\n\n    ngAfterViewInit(): void {\n        this.polygonToolService = this.toolSelectorService.getPolygonTool();\n        this.polygonToolService.initializeAttributesManagerService(this.attributesManagerService);\n    }\n\n    initializeForm(): void {\n        this.polygonAttributesForm = this.formBuilder.group({\n            thickness: [\n                THICKNESS.Default,\n                [Validators.required, Validators.min(THICKNESS.Min), Validators.max(THICKNESS.Max)],\n            ],\n            traceType: ['Contour'],\n            nbVertices: [\n                POLYGON_SIDES.Default,\n                [Validators.required, Validators.min(POLYGON_SIDES.Min), Validators.max(POLYGON_SIDES.Max)],\n            ],\n        });\n    }\n\n    onThicknessSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, THICKNESS)) {\n            this.polygonAttributesForm.controls.thickness.setValue(event.value);\n            this.onThicknessChange();\n        }\n    }\n\n    onNbVerticesSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, POLYGON_SIDES)) {\n            this.polygonAttributesForm.controls.nbVertices.setValue(event.value);\n            this.onNbVerticesChange();\n        }\n    }\n\n    onThicknessChange(): void {\n        const thickness: number = this.polygonAttributesForm.value.thickness;\n        if (this.polygonAttributesForm.controls.thickness.valid) {\n            this.attributesManagerService.thickness.next(thickness);\n        }\n    }\n\n    onTraceTypeChange(): void {\n        const tracetype: string = this.polygonAttributesForm.value.traceType;\n        this.attributesManagerService.traceType.next(tracetype);\n    }\n\n    onNbVerticesChange(): void {\n        const nbVertices = this.polygonAttributesForm.value.nbVertices;\n        this.attributesManagerService.nbVertices.next(nbVertices);\n    }\n\n    onFocus(): void {\n        this.shortcutManagerService.changeIsOnInput(true);\n    }\n    onFocusOut(): void {\n        this.shortcutManagerService.changeIsOnInput(false);\n    }\n}\n","module.exports = \"#container {\\n  padding: 30px 40px;\\n  padding-bottom: 0px;\\n}\\n#container #attribute-header {\\n  text-align: center;\\n  font-weight: bold;\\n}\\n#container .attribute {\\n  padding-top: 30px;\\n}\\n.mat-slider-horizontal {\\n  width: 150px;\\n}\\n.small {\\n  margin-left: 10px;\\n  width: 25%;\\n}\\n#angle-attribute {\\n  width: 50%;\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL3F1aWxsLWF0dHJpYnV0ZXMvcXVpbGwtYXR0cmlidXRlcy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9zaWRlYmFyLXRvb2xzL2F0dHJpYnV0ZS1wYW5lbC9xdWlsbC1hdHRyaWJ1dGVzL3F1aWxsLWF0dHJpYnV0ZXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7QURDRTtFQUNJLGtCQUFBO0VBQ0EsaUJBQUE7QUNDTjtBREVFO0VBQ0ksaUJBQUE7QUNBTjtBRElBO0VBQ0UsWUFBQTtBQ0RGO0FESUE7RUFDRSxpQkFBQTtFQUNBLFVBQUE7QUNERjtBRElBO0VBQ0UsVUFBQTtFQUNBLGNBQUE7QUNERiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZWJhci10b29scy9hdHRyaWJ1dGUtcGFuZWwvcXVpbGwtYXR0cmlidXRlcy9xdWlsbC1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gIHBhZGRpbmc6IDMwcHggNDBweDtcbiAgcGFkZGluZy1ib3R0b206IDBweDtcblxuICAjYXR0cmlidXRlLWhlYWRlciB7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgfVxuXG4gIC5hdHRyaWJ1dGUge1xuICAgICAgcGFkZGluZy10b3A6IDMwcHg7XG4gIH1cbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gIHdpZHRoOiAxNTBweDtcbn1cblxuLnNtYWxsIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIHdpZHRoOiAyNSU7XG59XG5cbiNhbmdsZS1hdHRyaWJ1dGUge1xuICB3aWR0aDogNTAlO1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuIiwiI2NvbnRhaW5lciB7XG4gIHBhZGRpbmc6IDMwcHggNDBweDtcbiAgcGFkZGluZy1ib3R0b206IDBweDtcbn1cbiNjb250YWluZXIgI2F0dHJpYnV0ZS1oZWFkZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuI2NvbnRhaW5lciAuYXR0cmlidXRlIHtcbiAgcGFkZGluZy10b3A6IDMwcHg7XG59XG5cbi5tYXQtc2xpZGVyLWhvcml6b250YWwge1xuICB3aWR0aDogMTUwcHg7XG59XG5cbi5zbWFsbCB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICB3aWR0aDogMjUlO1xufVxuXG4jYW5nbGUtYXR0cmlidXRlIHtcbiAgd2lkdGg6IDUwJTtcbiAgZGlzcGxheTogYmxvY2s7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatSliderChange } from '@angular/material';\n\nimport { ShortcutManagerService } from 'src/app/services/shortcut-manager/shortcut-manager.service';\nimport { AttributesManagerService } from 'src/app/services/tools/attributes-manager/attributes-manager.service';\nimport { QuillToolService } from 'src/app/services/tools/quill-tool/quill-tool.service';\nimport { ToolSelectorService } from 'src/app/services/tools/tool-selector/tool-selector.service';\nimport { PREDICATE } from 'src/constants/constants';\nimport { ROTATION_ANGLE, THICKNESS, TOOL_NAME } from 'src/constants/tool-constants';\n\n@Component({\n    selector: 'app-quill-attributes',\n    templateUrl: './quill-attributes.component.html',\n    styleUrls: ['./quill-attributes.component.scss'],\n})\nexport class QuillAttributesComponent implements OnInit {\n    toolName = TOOL_NAME.Quill;\n    quillAttributesForm: FormGroup;\n    quillToolService: QuillToolService;\n\n    readonly THICKNESS = THICKNESS;\n    readonly QUILL_ANGLE_ORIENTATION = ROTATION_ANGLE;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private attributesManagerService: AttributesManagerService,\n        private toolSelectorService: ToolSelectorService,\n        private shortcutManagerService: ShortcutManagerService,\n    ) {\n        this.formBuilder = formBuilder;\n    }\n\n    ngOnInit() {\n        this.initializeForm();\n        this.onThicknessChange();\n        this.onAngleChange();\n        this.quillToolService = this.toolSelectorService.getQuillTool();\n        this.quillToolService.initializeAttributesManagerService(this.attributesManagerService);\n    }\n\n    initializeForm(): void {\n        this.quillAttributesForm = this.formBuilder.group({\n            thickness: [\n                THICKNESS.Default,\n                [Validators.required, Validators.min(THICKNESS.Min), Validators.max(THICKNESS.Max)],\n            ],\n            angle: [\n                ROTATION_ANGLE.Default,\n                [Validators.required, Validators.min(ROTATION_ANGLE.Min), Validators.max(ROTATION_ANGLE.Max)],\n            ],\n        });\n    }\n\n    onSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, THICKNESS)) {\n            this.quillAttributesForm.controls.thickness.setValue(event.value);\n            this.onThicknessChange();\n        }\n    }\n\n    onThicknessChange(): void {\n        const thickness: number = this.quillAttributesForm.value.thickness;\n        if (this.quillAttributesForm.controls.thickness.valid) {\n            this.attributesManagerService.thickness.next(thickness);\n        }\n    }\n\n    onAngleChange(): void {\n        const quillAngle: number = this.quillAttributesForm.value.angle;\n        if (this.quillAttributesForm.controls.angle.valid) {\n            this.attributesManagerService.angle.next(quillAngle);\n        }\n    }\n\n    onFocus(): void {\n        this.shortcutManagerService.changeIsOnInput(true);\n    }\n    onFocusOut(): void {\n        this.shortcutManagerService.changeIsOnInput(false);\n    }\n}\n","module.exports = \"#container {\\n  padding: 30px 40px;\\n  padding-bottom: 0px;\\n}\\n#container #attribute-header {\\n  text-align: center;\\n  font-weight: bold;\\n}\\n#container .attribute {\\n  padding-top: 30px;\\n}\\n.mat-slider-horizontal {\\n  width: 150px;\\n}\\n.small {\\n  margin-left: 10px;\\n  width: 25%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL3JlY3RhbmdsZS1hdHRyaWJ1dGVzL3JlY3RhbmdsZS1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL3JlY3RhbmdsZS1hdHRyaWJ1dGVzL3JlY3RhbmdsZS1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxtQkFBQTtBQ0NKO0FEQ0k7RUFDSSxrQkFBQTtFQUNBLGlCQUFBO0FDQ1I7QURFSTtFQUNJLGlCQUFBO0FDQVI7QURJQTtFQUNJLFlBQUE7QUNESjtBRElBO0VBQ0ksaUJBQUE7RUFDQSxVQUFBO0FDREoiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL3JlY3RhbmdsZS1hdHRyaWJ1dGVzL3JlY3RhbmdsZS1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMzBweCA0MHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAwcHg7XG5cbiAgICAjYXR0cmlidXRlLWhlYWRlciB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gICAgLmF0dHJpYnV0ZSB7XG4gICAgICAgIHBhZGRpbmctdG9wOiAzMHB4O1xuICAgIH1cbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gICAgd2lkdGg6IDE1MHB4O1xufVxuXG4uc21hbGwge1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIHdpZHRoOiAyNSU7XG59XG4iLCIjY29udGFpbmVyIHtcbiAgcGFkZGluZzogMzBweCA0MHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMHB4O1xufVxuI2NvbnRhaW5lciAjYXR0cmlidXRlLWhlYWRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4jY29udGFpbmVyIC5hdHRyaWJ1dGUge1xuICBwYWRkaW5nLXRvcDogMzBweDtcbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gIHdpZHRoOiAxNTBweDtcbn1cblxuLnNtYWxsIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIHdpZHRoOiAyNSU7XG59Il19 */\"","import { AfterViewInit, Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatSliderChange } from '@angular/material';\n\nimport { ShortcutManagerService } from 'src/app/services/shortcut-manager/shortcut-manager.service';\nimport { PREDICATE } from 'src/constants/constants';\nimport { THICKNESS, TOOL_NAME } from 'src/constants/tool-constants';\nimport { AttributesManagerService } from '../../../../services/tools/attributes-manager/attributes-manager.service';\nimport { RectangleToolService } from '../../../../services/tools/rectangle-tool/rectangle-tool.service';\nimport { ToolSelectorService } from '../../../../services/tools/tool-selector/tool-selector.service';\n\n@Component({\n    selector: 'app-rectangle-attributes',\n    templateUrl: './rectangle-attributes.component.html',\n    styleUrls: ['./rectangle-attributes.component.scss'],\n})\nexport class RectangleAttributesComponent implements OnInit, AfterViewInit {\n    toolName = TOOL_NAME.Rectangle;\n    rectangleAttributesForm: FormGroup;\n    rectangleToolService: RectangleToolService;\n    attributesManagerService: AttributesManagerService = new AttributesManagerService();\n    readonly thickness = THICKNESS;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private toolSelectorService: ToolSelectorService,\n        private shortcutManagerService: ShortcutManagerService,\n    ) {\n        this.formBuilder = formBuilder;\n    }\n\n    ngOnInit(): void {\n        this.initializeForm();\n        this.onThicknessChange();\n    }\n\n    ngAfterViewInit(): void {\n        this.rectangleToolService = this.toolSelectorService.getRectangleTool();\n        this.rectangleToolService.initializeAttributesManagerService(this.attributesManagerService);\n    }\n\n    initializeForm(): void {\n        this.rectangleAttributesForm = this.formBuilder.group({\n            thickness: [\n                THICKNESS.Default,\n                [Validators.required, Validators.min(THICKNESS.Min), Validators.max(THICKNESS.Max)],\n            ],\n            traceType: ['Contour'],\n        });\n    }\n\n    onSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, THICKNESS)) {\n            this.rectangleAttributesForm.controls.thickness.setValue(event.value);\n            this.onThicknessChange();\n        }\n    }\n\n    onThicknessChange(): void {\n        const thickness: number = this.rectangleAttributesForm.value.thickness;\n        if (this.rectangleAttributesForm.controls.thickness.valid) {\n            this.attributesManagerService.thickness.next(thickness);\n        }\n    }\n\n    onTraceTypeChange(): void {\n        const tracetype: string = this.rectangleAttributesForm.value.traceType;\n        this.attributesManagerService.traceType.next(tracetype);\n    }\n\n    onFocus(): void {\n        this.shortcutManagerService.changeIsOnInput(true);\n    }\n    onFocusOut(): void {\n        this.shortcutManagerService.changeIsOnInput(false);\n    }\n}\n","module.exports = \"#container {\\n  padding: 30px 40px;\\n  padding-bottom: 0px;\\n}\\n#container #attribute-header {\\n  text-align: center;\\n  font-weight: bold;\\n}\\n#container .attribute {\\n  padding-top: 30px;\\n}\\n#clipboard-options p {\\n  padding: 0 0 5 0;\\n  margin: 0 0 5 0;\\n}\\n.mat-button-toggle-checked {\\n  background: #ffffff;\\n}\\n.mat-button-toggle-checked * {\\n  color: black;\\n}\\n.mat-button-toggle {\\n  width: 40px;\\n  height: 40px;\\n  border: none;\\n}\\n.mat-button-toggle i {\\n  font-size: 100%;\\n}\\n.disabled {\\n  color: grey;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL3NlbGVjdGlvbi1hdHRyaWJ1dGVzL3NlbGVjdGlvbi1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL3NlbGVjdGlvbi1hdHRyaWJ1dGVzL3NlbGVjdGlvbi1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxtQkFBQTtBQ0NKO0FEQ0k7RUFDSSxrQkFBQTtFQUNBLGlCQUFBO0FDQ1I7QURFSTtFQUNJLGlCQUFBO0FDQVI7QURLSTtFQUNJLGdCQUFBO0VBQ0EsZUFBQTtBQ0ZSO0FETUE7RUFDSSxtQkFBQTtBQ0hKO0FESUk7RUFDSSxZQUFBO0FDRlI7QURNQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBQ0hKO0FES0k7RUFDSSxlQUFBO0FDSFI7QURPQTtFQUNJLFdBQUE7QUNKSiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZWJhci10b29scy9hdHRyaWJ1dGUtcGFuZWwvc2VsZWN0aW9uLWF0dHJpYnV0ZXMvc2VsZWN0aW9uLWF0dHJpYnV0ZXMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjY29udGFpbmVyIHtcbiAgICBwYWRkaW5nOiAzMHB4IDQwcHg7XG4gICAgcGFkZGluZy1ib3R0b206IDBweDtcblxuICAgICNhdHRyaWJ1dGUtaGVhZGVyIHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG5cbiAgICAuYXR0cmlidXRlIHtcbiAgICAgICAgcGFkZGluZy10b3A6IDMwcHg7XG4gICAgfVxufVxuXG4jY2xpcGJvYXJkLW9wdGlvbnMge1xuICAgIHAge1xuICAgICAgICBwYWRkaW5nOiAwIDAgNSAwO1xuICAgICAgICBtYXJnaW46IDAgMCA1IDA7XG4gICAgfVxufVxuXG4ubWF0LWJ1dHRvbi10b2dnbGUtY2hlY2tlZCB7XG4gICAgYmFja2dyb3VuZDogI2ZmZmZmZjtcbiAgICAqIHtcbiAgICAgICAgY29sb3I6IGJsYWNrO1xuICAgIH1cbn1cblxuLm1hdC1idXR0b24tdG9nZ2xlIHtcbiAgICB3aWR0aDogNDBweDtcbiAgICBoZWlnaHQ6IDQwcHg7XG4gICAgYm9yZGVyOiBub25lO1xuXG4gICAgaSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTAwJTtcbiAgICB9XG59XG5cbi5kaXNhYmxlZCB7XG4gICAgY29sb3I6IGdyZXk7XG59XG4iLCIjY29udGFpbmVyIHtcbiAgcGFkZGluZzogMzBweCA0MHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMHB4O1xufVxuI2NvbnRhaW5lciAjYXR0cmlidXRlLWhlYWRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4jY29udGFpbmVyIC5hdHRyaWJ1dGUge1xuICBwYWRkaW5nLXRvcDogMzBweDtcbn1cblxuI2NsaXBib2FyZC1vcHRpb25zIHAge1xuICBwYWRkaW5nOiAwIDAgNSAwO1xuICBtYXJnaW46IDAgMCA1IDA7XG59XG5cbi5tYXQtYnV0dG9uLXRvZ2dsZS1jaGVja2VkIHtcbiAgYmFja2dyb3VuZDogI2ZmZmZmZjtcbn1cbi5tYXQtYnV0dG9uLXRvZ2dsZS1jaGVja2VkICoge1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi5tYXQtYnV0dG9uLXRvZ2dsZSB7XG4gIHdpZHRoOiA0MHB4O1xuICBoZWlnaHQ6IDQwcHg7XG4gIGJvcmRlcjogbm9uZTtcbn1cbi5tYXQtYnV0dG9uLXRvZ2dsZSBpIHtcbiAgZm9udC1zaXplOiAxMDAlO1xufVxuXG4uZGlzYWJsZWQge1xuICBjb2xvcjogZ3JleTtcbn0iXX0= */\"","import { AfterViewInit, Component } from '@angular/core';\n\nimport { ShortcutManagerService } from 'src/app/services/shortcut-manager/shortcut-manager.service';\nimport { SelectionToolService } from 'src/app/services/tools/selection-tool/selection-tool.service';\nimport { ToolSelectorService } from 'src/app/services/tools/tool-selector/tool-selector.service';\nimport { CLIPBOARD_BUTTON_INFO, TOOL_NAME } from 'src/constants/tool-constants';\n\n@Component({\n    selector: 'app-selection-attributes',\n    templateUrl: './selection-attributes.component.html',\n    styleUrls: ['./selection-attributes.component.scss'],\n})\nexport class SelectionAttributesComponent implements AfterViewInit {\n    readonly CLIPBOARD_BUTTONS = CLIPBOARD_BUTTON_INFO.slice(2, 6);\n    readonly SELECT_ALL_BUTTON = CLIPBOARD_BUTTON_INFO[0];\n    readonly PASTE_BUTTON = CLIPBOARD_BUTTON_INFO[1];\n\n    toolName = TOOL_NAME.Selection;\n\n    selectionToolCallbacks: Map<TOOL_NAME, () => void> = new Map();\n\n    selectionTool: SelectionToolService;\n    isActiveSelection = false;\n    isClippingsEmpty = true;\n\n    constructor(private toolSelector: ToolSelectorService, private shortcutManagerService: ShortcutManagerService) {}\n\n    ngAfterViewInit() {\n        this.selectionTool = this.toolSelector.getSelectiontool();\n\n        this.selectionTool.selection.isActiveSelection.subscribe((isActiveSelection: boolean) => {\n            this.isActiveSelection = isActiveSelection;\n        });\n\n        this.selectionTool.clipBoard.isClippingsEmpty.subscribe((isClippingsEmpty: boolean) => {\n            this.isClippingsEmpty = isClippingsEmpty;\n        });\n\n        this.selectionToolCallbacks.set(TOOL_NAME.SelectAll, () => {\n            this.selectionTool.selectAll();\n        });\n        this.selectionToolCallbacks.set(TOOL_NAME.Duplicate, () => {\n            this.selectionTool.clipBoard.duplicate();\n        });\n        this.selectionToolCallbacks.set(TOOL_NAME.Cut, () => {\n            this.selectionTool.clipBoard.cut();\n        });\n        this.selectionToolCallbacks.set(TOOL_NAME.Copy, () => {\n            this.selectionTool.clipBoard.copy();\n        });\n        this.selectionToolCallbacks.set(TOOL_NAME.Paste, () => {\n            this.selectionTool.clipBoard.paste();\n        });\n        this.selectionToolCallbacks.set(TOOL_NAME.Delete, () => {\n            this.selectionTool.clipBoard.delete();\n        });\n    }\n\n    onButtonTrigger(tooltipName: TOOL_NAME): void {\n        (this.selectionToolCallbacks.get(tooltipName) as () => void)();\n    }\n\n    onFocus(): void {\n        this.shortcutManagerService.changeIsOnInput(true);\n    }\n    onFocusOut(): void {\n        this.shortcutManagerService.changeIsOnInput(false);\n    }\n}\n","module.exports = \"#container {\\n  padding: 30px 40px;\\n  padding-bottom: 0px;\\n}\\n#container #attribute-header {\\n  text-align: center;\\n  font-weight: bold;\\n}\\n#container .attribute {\\n  padding-top: 30px;\\n}\\n#container #intervalInput {\\n  margin-left: 10px;\\n  width: 80px;\\n}\\n.mat-slider-horizontal {\\n  width: 150px;\\n}\\n.small {\\n  margin-left: 10px;\\n  width: 25%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL3NwcmF5LWNhbi1hdHRyaWJ1dGVzL3NwcmF5LWNhbi1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL3NwcmF5LWNhbi1hdHRyaWJ1dGVzL3NwcmF5LWNhbi1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxtQkFBQTtBQ0NKO0FEQ0k7RUFDSSxrQkFBQTtFQUNBLGlCQUFBO0FDQ1I7QURFSTtFQUNJLGlCQUFBO0FDQVI7QURFSTtFQUNJLGlCQUFBO0VBQ0EsV0FBQTtBQ0FSO0FESUE7RUFDSSxZQUFBO0FDREo7QURJQTtFQUNJLGlCQUFBO0VBQ0EsVUFBQTtBQ0RKIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9zaWRlYmFyLXRvb2xzL2F0dHJpYnV0ZS1wYW5lbC9zcHJheS1jYW4tYXR0cmlidXRlcy9zcHJheS1jYW4tYXR0cmlidXRlcy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNjb250YWluZXIge1xyXG4gICAgcGFkZGluZzogMzBweCA0MHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDBweDtcclxuXHJcbiAgICAjYXR0cmlidXRlLWhlYWRlciB7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgfVxyXG5cclxuICAgIC5hdHRyaWJ1dGUge1xyXG4gICAgICAgIHBhZGRpbmctdG9wOiAzMHB4O1xyXG4gICAgfVxyXG4gICAgI2ludGVydmFsSW5wdXQge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xyXG4gICAgICAgIHdpZHRoOiA4MHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG4ubWF0LXNsaWRlci1ob3Jpem9udGFsIHtcclxuICAgIHdpZHRoOiAxNTBweDtcclxufVxyXG5cclxuLnNtYWxsIHtcclxuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xyXG4gICAgd2lkdGg6IDI1JTtcclxufVxyXG4iLCIjY29udGFpbmVyIHtcbiAgcGFkZGluZzogMzBweCA0MHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMHB4O1xufVxuI2NvbnRhaW5lciAjYXR0cmlidXRlLWhlYWRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4jY29udGFpbmVyIC5hdHRyaWJ1dGUge1xuICBwYWRkaW5nLXRvcDogMzBweDtcbn1cbiNjb250YWluZXIgI2ludGVydmFsSW5wdXQge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgd2lkdGg6IDgwcHg7XG59XG5cbi5tYXQtc2xpZGVyLWhvcml6b250YWwge1xuICB3aWR0aDogMTUwcHg7XG59XG5cbi5zbWFsbCB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICB3aWR0aDogMjUlO1xufSJdfQ== */\"","import { AfterViewInit, Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatSliderChange } from '@angular/material';\n\nimport { ShortcutManagerService } from 'src/app/services/shortcut-manager/shortcut-manager.service';\nimport { AttributesManagerService } from 'src/app/services/tools/attributes-manager/attributes-manager.service';\nimport { SprayCanToolService } from 'src/app/services/tools/spray-can-tool/spray-can-tool.service';\nimport { ToolSelectorService } from 'src/app/services/tools/tool-selector/tool-selector.service';\nimport { PREDICATE } from 'src/constants/constants';\nimport {\n    SPRAY_DIAMETER,\n    SPRAY_INTERVAL,\n    SPRAY_PARTICLE_THICKNESS,\n    THICKNESS,\n    TOOL_NAME,\n} from 'src/constants/tool-constants';\n\n@Component({\n    selector: 'app-spray-can-attributes',\n    templateUrl: './spray-can-attributes.component.html',\n    styleUrls: ['./spray-can-attributes.component.scss'],\n})\nexport class SprayCanAttributesComponent implements OnInit, AfterViewInit {\n    toolName = TOOL_NAME.SprayCan;\n    sprayCanAttributesForm: FormGroup;\n    sprayCanToolService: SprayCanToolService;\n    attributesManagerService: AttributesManagerService = new AttributesManagerService();\n    readonly THICKNESS = SPRAY_PARTICLE_THICKNESS;\n    readonly DIAMETER = SPRAY_DIAMETER;\n    readonly INTERVAL = SPRAY_INTERVAL;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private toolSelectorService: ToolSelectorService,\n        private shortcutManagerService: ShortcutManagerService,\n    ) {\n        this.formBuilder = formBuilder;\n    }\n\n    ngOnInit() {\n        this.initializeForm();\n        this.onThicknessChange();\n        this.onDiameterChange();\n    }\n\n    ngAfterViewInit(): void {\n        this.sprayCanToolService = this.toolSelectorService.getSprayCanTool();\n        this.sprayCanToolService.initializeAttributesManagerService(this.attributesManagerService);\n    }\n\n    initializeForm(): void {\n        this.sprayCanAttributesForm = this.formBuilder.group({\n            thickness: [\n                SPRAY_PARTICLE_THICKNESS.Default,\n                [\n                    Validators.required,\n                    Validators.min(SPRAY_PARTICLE_THICKNESS.Min),\n                    Validators.max(SPRAY_PARTICLE_THICKNESS.Max),\n                ],\n            ],\n            diameter: [\n                SPRAY_DIAMETER.Default,\n                [Validators.required, Validators.min(SPRAY_DIAMETER.Min), Validators.max(SPRAY_DIAMETER.Max)],\n            ],\n            interval: [\n                SPRAY_INTERVAL.Default,\n                [Validators.required, Validators.min(SPRAY_INTERVAL.Min), Validators.max(SPRAY_INTERVAL.Max)],\n            ],\n        });\n    }\n\n    onThicknessSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, THICKNESS)) {\n            this.sprayCanAttributesForm.controls.thickness.setValue(event.value);\n            this.onThicknessChange();\n        }\n    }\n\n    onDiameterSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, SPRAY_DIAMETER)) {\n            this.sprayCanAttributesForm.controls.diameter.setValue(event.value);\n            this.onDiameterChange();\n        }\n    }\n\n    onIntervalSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, SPRAY_INTERVAL)) {\n            this.sprayCanAttributesForm.controls.interval.setValue(event.value);\n            this.onIntervalChange();\n        }\n    }\n\n    onThicknessChange(): void {\n        const thickness: number = this.sprayCanAttributesForm.value.thickness;\n        if (this.sprayCanAttributesForm.controls.thickness.valid) {\n            this.attributesManagerService.thickness.next(thickness);\n        }\n    }\n\n    onDiameterChange(): void {\n        const diameter: number = this.sprayCanAttributesForm.value.diameter;\n        if (this.sprayCanAttributesForm.controls.diameter.valid) {\n            this.attributesManagerService.sprayDiameter.next(diameter);\n        }\n    }\n\n    onIntervalChange(): void {\n        const interval: number = this.sprayCanAttributesForm.value.interval;\n        if (this.sprayCanAttributesForm.controls.interval.valid) {\n            this.attributesManagerService.sprayInterval.next(interval);\n        }\n    }\n\n    onFocus(): void {\n        this.shortcutManagerService.changeIsOnInput(true);\n    }\n    onFocusOut(): void {\n        this.shortcutManagerService.changeIsOnInput(false);\n    }\n}\n","module.exports = \"#container {\\n  padding: 30px 40px;\\n  padding-bottom: 0px;\\n}\\n#container #attribute-header {\\n  text-align: center;\\n  font-weight: bold;\\n}\\n#container .attribute {\\n  padding-top: 30px;\\n}\\n.mat-slider-horizontal {\\n  width: 170px;\\n}\\n.small {\\n  margin-left: 10px;\\n  width: 25%;\\n}\\nimg {\\n  position: relative;\\n  top: 10px;\\n  left: 5px;\\n}\\n#angle-attribute {\\n  width: 50%;\\n  display: block;\\n}\\n.class-NoStamp {\\n  background: none;\\n}\\n.class-1 {\\n  background: url(\\\"/assets/stamps/iconmonstr-smiley-14.svg\\\") center/contain no-repeat;\\n}\\n.class-2 {\\n  background: url(\\\"/assets/stamps/iconmonstr-cat-7.svg\\\") center/contain no-repeat;\\n}\\n.class-3 {\\n  background: url(\\\"/assets/stamps/iconmonstr-coin-3.svg\\\") center/contain no-repeat;\\n}\\n.class-4 {\\n  background: url(\\\"/assets/stamps/iconmonstr-home-8.svg\\\") center/contain no-repeat;\\n}\\n.class-5 {\\n  background: url(\\\"/assets/stamps/iconmonstr-glasses-12.svg\\\") center/contain no-repeat;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL3N0YW1wLWF0dHJpYnV0ZXMvc3RhbXAtYXR0cmlidXRlcy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9zaWRlYmFyLXRvb2xzL2F0dHJpYnV0ZS1wYW5lbC9zdGFtcC1hdHRyaWJ1dGVzL3N0YW1wLWF0dHJpYnV0ZXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLG1CQUFBO0FDQ0o7QURDSTtFQUNJLGtCQUFBO0VBQ0EsaUJBQUE7QUNDUjtBREVJO0VBQ0ksaUJBQUE7QUNBUjtBRElBO0VBQ0ksWUFBQTtBQ0RKO0FESUE7RUFDSSxpQkFBQTtFQUNBLFVBQUE7QUNESjtBRElBO0VBQ0ksa0JBQUE7RUFDQSxTQUFBO0VBQ0EsU0FBQTtBQ0RKO0FESUE7RUFDSSxVQUFBO0VBQ0EsY0FBQTtBQ0RKO0FESUE7RUFDSSxnQkFBQTtBQ0RKO0FESUE7RUFDSSxtRkFBQTtBQ0RKO0FESUE7RUFDSSwrRUFBQTtBQ0RKO0FESUE7RUFDSSxnRkFBQTtBQ0RKO0FESUE7RUFDSSxnRkFBQTtBQ0RKO0FESUE7RUFDSSxvRkFBQTtBQ0RKIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9zaWRlYmFyLXRvb2xzL2F0dHJpYnV0ZS1wYW5lbC9zdGFtcC1hdHRyaWJ1dGVzL3N0YW1wLWF0dHJpYnV0ZXMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjY29udGFpbmVyIHtcbiAgICBwYWRkaW5nOiAzMHB4IDQwcHg7XG4gICAgcGFkZGluZy1ib3R0b206IDBweDtcblxuICAgICNhdHRyaWJ1dGUtaGVhZGVyIHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG5cbiAgICAuYXR0cmlidXRlIHtcbiAgICAgICAgcGFkZGluZy10b3A6IDMwcHg7XG4gICAgfVxufVxuXG4ubWF0LXNsaWRlci1ob3Jpem9udGFsIHtcbiAgICB3aWR0aDogMTcwcHg7XG59XG5cbi5zbWFsbCB7XG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgd2lkdGg6IDI1JTtcbn1cblxuaW1nIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgdG9wOiAxMHB4O1xuICAgIGxlZnQ6IDVweDtcbn1cblxuI2FuZ2xlLWF0dHJpYnV0ZSB7XG4gICAgd2lkdGg6IDUwJTtcbiAgICBkaXNwbGF5OiBibG9jaztcbn1cblxuLmNsYXNzLU5vU3RhbXAge1xuICAgIGJhY2tncm91bmQ6IG5vbmU7XG59XG5cbi5jbGFzcy0xIHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoJy9hc3NldHMvc3RhbXBzL2ljb25tb25zdHItc21pbGV5LTE0LnN2ZycpIGNlbnRlciAvIGNvbnRhaW4gbm8tcmVwZWF0O1xufVxuXG4uY2xhc3MtMiB7XG4gICAgYmFja2dyb3VuZDogdXJsKCcvYXNzZXRzL3N0YW1wcy9pY29ubW9uc3RyLWNhdC03LnN2ZycpIGNlbnRlciAvIGNvbnRhaW4gbm8tcmVwZWF0O1xufVxuXG4uY2xhc3MtMyB7XG4gICAgYmFja2dyb3VuZDogdXJsKCcvYXNzZXRzL3N0YW1wcy9pY29ubW9uc3RyLWNvaW4tMy5zdmcnKSBjZW50ZXIgLyBjb250YWluIG5vLXJlcGVhdDtcbn1cblxuLmNsYXNzLTQge1xuICAgIGJhY2tncm91bmQ6IHVybCgnL2Fzc2V0cy9zdGFtcHMvaWNvbm1vbnN0ci1ob21lLTguc3ZnJykgY2VudGVyIC8gY29udGFpbiBuby1yZXBlYXQ7XG59XG5cbi5jbGFzcy01IHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoJy9hc3NldHMvc3RhbXBzL2ljb25tb25zdHItZ2xhc3Nlcy0xMi5zdmcnKSBjZW50ZXIgLyBjb250YWluIG5vLXJlcGVhdDtcbn1cbiIsIiNjb250YWluZXIge1xuICBwYWRkaW5nOiAzMHB4IDQwcHg7XG4gIHBhZGRpbmctYm90dG9tOiAwcHg7XG59XG4jY29udGFpbmVyICNhdHRyaWJ1dGUtaGVhZGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbiNjb250YWluZXIgLmF0dHJpYnV0ZSB7XG4gIHBhZGRpbmctdG9wOiAzMHB4O1xufVxuXG4ubWF0LXNsaWRlci1ob3Jpem9udGFsIHtcbiAgd2lkdGg6IDE3MHB4O1xufVxuXG4uc21hbGwge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgd2lkdGg6IDI1JTtcbn1cblxuaW1nIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IDEwcHg7XG4gIGxlZnQ6IDVweDtcbn1cblxuI2FuZ2xlLWF0dHJpYnV0ZSB7XG4gIHdpZHRoOiA1MCU7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG4uY2xhc3MtTm9TdGFtcCB7XG4gIGJhY2tncm91bmQ6IG5vbmU7XG59XG5cbi5jbGFzcy0xIHtcbiAgYmFja2dyb3VuZDogdXJsKFwiL2Fzc2V0cy9zdGFtcHMvaWNvbm1vbnN0ci1zbWlsZXktMTQuc3ZnXCIpIGNlbnRlci9jb250YWluIG5vLXJlcGVhdDtcbn1cblxuLmNsYXNzLTIge1xuICBiYWNrZ3JvdW5kOiB1cmwoXCIvYXNzZXRzL3N0YW1wcy9pY29ubW9uc3RyLWNhdC03LnN2Z1wiKSBjZW50ZXIvY29udGFpbiBuby1yZXBlYXQ7XG59XG5cbi5jbGFzcy0zIHtcbiAgYmFja2dyb3VuZDogdXJsKFwiL2Fzc2V0cy9zdGFtcHMvaWNvbm1vbnN0ci1jb2luLTMuc3ZnXCIpIGNlbnRlci9jb250YWluIG5vLXJlcGVhdDtcbn1cblxuLmNsYXNzLTQge1xuICBiYWNrZ3JvdW5kOiB1cmwoXCIvYXNzZXRzL3N0YW1wcy9pY29ubW9uc3RyLWhvbWUtOC5zdmdcIikgY2VudGVyL2NvbnRhaW4gbm8tcmVwZWF0O1xufVxuXG4uY2xhc3MtNSB7XG4gIGJhY2tncm91bmQ6IHVybChcIi9hc3NldHMvc3RhbXBzL2ljb25tb25zdHItZ2xhc3Nlcy0xMi5zdmdcIikgY2VudGVyL2NvbnRhaW4gbm8tcmVwZWF0O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatSliderChange } from '@angular/material';\n\nimport { ShortcutManagerService } from 'src/app/services/shortcut-manager/shortcut-manager.service';\nimport { StampToolService } from 'src/app/services/tools/stamp-tool/stamp-tool.service';\nimport { ToolSelectorService } from 'src/app/services/tools/tool-selector/tool-selector.service';\nimport { PREDICATE } from 'src/constants/constants';\nimport {\n    ROTATION_ANGLE,\n    STAMP_NAMES,\n    STAMP_SCALING,\n    STAMP_TYPES,\n    STAMPS_MAP,\n    TOOL_NAME,\n} from 'src/constants/tool-constants';\nimport { AttributesManagerService } from '../../../../services/tools/attributes-manager/attributes-manager.service';\n\n@Component({\n    selector: 'app-stamp-attributes',\n    templateUrl: './stamp-attributes.component.html',\n    styleUrls: ['./stamp-attributes.component.scss'],\n})\nexport class StampAttributesComponent implements OnInit {\n    toolName = TOOL_NAME.Stamp;\n    selected: string;\n\n    stampAttributesForm: FormGroup;\n    stampToolService: StampToolService;\n    readonly STAMP_SCALING = STAMP_SCALING;\n    readonly STAMP_ANGLE_ORIENTATION = ROTATION_ANGLE;\n    readonly STAMP_TYPES = STAMP_TYPES;\n    readonly STAMP_NAMES = STAMP_NAMES;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private attributesManagerService: AttributesManagerService,\n        private toolSelectorService: ToolSelectorService,\n        private shortcutManagerService: ShortcutManagerService,\n    ) {\n        this.formBuilder = formBuilder;\n    }\n\n    ngOnInit(): void {\n        this.initializeForm();\n        this.onScalingChange();\n        this.stampToolService = this.toolSelectorService.getStampTool();\n        this.stampToolService.initializeAttributesManagerService(this.attributesManagerService);\n    }\n\n    initializeForm(): void {\n        this.stampAttributesForm = this.formBuilder.group({\n            scaling: [\n                STAMP_SCALING.Default,\n                [Validators.required, Validators.min(STAMP_SCALING.Min), Validators.max(STAMP_SCALING.Max)],\n            ],\n            angle: [\n                ROTATION_ANGLE.Default,\n                [\n                    Validators.required,\n                    Validators.min(ROTATION_ANGLE.Min),\n                    Validators.max(ROTATION_ANGLE.Max),\n                ],\n            ],\n            stampType: [0],\n        });\n    }\n\n    onSliderChange(event: MatSliderChange): void {\n        if (PREDICATE.eventIsValid(event, STAMP_SCALING)) {\n            this.stampAttributesForm.controls.scaling.setValue(event.value);\n            this.onScalingChange();\n        }\n    }\n\n    onScalingChange(): void {\n        const stampScaling: number = this.stampAttributesForm.value.scaling;\n        if (this.stampAttributesForm.controls.scaling.valid) {\n            this.attributesManagerService.scaling.next(stampScaling);\n        }\n    }\n\n    onStampTypeChange(): void {\n        const stampType: number = this.stampAttributesForm.value.stampType;\n        this.attributesManagerService.stampType.next(STAMPS_MAP.get(stampType) as string);\n    }\n\n    onAngleChange(): void {\n        const stampAngle: number = this.stampAttributesForm.value.angle;\n        if (this.stampAttributesForm.controls.angle.valid) {\n            this.attributesManagerService.angle.next(stampAngle);\n        }\n    }\n\n    onFocus(): void {\n        this.shortcutManagerService.changeIsOnInput(true);\n    }\n\n    onFocusOut(): void {\n        this.shortcutManagerService.changeIsOnInput(false);\n    }\n}\n","module.exports = \"#container {\\n  padding: 30px 40px;\\n  padding-bottom: 0px;\\n}\\n#container #attribute-header {\\n  text-align: center;\\n  font-weight: bold;\\n}\\n#container .attribute {\\n  padding-top: 30px;\\n}\\n.mat-slider-horizontal {\\n  width: 150px;\\n}\\n#small {\\n  margin-left: 5px;\\n  width: 20%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvYXR0cmlidXRlLXBhbmVsL3RleHQtYXR0cmlidXRlcy90ZXh0LWF0dHJpYnV0ZXMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZWJhci10b29scy9hdHRyaWJ1dGUtcGFuZWwvdGV4dC1hdHRyaWJ1dGVzL3RleHQtYXR0cmlidXRlcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsbUJBQUE7QUNDSjtBRENJO0VBQ0ksa0JBQUE7RUFDQSxpQkFBQTtBQ0NSO0FERUk7RUFDSSxpQkFBQTtBQ0FSO0FESUE7RUFDSSxZQUFBO0FDREo7QURJQTtFQUNJLGdCQUFBO0VBQ0EsVUFBQTtBQ0RKIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9zaWRlYmFyLXRvb2xzL2F0dHJpYnV0ZS1wYW5lbC90ZXh0LWF0dHJpYnV0ZXMvdGV4dC1hdHRyaWJ1dGVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMzBweCA0MHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAwcHg7XG5cbiAgICAjYXR0cmlidXRlLWhlYWRlciB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gICAgLmF0dHJpYnV0ZSB7XG4gICAgICAgIHBhZGRpbmctdG9wOiAzMHB4O1xuICAgIH1cbn1cblxuLm1hdC1zbGlkZXItaG9yaXpvbnRhbCB7XG4gICAgd2lkdGg6IDE1MHB4O1xufVxuXG4jc21hbGwge1xuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG4gICAgd2lkdGg6IDIwJTtcbn1cbiIsIiNjb250YWluZXIge1xuICBwYWRkaW5nOiAzMHB4IDQwcHg7XG4gIHBhZGRpbmctYm90dG9tOiAwcHg7XG59XG4jY29udGFpbmVyICNhdHRyaWJ1dGUtaGVhZGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbiNjb250YWluZXIgLmF0dHJpYnV0ZSB7XG4gIHBhZGRpbmctdG9wOiAzMHB4O1xufVxuXG4ubWF0LXNsaWRlci1ob3Jpem9udGFsIHtcbiAgd2lkdGg6IDE1MHB4O1xufVxuXG4jc21hbGwge1xuICBtYXJnaW4tbGVmdDogNXB4O1xuICB3aWR0aDogMjAlO1xufSJdfQ== */\"","import { AfterViewInit, Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\nimport { ShortcutManagerService } from 'src/app/services/shortcut-manager/shortcut-manager.service';\nimport { AttributesManagerService } from 'src/app/services/tools/attributes-manager/attributes-manager.service';\nimport { TextToolService } from 'src/app/services/tools/text-tool/text-tool.service';\nimport { ToolSelectorService } from 'src/app/services/tools/tool-selector/tool-selector.service';\nimport { FONT_ALIGN, FONT_SIZE, FONTS, TOOL_NAME } from 'src/constants/tool-constants';\n\n@Component({\n    selector: 'app-text-attributes',\n    templateUrl: './text-attributes.component.html',\n    styleUrls: ['./text-attributes.component.scss'],\n})\nexport class TextAttributesComponent implements OnInit, AfterViewInit {\n    toolName = TOOL_NAME.Text;\n    isBold = false;\n    isItalic = false;\n    textAttributesForm: FormGroup;\n    textToolService: TextToolService;\n\n    readonly FONTS = FONTS;\n    readonly fontSize = FONT_SIZE;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private toolSelectorService: ToolSelectorService,\n        private shortcutManagerService: ShortcutManagerService,\n        private attributesManagerService: AttributesManagerService,\n    ) {\n        this.formBuilder = formBuilder;\n    }\n\n    ngOnInit() {\n        this.initializeForm();\n    }\n\n    ngAfterViewInit() {\n        this.textToolService = this.toolSelectorService.getTextTool();\n        this.textToolService.initializeAttributesManagerService(this.attributesManagerService);\n    }\n\n    initializeForm(): void {\n        this.textAttributesForm = this.formBuilder.group({\n            font: ['Times New Roman, serif'],\n            fontSize: [\n                FONT_SIZE.Default,\n                [Validators.required, Validators.min(FONT_SIZE.Min), Validators.max(FONT_SIZE.Max)],\n            ],\n            align: [FONT_ALIGN.Start],\n        });\n    }\n\n    onFontChange(): void {\n        const align = this.textAttributesForm.controls.font.value;\n        this.attributesManagerService.font.next(align);\n    }\n\n    onFontSizeChange(): void {\n        const fontSize = this.textAttributesForm.controls.fontSize.value;\n        if (this.textAttributesForm.controls.fontSize.valid) {\n            this.attributesManagerService.fontSize.next(fontSize);\n        }\n    }\n\n    onAlignChange(): void {\n        const align = this.textAttributesForm.controls.align.value;\n        this.attributesManagerService.fontAlign.next(align);\n    }\n\n    onBoldChange(): void {\n        this.isBold = !this.isBold;\n        this.attributesManagerService.boldState.next(this.isBold);\n    }\n\n    onItalicChange(): void {\n        this.isItalic = !this.isItalic;\n        this.attributesManagerService.italicState.next(this.isItalic);\n    }\n\n    onFocus(): void {\n        this.shortcutManagerService.changeIsOnInput(true);\n    }\n    onFocusOut(): void {\n        if (!this.attributesManagerService.isWritingState.value) {\n            this.shortcutManagerService.changeIsOnInput(false);\n        }\n    }\n\n    getCurrentFont(): string {\n        return this.textAttributesForm.controls.font.value;\n    }\n}\n","module.exports = \"#sidebar {\\n  position: fixed;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  width: 360px;\\n  background-color: #ffffff;\\n  z-index: 1;\\n}\\n\\n#tools-buttons {\\n  width: 35px;\\n  height: 100vh;\\n}\\n\\n#tools-buttons mat-button-toggle-group {\\n  width: 35px;\\n}\\n\\n#file-buttons {\\n  position: fixed;\\n  bottom: 0;\\n  display: -webkit-box;\\n  display: flex;\\n}\\n\\n#file-buttons .mat-button-toggle-checked {\\n  background: #ffffff;\\n}\\n\\n#file-buttons .mat-button-toggle-checked * {\\n  color: black;\\n}\\n\\n.mat-button-toggle {\\n  width: 35px;\\n  height: 35px;\\n  border: none;\\n}\\n\\n.mat-button-toggle i {\\n  font-size: 75%;\\n}\\n\\n#color {\\n  margin-top: 3px;\\n  padding: 3px;\\n  width: 35px;\\n}\\n\\n#color button {\\n  width: 20px;\\n  height: 20px;\\n  border: 0;\\n}\\n\\n#color #secondary {\\n  background-color: pink;\\n}\\n\\n#color #primary {\\n  background-color: palevioletred;\\n  position: relative;\\n  top: -10px;\\n  left: 10px;\\n}\\n\\n#tracing-tools {\\n  width: 180px;\\n  height: 35px;\\n  position: fixed;\\n  top: 36px;\\n  left: 36px;\\n  z-index: 3;\\n  border-radius: 0 2px 2px 0;\\n}\\n\\n#shape-tools {\\n  width: 108px;\\n  height: 35px;\\n  position: fixed;\\n  top: 72px;\\n  left: 36px;\\n  z-index: 3;\\n  border-radius: 0 2px 2px 0;\\n}\\n\\nimg {\\n  width: 35%;\\n  height: 35%;\\n  position: absolute;\\n  top: 25px;\\n  left: 25px;\\n}\\n\\n.cdk-focused {\\n  outline: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvc2lkZWJhci10b29scy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9zaWRlYmFyLXRvb2xzL3NpZGViYXItdG9vbHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxlQUFBO0VBQ0EsTUFBQTtFQUNBLFNBQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUVBLFlBQUE7RUFDQSx5QkFBQTtFQUVBLFVBQUE7QUNESjs7QURJQTtFQUNJLFdBQUE7RUFDQSxhQUFBO0FDREo7O0FER0k7RUFDSSxXQUFBO0FDRFI7O0FES0E7RUFDSSxlQUFBO0VBQ0EsU0FBQTtFQUNBLG9CQUFBO0VBQUEsYUFBQTtBQ0ZKOztBREdJO0VBQ0ksbUJBQUE7QUNEUjs7QURFUTtFQUNJLFlBQUE7QUNBWjs7QURLQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBQ0ZKOztBRElJO0VBQ0ksY0FBQTtBQ0ZSOztBRE1BO0VBQ0ksZUFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FDSEo7O0FESUk7RUFDSSxXQUFBO0VBQ0EsWUFBQTtFQUNBLFNBQUE7QUNGUjs7QURJSTtFQUNJLHNCQUFBO0FDRlI7O0FESUk7RUFDSSwrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFVBQUE7QUNGUjs7QURNQTtFQUNJLFlBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0VBQ0EsVUFBQTtFQUNBLDBCQUFBO0FDSEo7O0FETUE7RUFDSSxZQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtFQUNBLFVBQUE7RUFDQSwwQkFBQTtBQ0hKOztBRE1BO0VBQ0ksVUFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0FDSEo7O0FETUE7RUFDSSxhQUFBO0FDSEoiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXItdG9vbHMvc2lkZWJhci10b29scy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNzaWRlYmFyIHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgdG9wOiAwO1xuICAgIGJvdHRvbTogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuXG4gICAgd2lkdGg6IDM2MHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XG5cbiAgICB6LWluZGV4OiAxO1xufVxuXG4jdG9vbHMtYnV0dG9ucyB7XG4gICAgd2lkdGg6IDM1cHg7XG4gICAgaGVpZ2h0OiAxMDB2aDtcblxuICAgIG1hdC1idXR0b24tdG9nZ2xlLWdyb3VwIHtcbiAgICAgICAgd2lkdGg6IDM1cHg7XG4gICAgfVxufVxuXG4jZmlsZS1idXR0b25zIHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgYm90dG9tOiAwO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgLm1hdC1idXR0b24tdG9nZ2xlLWNoZWNrZWQge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xuICAgICAgICAqIHtcbiAgICAgICAgICAgIGNvbG9yOiBibGFjaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLm1hdC1idXR0b24tdG9nZ2xlIHtcbiAgICB3aWR0aDogMzVweDtcbiAgICBoZWlnaHQ6IDM1cHg7XG4gICAgYm9yZGVyOiBub25lO1xuXG4gICAgaSB7XG4gICAgICAgIGZvbnQtc2l6ZTogNzUlO1xuICAgIH1cbn1cblxuI2NvbG9yIHtcbiAgICBtYXJnaW4tdG9wOiAzcHg7XG4gICAgcGFkZGluZzogM3B4O1xuICAgIHdpZHRoOiAzNXB4O1xuICAgIGJ1dHRvbiB7XG4gICAgICAgIHdpZHRoOiAyMHB4O1xuICAgICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICAgIGJvcmRlcjogMDtcbiAgICB9XG4gICAgI3NlY29uZGFyeSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHBpbms7XG4gICAgfVxuICAgICNwcmltYXJ5IHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcGFsZXZpb2xldHJlZDtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB0b3A6IC0xMHB4O1xuICAgICAgICBsZWZ0OiAxMHB4O1xuICAgIH1cbn1cblxuI3RyYWNpbmctdG9vbHMge1xuICAgIHdpZHRoOiAxODBweDtcbiAgICBoZWlnaHQ6IDM1cHg7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHRvcDogMzZweDtcbiAgICBsZWZ0OiAzNnB4O1xuICAgIHotaW5kZXg6IDM7XG4gICAgYm9yZGVyLXJhZGl1czogMCAycHggMnB4IDA7XG59XG5cbiNzaGFwZS10b29scyB7XG4gICAgd2lkdGg6IDEwOHB4O1xuICAgIGhlaWdodDogMzVweDtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgdG9wOiA3MnB4O1xuICAgIGxlZnQ6IDM2cHg7XG4gICAgei1pbmRleDogMztcbiAgICBib3JkZXItcmFkaXVzOiAwIDJweCAycHggMDtcbn1cblxuaW1nIHtcbiAgICB3aWR0aDogMzUlO1xuICAgIGhlaWdodDogMzUlO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDI1cHg7XG4gICAgbGVmdDogMjVweDtcbn1cblxuLmNkay1mb2N1c2VkIHtcbiAgICBvdXRsaW5lOiBub25lO1xufVxuIiwiI3NpZGViYXIge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMDtcbiAgYm90dG9tOiAwO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgd2lkdGg6IDM2MHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xuICB6LWluZGV4OiAxO1xufVxuXG4jdG9vbHMtYnV0dG9ucyB7XG4gIHdpZHRoOiAzNXB4O1xuICBoZWlnaHQ6IDEwMHZoO1xufVxuI3Rvb2xzLWJ1dHRvbnMgbWF0LWJ1dHRvbi10b2dnbGUtZ3JvdXAge1xuICB3aWR0aDogMzVweDtcbn1cblxuI2ZpbGUtYnV0dG9ucyB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgYm90dG9tOiAwO1xuICBkaXNwbGF5OiBmbGV4O1xufVxuI2ZpbGUtYnV0dG9ucyAubWF0LWJ1dHRvbi10b2dnbGUtY2hlY2tlZCB7XG4gIGJhY2tncm91bmQ6ICNmZmZmZmY7XG59XG4jZmlsZS1idXR0b25zIC5tYXQtYnV0dG9uLXRvZ2dsZS1jaGVja2VkICoge1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi5tYXQtYnV0dG9uLXRvZ2dsZSB7XG4gIHdpZHRoOiAzNXB4O1xuICBoZWlnaHQ6IDM1cHg7XG4gIGJvcmRlcjogbm9uZTtcbn1cbi5tYXQtYnV0dG9uLXRvZ2dsZSBpIHtcbiAgZm9udC1zaXplOiA3NSU7XG59XG5cbiNjb2xvciB7XG4gIG1hcmdpbi10b3A6IDNweDtcbiAgcGFkZGluZzogM3B4O1xuICB3aWR0aDogMzVweDtcbn1cbiNjb2xvciBidXR0b24ge1xuICB3aWR0aDogMjBweDtcbiAgaGVpZ2h0OiAyMHB4O1xuICBib3JkZXI6IDA7XG59XG4jY29sb3IgI3NlY29uZGFyeSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHBpbms7XG59XG4jY29sb3IgI3ByaW1hcnkge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBwYWxldmlvbGV0cmVkO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogLTEwcHg7XG4gIGxlZnQ6IDEwcHg7XG59XG5cbiN0cmFjaW5nLXRvb2xzIHtcbiAgd2lkdGg6IDE4MHB4O1xuICBoZWlnaHQ6IDM1cHg7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdG9wOiAzNnB4O1xuICBsZWZ0OiAzNnB4O1xuICB6LWluZGV4OiAzO1xuICBib3JkZXItcmFkaXVzOiAwIDJweCAycHggMDtcbn1cblxuI3NoYXBlLXRvb2xzIHtcbiAgd2lkdGg6IDEwOHB4O1xuICBoZWlnaHQ6IDM1cHg7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdG9wOiA3MnB4O1xuICBsZWZ0OiAzNnB4O1xuICB6LWluZGV4OiAzO1xuICBib3JkZXItcmFkaXVzOiAwIDJweCAycHggMDtcbn1cblxuaW1nIHtcbiAgd2lkdGg6IDM1JTtcbiAgaGVpZ2h0OiAzNSU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAyNXB4O1xuICBsZWZ0OiAyNXB4O1xufVxuXG4uY2RrLWZvY3VzZWQge1xuICBvdXRsaW5lOiBub25lO1xufSJdfQ== */\"","import { AfterViewInit, Component, OnInit } from '@angular/core';\n\nimport { UndoRedoerService } from 'src/app/services/undo-redoer/undo-redoer.service';\nimport { SidebarButtonInfo } from 'src/classes/SidebarButtonInfo';\nimport {\n    FILES_BUTTON_INFO,\n    SHAPE_BUTTON_INFO,\n    SHAPE_TOOL_POSITION,\n    TOOL_NAME,\n    TOOLS_BUTTON_INFO,\n    TRACING_BUTTON_INFO,\n    TRACING_TOOL_POSITION,\n} from 'src/constants/tool-constants';\nimport { ToolSelectorService } from '../../services/tools/tool-selector/tool-selector.service';\n\n@Component({\n    selector: 'app-sidebar-tools',\n    templateUrl: './sidebar-tools.component.html',\n    styleUrls: ['./sidebar-tools.component.scss'],\n})\nexport class SidebarToolsComponent implements OnInit, AfterViewInit {\n    readonly TOOLS_BUTTON_INFO = TOOLS_BUTTON_INFO;\n    readonly TRACING_BUTTON_INFO = TRACING_BUTTON_INFO;\n    readonly SHAPE_BUTTON_INFO = SHAPE_BUTTON_INFO;\n    readonly FILES_BUTTON_INFO = FILES_BUTTON_INFO;\n    readonly TRACING_TOOL_POSITION = TRACING_TOOL_POSITION;\n    readonly SHAPE_TOOL_POSITION = SHAPE_TOOL_POSITION;\n\n    currentToolName: TOOL_NAME;\n    currentTracingTool: TOOL_NAME;\n    showTracingTools = false;\n    currentShapeTool: TOOL_NAME;\n    showShapeTools = false;\n\n    constructor(private toolSelectorService: ToolSelectorService, private undoRedoerService: UndoRedoerService) {}\n\n    ngOnInit(): void {\n        this.toolSelectorService.currentToolName.subscribe((currentToolName) => {\n            this.currentToolName = currentToolName;\n            this.verifyToolChange();\n        });\n        this.currentTracingTool = TOOL_NAME.Pencil;\n        this.currentShapeTool = TOOL_NAME.Rectangle;\n    }\n\n    ngAfterViewInit(): void {\n        this.toolSelectorService.changeTool(TOOL_NAME.Selection);\n    }\n\n    verifyToolChange(): void {\n        this.showTracingTools = false;\n        this.showShapeTools = false;\n\n        if (\n            this.TRACING_BUTTON_INFO.filter((el) => {\n                return el.tooltipName === this.currentToolName;\n            }).length\n        ) {\n            this.currentTracingTool = this.currentToolName;\n        }\n        if (\n            this.SHAPE_BUTTON_INFO.filter((el) => {\n                return el.tooltipName === this.currentToolName;\n            }).length\n        ) {\n            this.currentShapeTool = this.currentToolName;\n        }\n    }\n\n    onChangeTool(i: number): void {\n        this.showTracingTools = false;\n        let tooltipName: TOOL_NAME;\n        if (i === TRACING_TOOL_POSITION) {\n            tooltipName = this.currentTracingTool;\n        } else if (i === SHAPE_TOOL_POSITION) {\n            tooltipName = this.currentShapeTool;\n        } else {\n            tooltipName = this.TOOLS_BUTTON_INFO[i].tooltipName as TOOL_NAME;\n        }\n        this.toolSelectorService.changeTool(tooltipName);\n    }\n    onChangeFileTool(tooltipName: TOOL_NAME): void {\n        this.showTracingTools = false;\n        this.showShapeTools = false;\n        this.toolSelectorService.changeTool(tooltipName);\n    }\n    onChangeTracingTool(tooltipName: TOOL_NAME): void {\n        this.showTracingTools = false;\n        this.currentTracingTool = tooltipName;\n        this.currentToolName = TOOL_NAME.TracingTool;\n        this.toolSelectorService.changeTool(tooltipName);\n    }\n    onChangeShapeTool(tooltipName: TOOL_NAME): void {\n        this.showShapeTools = false;\n        this.currentShapeTool = tooltipName;\n        this.currentToolName = TOOL_NAME.ShapeTool;\n        this.toolSelectorService.changeTool(tooltipName);\n    }\n\n    onRightClick(i: number): void {\n        if (i === TRACING_TOOL_POSITION) {\n            this.showTracingTools = true;\n            this.showShapeTools = false;\n        } else if (i === SHAPE_TOOL_POSITION) {\n            this.showShapeTools = true;\n            this.showTracingTools = false;\n        }\n    }\n\n    onClickAttributePanel(): void {\n        this.showShapeTools = false;\n        this.showTracingTools = false;\n    }\n\n    getChecked(i: number): boolean {\n        const tooltipName: TOOL_NAME = this.TOOLS_BUTTON_INFO[i].tooltipName as TOOL_NAME;\n        if (i === TRACING_TOOL_POSITION) {\n            return this.currentToolName === this.currentTracingTool;\n        } else if (i === SHAPE_TOOL_POSITION) {\n            return this.currentToolName === this.currentShapeTool;\n        } else {\n            return this.currentToolName === tooltipName;\n        }\n    }\n\n    getTracingToolClass(): string {\n        let iconClass = TRACING_BUTTON_INFO[0].iconName;\n        TRACING_BUTTON_INFO.forEach((el: SidebarButtonInfo) => {\n            if (el.tooltipName === this.currentTracingTool) {\n                iconClass = el.iconName;\n            }\n        });\n        return iconClass;\n    }\n\n    getShapeToolClass(): string {\n        let iconClass = SHAPE_BUTTON_INFO[0].iconName;\n        SHAPE_BUTTON_INFO.forEach((el: SidebarButtonInfo) => {\n            if (el.tooltipName === this.currentShapeTool) {\n                iconClass = el.iconName;\n            }\n        });\n        return iconClass;\n    }\n\n    checkIfCantUndoRedo(toolName: TOOL_NAME): boolean {\n        if (toolName === TOOL_NAME.Undo) {\n            return this.undoRedoerService.undos.length <= 1;\n        } else if (toolName === TOOL_NAME.Redo) {\n            return this.undoRedoerService.redos.length === 0;\n        }\n        return false;\n    }\n}\n","module.exports = \"#workZone {\\n  width: 0;\\n  height: 0;\\n  padding: 0;\\n  margin: 0;\\n}\\n\\n.grid {\\n  pointer-events: none;\\n}\\n\\nsvg {\\n  position: absolute;\\n  top: 0px;\\n  left: 360px;\\n}\\n\\n.stop-scrolling {\\n  position: fixed;\\n  height: 100%;\\n  overflow: hidden;\\n}\\n\\n#save {\\n  position: absolute;\\n  top: 0px;\\n  left: 360px;\\n}\\n\\n#load {\\n  position: absolute;\\n  top: 0px;\\n  left: 400px;\\n}\\n\\n#input {\\n  position: absolute;\\n  top: 0px;\\n  left: 460px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZWhjaXgvRGV2L0dpdGh1Yi9QOS9jbGllbnQvc3JjL2FwcC9jb21wb25lbnRzL3dvcmstem9uZS93b3JrLXpvbmUuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvd29yay16b25lL3dvcmstem9uZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFFBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtFQUNBLFNBQUE7QUNDSjs7QURFQTtFQUNJLG9CQUFBO0FDQ0o7O0FERUE7RUFDSSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxXQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0FDQ0o7O0FERUE7RUFDSSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxXQUFBO0FDQ0o7O0FEQ0E7RUFDSSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxXQUFBO0FDRUo7O0FEQUE7RUFDSSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxXQUFBO0FDR0oiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3dvcmstem9uZS93b3JrLXpvbmUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjd29ya1pvbmUge1xuICAgIHdpZHRoOiAwO1xuICAgIGhlaWdodDogMDtcbiAgICBwYWRkaW5nOiAwO1xuICAgIG1hcmdpbjogMDtcbn1cblxuLmdyaWQge1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xufVxuXG5zdmcge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDBweDtcbiAgICBsZWZ0OiAzNjBweDtcbn1cblxuLnN0b3Atc2Nyb2xsaW5nIHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbiNzYXZlIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwcHg7XG4gICAgbGVmdDogMzYwcHg7XG59XG4jbG9hZCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMHB4O1xuICAgIGxlZnQ6IDQwMHB4O1xufVxuI2lucHV0IHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwcHg7XG4gICAgbGVmdDogNDYwcHg7XG59XG4iLCIjd29ya1pvbmUge1xuICB3aWR0aDogMDtcbiAgaGVpZ2h0OiAwO1xuICBwYWRkaW5nOiAwO1xuICBtYXJnaW46IDA7XG59XG5cbi5ncmlkIHtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG59XG5cbnN2ZyB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwcHg7XG4gIGxlZnQ6IDM2MHB4O1xufVxuXG4uc3RvcC1zY3JvbGxpbmcge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIGhlaWdodDogMTAwJTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuI3NhdmUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMHB4O1xuICBsZWZ0OiAzNjBweDtcbn1cblxuI2xvYWQge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMHB4O1xuICBsZWZ0OiA0MDBweDtcbn1cblxuI2lucHV0IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDBweDtcbiAgbGVmdDogNDYwcHg7XG59Il19 */\"","import { Component, ElementRef, OnInit, Renderer2, ViewChild } from '@angular/core';\n\nimport { MatSnackBar } from '@angular/material';\nimport { Drawing } from 'src/../../common/communication/Drawing';\nimport { ClipboardService } from 'src/app/services/clipboard/clipboard.service';\nimport { EventListenerService } from 'src/app/services/event-listener/event-listener.service';\nimport { ModalManagerService } from 'src/app/services/modal-manager/modal-manager.service';\nimport { DrawingLoaderService } from 'src/app/services/server/drawing-loader/drawing-loader.service';\nimport { DrawingSaverService } from 'src/app/services/server/drawing-saver/drawing-saver.service';\nimport { ShortcutManagerService } from 'src/app/services/shortcut-manager/shortcut-manager.service';\nimport { ColorToolService } from 'src/app/services/tools/color-tool/color-tool.service';\nimport { GridToolService } from 'src/app/services/tools/grid-tool/grid-tool.service';\nimport { MagnetismToolService } from 'src/app/services/tools/magnetism-tool/magnetism-tool.service';\nimport { ToolSelectorService } from 'src/app/services/tools/tool-selector/tool-selector.service';\nimport { UndoRedoerService } from 'src/app/services/undo-redoer/undo-redoer.service';\nimport { DEFAULT_TRANSPARENT, DEFAULT_WHITE } from 'src/constants/color-constants';\nimport { SIDEBAR_WIDTH } from 'src/constants/constants';\nimport { GRID_OPACITY, GRID_SIZE, SNACKBAR_DURATION, TOOL_NAME } from 'src/constants/tool-constants';\nimport { DrawingInfo } from '../../../../../common/communication/DrawingInfo';\nimport { DrawStackService } from '../../services/draw-stack/draw-stack.service';\nimport { DrawingModalWindowService } from '../../services/drawing-modal-window/drawing-modal-window.service';\n\n@Component({\n    selector: 'app-work-zone',\n    templateUrl: './work-zone.component.html',\n    styleUrls: ['./work-zone.component.scss'],\n})\nexport class WorkZoneComponent implements OnInit {\n    drawingInfo: DrawingInfo = { width: 0, height: 0, color: DEFAULT_WHITE } as DrawingInfo;\n    gridIsActive = false;\n    modalIsDisplayed: boolean;\n\n    gridSize = GRID_SIZE.Default;\n    gridOpacity = GRID_OPACITY.Max;\n    toolName: TOOL_NAME = TOOL_NAME.Selection;\n\n    drawStack: DrawStackService;\n\n    @ViewChild('svgpad', { static: true }) refSVG: ElementRef<SVGElement>;\n\n    private eventListenerService: EventListenerService;\n\n    constructor(\n        private drawingModalWindowService: DrawingModalWindowService,\n        private renderer: Renderer2,\n        private toolSelector: ToolSelectorService,\n        private colorToolService: ColorToolService,\n        private gridToolService: GridToolService,\n        private shortCutManagerService: ShortcutManagerService,\n        private modalManagerService: ModalManagerService,\n        private drawingLoaderService: DrawingLoaderService,\n        private drawingSaverService: DrawingSaverService,\n        private undoRedoerService: UndoRedoerService,\n        private clipboard: ClipboardService,\n        private snackBar: MatSnackBar,\n        private magnetismToolService: MagnetismToolService,\n    ) {}\n\n    ngOnInit(): void {\n        this.undoRedoerService.initializeService(this.refSVG);\n        this.drawStack = new DrawStackService(this.renderer, this.drawingLoaderService, this.undoRedoerService);\n\n        this.toolSelector.initTools(this.drawStack, this.refSVG, this.renderer);\n        this.initializeEventListeners();\n\n        this.toolSelector.currentToolName.subscribe((toolName) => {\n            this.toolName = toolName;\n        });\n\n        this.drawingLoaderService.currentDrawing.subscribe((selectedDrawing: Drawing) => {\n            if (selectedDrawing.svg !== '') {\n                this.drawingLoaderService.emptyDrawStack.next(false);\n                this.updateDrawingInfo(selectedDrawing.drawingInfo);\n                this.appendDrawingToView(selectedDrawing);\n                this.drawingLoaderService.untouchedWorkZone.next(false);\n            }\n\n            if (this.undoRedoerService.fromLoader) {\n                this.undoRedoerService.saveCurrentState(this.drawStack.idStack);\n                this.undoRedoerService.fromLoader = false;\n            }\n        });\n\n        this.drawingModalWindowService.drawingInfo.subscribe((drawingInfo: DrawingInfo) => {\n            if (drawingInfo.width !== 0 && drawingInfo.height !== 0) {\n                this.resetWorkzone(drawingInfo);\n                this.drawingLoaderService.untouchedWorkZone.next(false);\n            }\n\n            if (this.undoRedoerService.undos.length === 0 && !this.undoRedoerService.fromLoader) {\n                setTimeout(() => {\n                    this.undoRedoerService.saveCurrentState([]);\n                }, 0);\n            }\n        });\n\n        this.drawingSaverService.initializeDrawingSaverService(this.refSVG, this.drawStack);\n\n        this.colorToolService.backgroundColor.subscribe((backgroundColor: string) => {\n            this.drawingInfo.color = backgroundColor;\n            this.setRectangleBackgroundStyle();\n        });\n\n        this.gridToolService.currentState.subscribe((state: boolean) => {\n            this.gridIsActive = state;\n        });\n\n        this.gridToolService.currentSize.subscribe((size: number) => {\n            this.gridSize = size;\n        });\n        this.gridToolService.currentOpacity.subscribe((opacity: number) => {\n            this.gridOpacity = opacity;\n        });\n\n        this.modalManagerService.currentModalIsDisplayed.subscribe((modalIsDisplayed: boolean) => {\n            this.modalIsDisplayed = modalIsDisplayed;\n        });\n        this.setDefaultWorkZoneProperties();\n    }\n\n    setDefaultWorkZoneProperties() {\n        this.drawingInfo.height = window.innerHeight;\n        this.drawingInfo.width = window.innerWidth - SIDEBAR_WIDTH;\n        this.drawingInfo.color = DEFAULT_TRANSPARENT;\n        this.drawingLoaderService.emptyDrawStack.next(true);\n        this.setRectangleBackgroundStyle();\n    }\n\n    updateDrawingInfo(newDrawingInfo: DrawingInfo) {\n        this.drawingInfo = newDrawingInfo;\n        this.drawingModalWindowService.changeDrawingInfo(\n            this.drawingInfo.width,\n            this.drawingInfo.height,\n            this.drawingInfo.color,\n        );\n    }\n\n    appendDrawingToView(selectedDrawing: Drawing) {\n        this.renderer.setProperty(this.refSVG.nativeElement, 'innerHTML', selectedDrawing.svg);\n\n        const idStack = Object.values(selectedDrawing.drawingInfo.idStack);\n        idStack.forEach((id) => {\n            const children: SVGElement[] = Array.from(this.refSVG.nativeElement.children) as SVGElement[];\n            const child: SVGElement = children.filter((filterChild) => {\n                return filterChild.getAttribute('id_element') === id;\n            })[0];\n            this.drawStack.push(child as SVGAElement, false);\n        });\n    }\n\n    initializeEventListeners() {\n        this.eventListenerService = new EventListenerService(\n            this.refSVG,\n            this.toolSelector,\n            this.gridToolService,\n            this.shortCutManagerService,\n            this.modalManagerService,\n            this.renderer,\n            this.drawingLoaderService,\n            this.undoRedoerService,\n            this.clipboard,\n            this.magnetismToolService,\n        );\n        this.eventListenerService.addEventListeners();\n    }\n\n    resetWorkzone(drawingInfo: DrawingInfo) {\n        this.drawingInfo = drawingInfo;\n\n        this.setRectangleBackgroundStyle();\n\n        for (const el of this.drawStack.reset()) {\n            this.renderer.removeChild(this.refSVG.nativeElement, el);\n        }\n        this.drawingLoaderService.emptyDrawStack.next(true);\n    }\n\n    onClickRectangle() {\n        if (this.drawingLoaderService.untouchedWorkZone.value) {\n            this.snackBar.open('Veuillez créer un nouveau dessin!', 'OK', {\n                duration: SNACKBAR_DURATION,\n            });\n        }\n    }\n\n    getCursorStyle() {\n        if (this.drawingLoaderService.untouchedWorkZone.value) {\n            return { cursor: 'not-allowed' };\n        }\n        switch (this.toolName) {\n            case TOOL_NAME.Eraser:\n            case TOOL_NAME.Quill:\n                return { cursor: 'none' };\n            case TOOL_NAME.Brush:\n            case TOOL_NAME.Pencil:\n            case TOOL_NAME.Rectangle:\n            case TOOL_NAME.Ellipsis:\n            case TOOL_NAME.Pen:\n            case TOOL_NAME.Polygon:\n            case TOOL_NAME.ColorApplicator:\n            case TOOL_NAME.Line:\n            case TOOL_NAME.SprayCan:\n            case TOOL_NAME.Fill:\n                return { cursor: 'crosshair' };\n            default:\n                return { cursor: 'default' };\n        }\n    }\n\n    backgroundColor(): string {\n        if (this.drawingLoaderService.untouchedWorkZone.value) {\n            this.drawingInfo.color = DEFAULT_TRANSPARENT;\n        }\n        return this.drawingInfo.color;\n    }\n\n    setRectangleBackgroundStyle() {\n        if (this.drawingInfo.width > 0 || this.drawingInfo.height > 0) {\n            this.renderer.setAttribute(this.refSVG.nativeElement.children[0], 'height', this.drawingInfo.height + 'px');\n            this.renderer.setAttribute(this.refSVG.nativeElement.children[0], 'width', this.drawingInfo.width + 'px');\n\n            this.renderer.setAttribute(\n                this.refSVG.nativeElement.children[0],\n                'style',\n                'fill: #' + this.backgroundColor() + ';',\n            );\n        }\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { SIDEBAR_WIDTH } from 'src/constants/constants';\nimport { OFFSET_STEP } from 'src/constants/tool-constants';\nimport { Selection } from '../../../classes/selection/selection';\nimport { DrawStackService } from '../draw-stack/draw-stack.service';\nimport { ManipulatorService } from '../manipulator/manipulator.service';\nimport { UndoRedoerService } from '../undo-redoer/undo-redoer.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class ClipboardService {\n    renderer: Renderer2;\n    elementRef: ElementRef<SVGElement>;\n    drawStack: DrawStackService;\n    selection: Selection;\n\n    clippings: Set<SVGGElement> = new Set<SVGGElement>();\n    duplicationBuffer: Set<SVGGElement> = new Set<SVGGElement>();\n\n    pasteOffsetValue = 0;\n    duplicateOffsetValue = 0;\n\n    firstDuplication = true;\n    isClippingsEmpty: BehaviorSubject<boolean> = new BehaviorSubject(true);\n\n    clippingsBound: DOMRect;\n\n    constructor(public manipulator: ManipulatorService, private undoRedoerService: UndoRedoerService) {\n        this.undoRedoerService.currentDuplicateOffset.subscribe((value) => {\n            this.duplicateOffsetValue = value;\n        });\n\n        this.undoRedoerService.currentPasteOffset.subscribe((value) => {\n            this.pasteOffsetValue = value;\n        });\n\n        this.undoRedoerService.currentClipping.subscribe((value) => {\n            if (!this.compareClipings(value, this.clippings)) {\n                this.pasteOffsetValue = 0;\n                this.duplicateOffsetValue = 0;\n            }\n        });\n    }\n\n    compareClipings(clip1: Set<SVGElement>, clip2: Set<SVGElement>): boolean {\n        if (clip1.size !== clip2.size) {\n            return false;\n        }\n        for (const elem of clip1) {\n            if (!clip2.has(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    initializeService(\n        elementRef: ElementRef<SVGElement>,\n        renderer: Renderer2,\n        drawStack: DrawStackService,\n        selection: Selection,\n    ): void {\n        this.renderer = renderer;\n        this.elementRef = elementRef;\n        this.drawStack = drawStack;\n        this.selection = selection;\n    }\n\n    restartDuplication(): void {\n        this.duplicationBuffer.clear();\n        for (const el of this.selection.selectedElements) {\n            this.duplicationBuffer.add(el);\n        }\n        this.firstDuplication = true;\n    }\n\n    clone(elementsToClone: Set<SVGGElement>, offset: number): void {\n        const newSelection: Set<SVGGElement> = new Set<SVGGElement>();\n        for (const el of elementsToClone) {\n            const deepCopy: SVGGElement = el.cloneNode(true) as SVGGElement;\n            this.drawStack.push(deepCopy, false);\n            this.manipulator.translateElement(offset, offset, deepCopy);\n            this.renderer.appendChild(this.elementRef.nativeElement, deepCopy);\n            newSelection.add(deepCopy);\n        }\n        this.updateSelection(newSelection);\n        this.manipulator.updateOrigins(this.selection);\n    }\n\n    updateSelection(newSelection: Set<SVGGElement>): void {\n        this.selection.emptySelection();\n        for (const el of newSelection) {\n            this.selection.addToSelection(el);\n        }\n    }\n\n    fetchSelectionBounds(): void {\n        this.clippingsBound = this.selection.selectionBox.getBoundingClientRect() as DOMRect;\n    }\n\n    handleDuplicateOutOfBounds(): void {\n        this.fetchSelectionBounds();\n        if (!this.isInBounds()) {\n            this.duplicateOffsetValue = 0;\n        }\n    }\n\n    handlePasteOutOfBounds(): void {\n        this.fetchSelectionBounds();\n        if (!this.isInBounds()) {\n            this.pasteOffsetValue = 0;\n        }\n    }\n\n    increasePasteOffsetValue(): void {\n        this.pasteOffsetValue += OFFSET_STEP;\n    }\n\n    increaseDuplicateOffsetValue(): void {\n        this.duplicateOffsetValue += OFFSET_STEP;\n    }\n\n    isInBounds(): boolean {\n        const boxLeft = this.clippingsBound.x + window.scrollX - SIDEBAR_WIDTH;\n        const boxTop = this.clippingsBound.y + window.scrollY;\n        const parentBoxRight =\n            (this.elementRef.nativeElement.getBoundingClientRect() as DOMRect).x +\n            window.scrollX -\n            SIDEBAR_WIDTH +\n            (this.elementRef.nativeElement.getBoundingClientRect() as DOMRect).width;\n        const parentBoxBottom =\n            (this.elementRef.nativeElement.getBoundingClientRect() as DOMRect).y +\n            window.scrollY +\n            (this.elementRef.nativeElement.getBoundingClientRect() as DOMRect).height;\n\n        return boxLeft < parentBoxRight && boxTop < parentBoxBottom;\n    }\n\n    notifyClippingsState(): void {\n        if (this.clippings.size > 0) {\n            this.isClippingsEmpty.next(false);\n        } else {\n            this.isClippingsEmpty.next(true);\n        }\n    }\n\n    cut(): void {\n        this.firstDuplication = true;\n        this.clippings.clear();\n        this.duplicationBuffer.clear();\n        this.fetchSelectionBounds();\n        this.pasteOffsetValue = 0;\n        for (const el of this.selection.selectedElements) {\n            this.clippings.add(el);\n            this.drawStack.delete(el);\n            this.renderer.removeChild(this.elementRef.nativeElement, el);\n        }\n        this.selection.emptySelection();\n        this.notifyClippingsState();\n\n        this.undoRedoerService.saveCurrentState(this.drawStack.idStack);\n    }\n\n    copy(): void {\n        this.firstDuplication = true;\n        this.clippings.clear();\n        this.duplicationBuffer.clear();\n        this.fetchSelectionBounds();\n        this.pasteOffsetValue = 0;\n        for (const el of this.selection.selectedElements) {\n            this.clippings.add(el);\n        }\n        this.notifyClippingsState();\n    }\n\n    duplicate(): void {\n        if (this.selection.selectedElements.size === 0) {\n            return;\n        }\n\n        if (this.firstDuplication && this.selection.selectedElements.size > 0) {\n            this.duplicationBuffer.clear();\n            for (const el of this.selection.selectedElements) {\n                this.duplicationBuffer.add(el);\n            }\n            this.duplicateOffsetValue = 0;\n            this.firstDuplication = false;\n        }\n        this.handleDuplicateOutOfBounds();\n        this.increaseDuplicateOffsetValue();\n        this.clone(this.duplicationBuffer, this.duplicateOffsetValue);\n\n        this.saveStateFromDuplicate();\n    }\n\n    saveStateFromDuplicate() {\n        this.undoRedoerService.saveStateAndDuplicateOffset(this.drawStack.idStack, this.duplicateOffsetValue);\n    }\n\n    paste(): void {\n        if (this.clippings.size === 0) {\n            return;\n        }\n        this.firstDuplication = true;\n        this.handlePasteOutOfBounds();\n        this.increasePasteOffsetValue();\n        this.clone(this.clippings, this.pasteOffsetValue);\n\n        this.saveStateFromPaste();\n    }\n\n    saveStateFromPaste() {\n        this.undoRedoerService.saveStateFromPaste(this.drawStack.idStack, this.pasteOffsetValue, this.clippings);\n    }\n\n    delete(): void {\n        if (this.selection.selectedElements.size === 0) {\n            return;\n        }\n        this.firstDuplication = true;\n        this.duplicationBuffer.clear();\n        for (const el of this.selection.selectedElements) {\n            this.drawStack.delete(el);\n            this.renderer.removeChild(this.elementRef.nativeElement, el);\n        }\n        this.selection.emptySelection();\n        this.undoRedoerService.saveCurrentState(this.drawStack.idStack);\n    }\n}\n","import { Injectable, Renderer2 } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\nimport { StackTargetInfo } from 'src/classes/StackTargetInfo';\nimport { DrawingLoaderService } from '../server/drawing-loader/drawing-loader.service';\nimport { UndoRedoerService } from '../undo-redoer/undo-redoer.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class DrawStackService {\n    private stackTarget: BehaviorSubject<StackTargetInfo> = new BehaviorSubject(new StackTargetInfo());\n\n    drawStack: SVGGElement[] = new Array<SVGGElement>();\n    idStack: string[] = new Array<string>();\n    currentStackTarget: Observable<StackTargetInfo> = this.stackTarget.asObservable();\n    renderer: Renderer2;\n\n    constructor(\n        renderer: Renderer2,\n        private drawingLoaderService: DrawingLoaderService,\n        private undoRedoerService: UndoRedoerService,\n    ) {\n        this.renderer = renderer;\n    }\n\n    changeTargetElement(stackTarget: StackTargetInfo): void {\n        this.stackTarget.next(stackTarget);\n    }\n\n    getElementByPosition(elementPosition: number): SVGGElement {\n        return this.drawStack[elementPosition];\n    }\n\n    setElementByPosition(elementPosition: number, element: SVGGElement): void {\n        this.drawStack[elementPosition] = element;\n    }\n\n    delete(elementToDelete: SVGGElement): void {\n        const indexOfDeletion = this.drawStack.indexOf(elementToDelete);\n\n        this.drawStack.splice(indexOfDeletion, 1);\n        this.idStack.splice(indexOfDeletion, 1);\n\n        this.resolveDrawStackOrdering(indexOfDeletion);\n\n        if (this.drawStack.length === 0) {\n            this.drawingLoaderService.emptyDrawStack.next(true);\n        }\n    }\n\n    resolveDrawStackOrdering(displacementIndex: number): void {\n        for (let i = displacementIndex; i < this.drawStack.length; i++) {\n            this.renderer.setAttribute(this.drawStack[i], 'id_element', i.toString());\n        }\n\n        for (let i = displacementIndex; i < this.idStack.length; i++) {\n            this.idStack[i] = i.toString();\n        }\n    }\n\n    getDrawStackLength(): number {\n        return this.drawStack.length;\n    }\n\n    makeTargetable(el: SVGGElement): SVGGElement {\n        const position = this.drawStack.length;\n        const tool = el.getAttribute('title');\n        this.renderer.setAttribute(el, 'id_element', position.toString());\n        this.idStack.push(el.getAttribute('id_element') as string);\n\n        for (let i = 0; i < el.children.length; i++) {\n            this.renderer.listen(el.children.item(i), 'mousedown', () => {\n                this.changeTargetElement(\n                    new StackTargetInfo(parseInt(el.getAttribute('id_element') as string, 10), tool as string),\n                );\n            });\n\n            this.renderer.listen(el.children.item(i), 'mouseup', () => {\n                this.changeTargetElement(\n                    new StackTargetInfo(parseInt(el.getAttribute('id_element') as string, 10), tool as string),\n                );\n            });\n        }\n\n        return el;\n    }\n\n    push(el: SVGGElement, byTool: boolean = true): void {\n        this.drawStack.push(this.makeTargetable(el));\n        if (this.idStack.length > 0) {\n            this.drawingLoaderService.emptyDrawStack.next(false);\n        }\n\n        if (byTool) {\n            this.undoRedoerService.saveCurrentState(this.idStack);\n        }\n    }\n\n    pop(): SVGGElement | undefined {\n        const result = this.drawStack.pop();\n        if (this.idStack.length === 0) {\n            this.drawingLoaderService.emptyDrawStack.next(true);\n        }\n        return result;\n    }\n\n    reset(): SVGGElement[] {\n        this.drawingLoaderService.emptyDrawStack.next(true);\n        this.idStack.splice(0, this.idStack.length);\n        return this.drawStack.splice(0, this.drawStack.length);\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { DEFAULT_WHITE } from 'src/constants/color-constants';\nimport { DrawingInfo } from '../../../../../common/communication/DrawingInfo';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class DrawingModalWindowService {\n    drawingInfo: BehaviorSubject<DrawingInfo> = new BehaviorSubject<DrawingInfo>({\n        width: 0,\n        height: 0,\n        color: DEFAULT_WHITE,\n    } as DrawingInfo);\n\n    changeDrawingInfo(width: number, height: number, color: string) {\n        this.drawingInfo.value.width = width;\n        this.drawingInfo.value.height = height;\n        this.drawingInfo.value.color = color;\n        this.drawingInfo.next(this.drawingInfo.value);\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\nimport { KEYS } from 'src/constants/constants';\nimport { CONTROL_SHORTCUTS, TOOL_NAME, TOOL_NAME_SHORTCUTS } from 'src/constants/tool-constants';\nimport { ClipboardService } from '../clipboard/clipboard.service';\nimport { ModalManagerService } from '../modal-manager/modal-manager.service';\nimport { DrawingLoaderService } from '../server/drawing-loader/drawing-loader.service';\nimport { ShortcutManagerService } from '../shortcut-manager/shortcut-manager.service';\nimport { AbstractToolService } from '../tools/abstract-tools/abstract-tool.service';\nimport { GridToolService } from '../tools/grid-tool/grid-tool.service';\nimport { LineToolService } from '../tools/line-tool/line-tool.service';\nimport { MagnetismToolService } from '../tools/magnetism-tool/magnetism-tool.service';\nimport { QuillToolService } from '../tools/quill-tool/quill-tool.service';\nimport { SelectionToolService } from '../tools/selection-tool/selection-tool.service';\nimport { StampToolService } from '../tools/stamp-tool/stamp-tool.service';\nimport { ToolSelectorService } from '../tools/tool-selector/tool-selector.service';\nimport { UndoRedoerService } from '../undo-redoer/undo-redoer.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class EventListenerService {\n    currentTool: AbstractToolService | undefined;\n    toolName = '';\n    isOnInput = false;\n    isModalOpen = false;\n\n    constructor(\n        private workZoneSVGRef: ElementRef<SVGElement>,\n        private toolSelectorService: ToolSelectorService,\n        private gridToolService: GridToolService,\n        private shortCutManagerService: ShortcutManagerService,\n        private modalManagerService: ModalManagerService,\n        private renderer: Renderer2,\n        private drawingLoaderService: DrawingLoaderService,\n        private undoRedoerService: UndoRedoerService,\n        private clipboardService: ClipboardService,\n        private magnetismToolService: MagnetismToolService,\n    ) {\n        this.toolSelectorService.currentToolName.subscribe((toolName) => {\n            this.toolName = toolName;\n            this.currentTool = this.toolSelectorService.currentTool;\n        });\n\n        this.shortCutManagerService.currentIsOnInput.subscribe((isOnInput: boolean) => {\n            this.isOnInput = isOnInput;\n        });\n\n        this.modalManagerService.currentModalIsDisplayed.subscribe((isModalOpen: boolean) => {\n            this.isModalOpen = isModalOpen;\n        });\n    }\n\n    addEventListeners(): void {\n        this.renderer.listen(this.workZoneSVGRef.nativeElement, 'mousemove', (event: MouseEvent) => {\n            if (this.currentTool !== undefined && this.shouldAllowEvent()) {\n                this.currentTool.onMouseMove(event);\n            }\n        });\n\n        this.renderer.listen(this.workZoneSVGRef.nativeElement, 'mousedown', (event: MouseEvent) => {\n            if (this.currentTool !== undefined && this.shouldAllowEvent()) {\n                this.currentTool.onMouseDown(event);\n            }\n        });\n\n        this.renderer.listen(window, 'mouseup', (event: MouseEvent) => {\n            if (this.currentTool !== undefined && this.shouldAllowEvent()) {\n                this.currentTool.onMouseUp(event);\n            }\n        });\n\n        this.renderer.listen(this.workZoneSVGRef.nativeElement, 'mouseenter', (event: MouseEvent) => {\n            if (this.currentTool !== undefined && this.shouldAllowEvent()) {\n                this.currentTool.onMouseEnter(event);\n            }\n        });\n\n        this.renderer.listen(this.workZoneSVGRef.nativeElement, 'mouseleave', (event: MouseEvent) => {\n            if (this.currentTool !== undefined && this.shouldAllowEvent()) {\n                this.currentTool.onMouseLeave(event);\n            }\n        });\n\n        this.renderer.listen(this.workZoneSVGRef.nativeElement, 'wheel', (event: WheelEvent) => {\n            if (\n                (this.currentTool instanceof StampToolService ||\n                    this.currentTool instanceof SelectionToolService ||\n                    this.currentTool instanceof QuillToolService) &&\n                this.shouldAllowEvent()\n            ) {\n                this.currentTool.onWheel(event);\n            }\n        });\n\n        this.renderer.listen(this.workZoneSVGRef.nativeElement, 'dblclick', (event: WheelEvent) => {\n            if (this.currentTool instanceof LineToolService && this.shouldAllowEvent()) {\n                this.currentTool.onDblClick(event);\n            }\n        });\n\n        this.renderer.listen(window, 'keydown', (event: KeyboardEvent) => {\n            if (this.currentTool !== undefined && event.ctrlKey) {\n                event.preventDefault();\n\n                if (CONTROL_SHORTCUTS.has(event.key)) {\n                    this.toolSelectorService.changeTool(CONTROL_SHORTCUTS.get(event.key) as TOOL_NAME);\n                }\n\n                if (event.key === KEYS.z) {\n                    this.currentTool.cleanUp();\n                    this.undoRedoerService.undo();\n                } else if (event.key === KEYS.Z) {\n                    this.currentTool.cleanUp();\n                    this.undoRedoerService.redo();\n                } else if (event.key === KEYS.x) {\n                    this.clipboardService.cut();\n                } else if (event.key === KEYS.v) {\n                    this.toolSelectorService.changeTool(TOOL_NAME.Selection);\n                    this.clipboardService.paste();\n                } else if (event.key === KEYS.c) {\n                    this.clipboardService.copy();\n                } else if (event.key === KEYS.d) {\n                    this.clipboardService.duplicate();\n                } else if (event.key === KEYS.a) {\n                    this.toolSelectorService.changeTool(TOOL_NAME.Selection);\n                    this.toolSelectorService.getSelectiontool().selectAll();\n                }\n            }\n\n            if (this.currentTool !== undefined && this.shouldAllowEvent()) {\n                this.currentTool.onKeyDown(event);\n            }\n\n            if (this.shouldAllowShortcuts() && TOOL_NAME_SHORTCUTS.has(event.key) && !event.ctrlKey) {\n                // tslint:disable-next-line: no-non-null-assertion\n                this.toolSelectorService.changeTool(TOOL_NAME_SHORTCUTS.get(event.key) as TOOL_NAME);\n            }\n\n            if (event.key === KEYS.g && this.shouldAllowShortcuts()) {\n                this.gridToolService.switchState();\n            }\n\n            if (event.key === KEYS.plus && this.shouldAllowShortcuts()) {\n                this.gridToolService.incrementSize();\n            }\n\n            if (event.key === KEYS.minus && this.shouldAllowShortcuts()) {\n                this.gridToolService.decrementSize();\n            }\n\n            if (event.key === KEYS.m && this.shouldAllowShortcuts()) {\n                this.magnetismToolService.switchState();\n            }\n\n            if (event.key === KEYS.delete) {\n                this.clipboardService.delete();\n            }\n        });\n\n        this.renderer.listen(window, 'keyup', (event: KeyboardEvent) => {\n            if (this.currentTool !== undefined) {\n                this.currentTool.onKeyUp(event);\n            }\n        });\n    }\n\n    shouldAllowShortcuts(): boolean {\n        return !this.isOnInput && !this.isModalOpen;\n    }\n\n    shouldAllowEvent(): boolean {\n        return !this.drawingLoaderService.emptyDrawStack.value || !this.drawingLoaderService.untouchedWorkZone.value;\n    }\n}\n","import { Injectable, Renderer2 } from '@angular/core';\nimport { Coords2D } from 'src/classes/Coords2D';\nimport { SIDEBAR_WIDTH, SVG_NS } from 'src/constants/constants';\nimport { CONTROL_POINTS, ROTATION_ANGLE } from 'src/constants/tool-constants';\nimport { Selection } from '../../../classes/selection/selection';\n\nconst RIGHT = true;\nconst LEFT = false;\nconst TOP = false;\nconst BOTTOM = true;\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class ManipulatorService {\n    renderer: Renderer2;\n    isRotateOnSelf = false;\n    boxOrigin: Coords2D = new Coords2D(0, 0);\n    selectedElementsOrigin: Map<SVGGElement, Coords2D> = new Map();\n    rotationStep = ROTATION_ANGLE.Base;\n\n    isAltDown: boolean;\n    isShiftDown: boolean;\n\n    initializeService(renderer: Renderer2): void {\n        this.renderer = renderer;\n    }\n\n    scaleSelection(currentMouseCoords: Coords2D, fromControlPoint: SVGCircleElement, selection: Selection): void {\n        switch (Number(fromControlPoint.getAttribute('controlPointId') as string)) {\n            case CONTROL_POINTS.TopLeft:\n                this.applyScaleCorner(currentMouseCoords, selection, LEFT, TOP);\n                break;\n            case CONTROL_POINTS.TopMiddle:\n                this.applyScaleY(currentMouseCoords, selection, TOP);\n                break;\n            case CONTROL_POINTS.TopRight:\n                this.applyScaleCorner(currentMouseCoords, selection, RIGHT, TOP);\n                break;\n            case CONTROL_POINTS.CenterRight:\n                this.applyScaleX(currentMouseCoords, selection, RIGHT);\n                break;\n            case CONTROL_POINTS.BottomRight:\n                this.applyScaleCorner(currentMouseCoords, selection, RIGHT, BOTTOM);\n                break;\n            case CONTROL_POINTS.BottomMiddle:\n                this.applyScaleY(currentMouseCoords, selection, BOTTOM);\n                break;\n            case CONTROL_POINTS.BottomLeft:\n                this.applyScaleCorner(currentMouseCoords, selection, LEFT, BOTTOM);\n                break;\n            case CONTROL_POINTS.CenterLeft:\n                this.applyScaleX(currentMouseCoords, selection, LEFT);\n                break;\n            default:\n                break;\n        }\n    }\n\n    initTransformMatrix(selection: Selection) {\n        selection.selectedElements.forEach((element: SVGGElement) => {\n            const svg: SVGSVGElement = this.renderer.createElement('svg', SVG_NS);\n\n            const initScale = svg.createSVGTransform();\n            const initTranslate = svg.createSVGTransform();\n\n            initScale.setScale(1, 1);\n            initTranslate.setTranslate(0, 0);\n\n            element.transform.baseVal.insertItemBefore(initTranslate, 0);\n            element.transform.baseVal.insertItemBefore(initScale, 1);\n        });\n    }\n\n    getXScaleFactor(dx: number, selection: Selection, isRight: boolean): number {\n        // get the distance from mouse to the coords x of box\n        const distFromOgXToCurrentMouse = dx + (isRight ? selection.ogSelectionBoxWidth : 0);\n\n        const newWidth = distFromOgXToCurrentMouse + (isRight ? 0 : selection.ogSelectionBoxWidth);\n\n        const scaleFactor = newWidth / selection.ogSelectionBoxWidth;\n\n        return (this.isAltDown) ? 2 * scaleFactor - 1 : scaleFactor;\n    }\n\n    getXTranslate(dx: number, scaleFactor: number, selection: Selection, isRight: boolean): number {\n        let xTranslate =  selection.ogSelectionBoxPositions.x - (scaleFactor * selection.ogSelectionBoxPositions.x) - (isRight ? 0 : dx);\n\n        if (this.isAltDown) {\n            xTranslate = xTranslate - (isRight ? dx : 0);\n        }\n\n        return xTranslate;\n    }\n\n    getYScaleFactor(dy: number, selection: Selection, isBottom: boolean): number {\n        const distFromOgYToCurrentMouse = dy + (isBottom ? selection.ogSelectionBoxHeight : 0);\n\n        const newHeight = distFromOgYToCurrentMouse + (isBottom ? 0 : selection.ogSelectionBoxHeight);\n\n        const scaleFactor = newHeight / selection.ogSelectionBoxHeight;\n\n        return (this.isAltDown) ? 2 * scaleFactor - 1 : scaleFactor;\n    }\n\n    getYTranslate(dy: number, scaleFactor: number, selection: Selection, isBottom: boolean): number {\n        let yTranslate = selection.ogSelectionBoxPositions.y - (scaleFactor * selection.ogSelectionBoxPositions.y) - (isBottom ? 0 : dy);\n\n        if (this.isAltDown) {\n            yTranslate = yTranslate - (isBottom ? dy : 0);\n        }\n\n        return yTranslate;\n    }\n\n    applyRedimTransformations(selection: Selection, xScale: number, yScale: number, xTranslate: number, yTranslate: number): void {\n        selection.selectedElements.forEach((element: SVGGElement) => {\n            element.transform.baseVal.getItem(0).setTranslate(xTranslate, yTranslate);\n            element.transform.baseVal.getItem(1).setScale(xScale, yScale);\n        });\n    }\n\n    getDistanceFromControlPoint(currentMousePos: number, cntrlPointPos: number, isRightOrBottom: boolean): number {\n        let distance = currentMousePos - cntrlPointPos;\n        distance = isRightOrBottom ? distance : -distance;\n        return distance;\n    }\n\n    applyScaleCorner(currentMouse: Coords2D, selection: Selection, isRight: boolean, isBottom: boolean): void {\n        let dx = this.getDistanceFromControlPoint(currentMouse.x + window.scrollX, selection.ogActiveControlPointCoords.x, isRight);\n        let dy = this.getDistanceFromControlPoint(currentMouse.y + window.scrollY, selection.ogActiveControlPointCoords.y, isBottom);\n\n        if (this.isShiftDown) {\n            const notProportionalWidth = selection.ogSelectionBoxWidth + dx;\n            const notProportionalHeight = selection.ogSelectionBoxHeight + dy;\n\n            // get the scale factor for both directions\n            const horizScale = notProportionalWidth / selection.ogSelectionBoxWidth;\n            const vertScale = notProportionalHeight / selection.ogSelectionBoxHeight;\n\n            // Get the smallest scale\n            const scale = Math.min(Math.abs(horizScale), Math.abs(vertScale));\n\n            // Get Dimensions of the scaled rectangle\n            const proportionalWidth = Math.sign(horizScale) * scale * selection.ogSelectionBoxWidth;\n            const proporionalHeight = Math.sign(vertScale) * scale * selection.ogSelectionBoxHeight;\n\n            dx = proportionalWidth - selection.ogSelectionBoxWidth;\n            dy = proporionalHeight - selection.ogSelectionBoxHeight;\n        }\n\n        const xScaleFactor = this.getXScaleFactor(dx, selection, isRight);\n        const yScaleFactor = this.getYScaleFactor(dy, selection, isBottom);\n\n        const xTranslate = this.getXTranslate(dx, xScaleFactor, selection, isRight);\n        const yTranslate = this.getYTranslate(dy, yScaleFactor, selection, isBottom);\n\n        this.applyRedimTransformations(selection, xScaleFactor, yScaleFactor, xTranslate, yTranslate);\n\n        selection.updateFullSelectionBox();\n    }\n\n    applyScaleX(currentMouse: Coords2D, selection: Selection, isRight: boolean): void {\n        const dx = this.getDistanceFromControlPoint(currentMouse.x + window.scrollX, selection.ogActiveControlPointCoords.x, isRight);\n\n        const scaleFactor =  this.getXScaleFactor(dx, selection, isRight);\n\n        const xTranslate = this.getXTranslate(dx, scaleFactor, selection, isRight);\n\n        this.applyRedimTransformations(selection, scaleFactor, 1, xTranslate, 0);\n\n        selection.updateFullSelectionBox();\n    }\n\n    applyScaleY(currentMouse: Coords2D, selection: Selection, isBottom: boolean): void {\n        const dy = this.getDistanceFromControlPoint(currentMouse.y + window.scrollY, selection.ogActiveControlPointCoords.y, isBottom);\n\n        const scaleFactor = this.getYScaleFactor(dy, selection, isBottom);\n\n        const yTranslate = this.getYTranslate(dy, scaleFactor, selection, isBottom);\n\n        this.applyRedimTransformations(selection, 1, scaleFactor, 0, yTranslate);\n\n        selection.updateFullSelectionBox();\n    }\n\n    updateOrigins(selection: Selection): void {\n        this.updateElementsOrigins(selection);\n        this.boxOrigin.y = selection.selectionBox.y.baseVal.value + selection.selectionBox.height.baseVal.value / 2;\n        this.boxOrigin.x = selection.selectionBox.x.baseVal.value + selection.selectionBox.width.baseVal.value / 2;\n    }\n\n    updateElementsOrigins(selection: Selection): void {\n        this.selectedElementsOrigin.clear();\n        for (const el of selection.selectedElements) {\n            const origin: Coords2D = new Coords2D(\n                (el.getBoundingClientRect() as DOMRect).x -\n                    SIDEBAR_WIDTH + window.scrollX +\n                    (el.getBoundingClientRect() as DOMRect).width / 2,\n                (el.getBoundingClientRect() as DOMRect).y + window.scrollY + (el.getBoundingClientRect() as DOMRect).height / 2,\n            );\n            this.selectedElementsOrigin.set(el, origin);\n        }\n    }\n\n    prepareForTransform(element: SVGGElement): void {\n        if (element.transform.baseVal.numberOfItems === 0) {\n            const svg: SVGSVGElement = this.renderer.createElement('svg', SVG_NS);\n            const nullTransform = svg.createSVGTransform();\n            nullTransform.setTranslate(0, 0);\n            element.transform.baseVal.appendItem(nullTransform);\n        }\n    }\n\n    getCurrentTransformMatrix(element: SVGGElement): DOMMatrix {\n        this.prepareForTransform(element);\n        return element.transform.baseVal.consolidate().matrix as DOMMatrix;\n    }\n\n    applyTransformation(element: SVGGElement, transform: SVGTransform): void {\n        const svg: SVGSVGElement = this.renderer.createElement('svg', SVG_NS);\n        let currentTransformMatrix = this.getCurrentTransformMatrix(element);\n        currentTransformMatrix = transform.matrix.multiply(currentTransformMatrix);\n        element.transform.baseVal.clear();\n        element.transform.baseVal.appendItem(svg.createSVGTransformFromMatrix(currentTransformMatrix));\n    }\n\n    rotateSelection(event: WheelEvent, selection: Selection): void {\n        const deltaY = event.deltaY;\n\n        this.rotationStep = deltaY < 0 ? Math.abs(this.rotationStep) * -1 : Math.abs(this.rotationStep);\n\n        for (const element of selection.selectedElements) {\n            if (this.isRotateOnSelf) {\n                this.rotateElement(element, this.selectedElementsOrigin.get(element) as Coords2D);\n            } else {\n                this.rotateElement(element, this.boxOrigin);\n            }\n        }\n\n        selection.updateFullSelectionBox();\n\n        if (!this.isRotateOnSelf) {\n            this.updateElementsOrigins(selection);\n        }\n    }\n\n    rotateElement(element: SVGGElement, origin: Coords2D): void {\n        const svg: SVGSVGElement = this.renderer.createElement('svg', SVG_NS);\n        const rotateTransform = svg.createSVGTransform();\n        rotateTransform.setRotate(this.rotationStep, origin.x, origin.y);\n        this.applyTransformation(element, rotateTransform);\n    }\n\n    translateSelection(deltaX: number, deltaY: number, selection: Selection): void {\n        for (const element of selection.selectedElements) {\n            this.translateElement(deltaX, deltaY, element);\n        }\n        selection.updateFullSelectionBox();\n    }\n\n    translateElement(deltaX: number, deltaY: number, element: SVGGElement): void {\n        const svg: SVGSVGElement = this.renderer.createElement('svg', SVG_NS);\n        const translateTransform = svg.createSVGTransform();\n        translateTransform.setTranslate(deltaX, deltaY);\n        this.applyTransformation(element, translateTransform);\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class ModalManagerService {\n    modalIsDisplayed: BehaviorSubject<boolean> = new BehaviorSubject(false);\n    currentModalIsDisplayed: Observable<boolean> = this.modalIsDisplayed.asObservable();\n\n    setModalIsDisplayed(isDisplayed: boolean) {\n        this.modalIsDisplayed.next(isDisplayed);\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { Drawing } from 'src/../../common/communication/Drawing';\nimport { DrawingInfo } from '../../../../../../common/communication/DrawingInfo';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class DrawingLoaderService {\n    currentDrawing: BehaviorSubject<Drawing> = new BehaviorSubject({\n        svg: '',\n        drawingInfo: {\n            name: '',\n            labels: [],\n            idStack: [],\n            createdAt: 0,\n            lastModified: 0,\n            width: 0,\n            height: 0,\n            color: '',\n        } as DrawingInfo,\n    } as Drawing);\n\n    emptyDrawStack: BehaviorSubject<boolean> = new BehaviorSubject(true);\n    untouchedWorkZone: BehaviorSubject<boolean> = new BehaviorSubject(true);\n}\n","import { ElementRef, Injectable } from '@angular/core';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\nimport { BehaviorSubject } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { Drawing } from 'src/../../common/communication/Drawing';\nimport { DrawingSavingInfo } from 'src/classes/DrawingSavingInfo';\nimport { DrawingInfo } from '../../../../../../common/communication/DrawingInfo';\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\nimport { DrawingModalWindowService } from '../../drawing-modal-window/drawing-modal-window.service';\nimport { DrawingLoaderService } from '../drawing-loader/drawing-loader.service';\nimport { FileManagerService } from '../file-manager/file-manager.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class DrawingSaverService {\n    currentIsSaved: BehaviorSubject<boolean | undefined> = new BehaviorSubject(undefined);\n    currentErrorMessage: BehaviorSubject<string> = new BehaviorSubject('');\n\n    workZoneRef: ElementRef<SVGElement>;\n    currentDrawingInfo: DrawingInfo;\n    drawStackService: DrawStackService;\n    constructor(\n        private drawingModalWindowService: DrawingModalWindowService,\n        private drawingLoaderService: DrawingLoaderService,\n        private fileManagerService: FileManagerService,\n        private sanitizer: DomSanitizer,\n    ) {}\n\n    initializeDrawingSaverService(ref: ElementRef<SVGElement>, drawStackService: DrawStackService) {\n        this.workZoneRef = ref;\n        this.drawStackService = drawStackService;\n        this.drawingModalWindowService.drawingInfo.subscribe((drawingInfo) => {\n            this.currentDrawingInfo = drawingInfo;\n        });\n    }\n\n    getLocalFileDownloadUrl(): SafeResourceUrl {\n        const jsonObj: string = JSON.stringify({\n            svg: this.workZoneRef.nativeElement.innerHTML,\n            drawingInfo: this.currentDrawingInfo,\n        });\n        const blob = new Blob([jsonObj], { type: 'text/plain' });\n        return this.sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(blob));\n    }\n\n    sendFileToServer(drawingSavingInfo: DrawingSavingInfo): void {\n        if (this.drawingLoaderService.emptyDrawStack.value) {\n            this.currentIsSaved.next(false);\n            this.currentErrorMessage.next('Aucun dessin dans la zone de travail!');\n        } else if (drawingSavingInfo.name.length > 0) {\n            this.postDrawing(drawingSavingInfo);\n        }\n    }\n\n    postDrawing(drawingSavingInfo: DrawingSavingInfo) {\n        this.currentDrawingInfo.name = drawingSavingInfo.name;\n        this.currentDrawingInfo.labels = drawingSavingInfo.drawingLabels;\n        this.currentDrawingInfo.createdAt = drawingSavingInfo.createdAt;\n        this.currentDrawingInfo.lastModified = drawingSavingInfo.lastModified;\n        this.currentDrawingInfo.idStack = this.drawStackService.idStack;\n        const drawing: Drawing = {\n            drawingInfo: this.currentDrawingInfo,\n            svg: this.workZoneRef.nativeElement.innerHTML,\n        };\n\n        this.fileManagerService\n            .postDrawing(drawing)\n            .pipe(\n                filter((subject) => {\n                    if (subject !== undefined) {\n                        return true;\n                    }\n                    this.currentErrorMessage.next(\n                        'Erreur de sauvegarde du côté serveur! Le serveur n\\'est peut-être pas ouvert.',\n                    );\n                    this.currentIsSaved.next(false);\n                    return false;\n                }),\n            )\n            .subscribe((receivedDrawing: Drawing) => {\n                if (\n                    receivedDrawing.drawingInfo ||\n                    JSON.parse(receivedDrawing.drawingInfo).createdAt === drawingSavingInfo.createdAt\n                ) {\n                    this.drawingLoaderService.currentDrawing.next(receivedDrawing);\n                    this.currentIsSaved.next(true);\n                } else {\n                    this.currentErrorMessage.next('Erreur de sauvegarde du côté serveur!');\n                    this.currentIsSaved.next(false);\n                }\n            });\n    }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { environment } from 'src/environments/environment';\n\nimport { Drawing } from '../../../../../../common/communication/Drawing';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class FileManagerService {\n    constructor(private http: HttpClient) {}\n\n    getAllDrawings(): Observable<Drawing[]> {\n        return this.http\n            .get<Drawing[]>(environment.BASE_URL + '/api/file-manager/')\n            .pipe(catchError(this.handleError<Drawing[]>('getAllDrawings')));\n    }\n\n    postDrawing(drawingInfo: Drawing): Observable<Drawing> {\n        return this.http\n            .post<Drawing>(environment.BASE_URL + '/api/file-manager/save', drawingInfo)\n            .pipe(catchError(this.handleError<Drawing>('postDrawing')));\n    }\n\n    deleteDrawing(createdAt: number): Observable<number> {\n        return this.http\n            .delete<number>(environment.BASE_URL + `/api/file-manager/${createdAt.toString()}`)\n            .pipe(catchError(this.handleError<number>('deleteDrawing')));\n    }\n\n    private handleError<T>(request: string, result?: T): (error: Error) => Observable<T> {\n        return (error: Error): Observable<T> => {\n            return of(result as T);\n        };\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class ShortcutManagerService {\n    private isOnInput: BehaviorSubject<boolean> = new BehaviorSubject(false);\n\n    currentIsOnInput: Observable<boolean> = this.isOnInput.asObservable();\n\n    changeIsOnInput(isOnInput: boolean) {\n        this.isOnInput.next(isOnInput);\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\nimport { DrawStackService } from 'src/app/services/draw-stack/draw-stack.service';\nimport { Coords2D } from 'src/classes/Coords2D';\nimport { HTML_ATTRIBUTE } from 'src/constants/tool-constants';\nimport { SVG_NS, TITLE_ELEMENT_TO_REMOVE } from '../../../../../constants/constants';\nimport { AbstractToolService } from '../abstract-tool.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport abstract class AbstractShapeToolService extends AbstractToolService {\n    currentMouseCoords: Coords2D = new Coords2D(0, 0);\n    initialMouseCoords: Coords2D = new Coords2D(0, 0);\n    previewRectangle: SVGRectElement;\n    isPreviewing = false;\n\n    elementRef: ElementRef<SVGElement>;\n    renderer: Renderer2;\n    drawStack: DrawStackService;\n\n    constructor() {\n        super();\n    }\n\n    initializeService(elementRef: ElementRef<SVGElement>, renderer: Renderer2, drawStack: DrawStackService) {\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.drawStack = drawStack;\n        this.previewRectangle = this.renderer.createElement('rect', SVG_NS);\n        this.renderer.setAttribute(this.previewRectangle, HTML_ATTRIBUTE.title, TITLE_ELEMENT_TO_REMOVE);\n    }\n\n    abstract onMouseMove(event: MouseEvent): void;\n    abstract onMouseDown(event: MouseEvent): void;\n    abstract onMouseUp(event: MouseEvent): void;\n    abstract onMouseEnter(event: MouseEvent): void;\n    abstract onMouseLeave(event: MouseEvent): void;\n    abstract onKeyDown(event: KeyboardEvent): void;\n    abstract onKeyUp(event: KeyboardEvent): void;\n    abstract cleanUp(): void;\n    abstract createSVG(): void;\n\n    get previewRectangleX(): number {\n        return this.previewRectangle.x.baseVal.value;\n    }\n\n    get previewRectangleY(): number {\n        return this.previewRectangle.y.baseVal.value;\n    }\n\n    get previewRectangleWidth(): number {\n        return this.previewRectangle.width.baseVal.value;\n    }\n\n    get previewRectangleHeight(): number {\n        return this.previewRectangle.height.baseVal.value;\n    }\n\n    updatePreviewRectangle(): void {\n        let deltaX = this.currentMouseCoords.x - this.initialMouseCoords.x;\n        let deltaY = this.currentMouseCoords.y - this.initialMouseCoords.y;\n\n        // adjust x\n        if (deltaX < 0) {\n            deltaX *= -1;\n            this.renderer.setAttribute(this.previewRectangle, 'x', (this.initialMouseCoords.x - deltaX).toString());\n            this.renderer.setAttribute(this.previewRectangle, HTML_ATTRIBUTE.width, deltaX.toString());\n        } else {\n            this.renderer.setAttribute(this.previewRectangle, 'x', this.initialMouseCoords.x.toString());\n            this.renderer.setAttribute(this.previewRectangle, HTML_ATTRIBUTE.width, deltaX.toString());\n        }\n\n        // adjust y\n        if (deltaY < 0) {\n            deltaY *= -1;\n            this.renderer.setAttribute(this.previewRectangle, 'y', (this.initialMouseCoords.y - deltaY).toString());\n            this.renderer.setAttribute(this.previewRectangle, HTML_ATTRIBUTE.height, deltaY.toString());\n        } else {\n            this.renderer.setAttribute(this.previewRectangle, 'y', this.initialMouseCoords.y.toString());\n            this.renderer.setAttribute(this.previewRectangle, HTML_ATTRIBUTE.height, deltaY.toString());\n        }\n\n        this.renderer.setAttribute(this.previewRectangle, HTML_ATTRIBUTE.fill, 'white');\n        this.renderer.setAttribute(this.previewRectangle, 'fill-opacity', '0.3');\n        this.renderer.setAttribute(this.previewRectangle, HTML_ATTRIBUTE.stroke, 'black');\n        this.renderer.setAttribute(this.previewRectangle, HTML_ATTRIBUTE.stroke_dasharray, '5 5');\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport abstract class AbstractToolService {\n    abstract initializeService(\n        elementRef: ElementRef<SVGElement>,\n        renderer: Renderer2,\n        drawStack: DrawStackService,\n    ): void;\n    isMouseInRef(event: MouseEvent, elementRef: ElementRef): boolean {\n        return (\n            event.clientX > elementRef.nativeElement.getBoundingClientRect().left + window.scrollX &&\n            event.clientY > elementRef.nativeElement.getBoundingClientRect().top + window.scrollY\n        );\n    }\n    abstract onMouseMove(event: MouseEvent): void;\n    abstract onMouseDown(event: MouseEvent): void;\n    abstract onMouseUp(event: MouseEvent): void;\n    abstract onMouseEnter(event: MouseEvent): void;\n    abstract onMouseLeave(event: MouseEvent): void;\n    abstract onKeyDown(event: KeyboardEvent): void;\n    abstract onKeyUp(event: KeyboardEvent): void;\n    abstract cleanUp(): void;\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\nimport { DrawStackService } from 'src/app/services/draw-stack/draw-stack.service';\nimport { MOUSE, SVG_NS } from 'src/constants/constants';\nimport { HTML_ATTRIBUTE, TOOL_NAME } from 'src/constants/tool-constants';\nimport { AttributesManagerService } from '../../attributes-manager/attributes-manager.service';\nimport { AbstractToolService } from '../abstract-tool.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport abstract class TracingToolService extends AbstractToolService {\n    isDrawing = false;\n    protected currentPath = '';\n    protected currentWidth = 0;\n    protected currentColorAndOpacity = '';\n    protected currentOpacity = '';\n    protected currentColor = '';\n    protected svgPath: SVGPathElement;\n    protected svgWrap: SVGGElement;\n    protected svgPreviewCircle: SVGCircleElement;\n\n    protected attributesManagerService: AttributesManagerService;\n    protected elementRef: ElementRef<SVGElement>;\n    protected renderer: Renderer2;\n    protected drawStack: DrawStackService;\n\n    constructor() {\n        super();\n    }\n\n    initializeService(elementRef: ElementRef<SVGElement>, renderer: Renderer2, drawStack: DrawStackService) {\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.drawStack = drawStack;\n        this.svgPath = this.renderer.createElement('path', SVG_NS);\n        this.svgWrap = this.renderer.createElement('g', SVG_NS);\n        this.svgPreviewCircle = this.renderer.createElement('circle', SVG_NS);\n    }\n\n    getIsDrawing = () => this.isDrawing;\n    getCurrentPath = () => this.currentPath;\n\n    initializeAttributesManagerService(attributesManagerService: AttributesManagerService) {\n        this.attributesManagerService = attributesManagerService;\n        this.attributesManagerService.thickness.subscribe((thickness) => {\n            this.currentWidth = thickness;\n        });\n    }\n\n    getXPos = (clientX: number) => clientX - this.elementRef.nativeElement.getBoundingClientRect().left;\n    getYPos = (clientY: number) => clientY - this.elementRef.nativeElement.getBoundingClientRect().top;\n\n    onMouseDown(e: MouseEvent): void {\n        this.setColorAndOpacity();\n        if (e.button === MOUSE.LeftButton) {\n            this.isDrawing = true;\n            this.createSVGWrapper();\n            const x = this.getXPos(e.clientX);\n            const y = this.getYPos(e.clientY);\n            this.currentPath = `M${x} ${y}`;\n            this.svgPreviewCircle = this.createSVGCircle(x, y);\n            this.renderer.appendChild(this.svgWrap, this.svgPreviewCircle);\n            this.createSVGPath();\n        }\n    }\n\n    setColorAndOpacity(): void {\n        this.currentColor = this.currentColorAndOpacity.slice(0, 6);\n        this.currentOpacity = (parseInt(this.currentColorAndOpacity.slice(-2), 16) / 255).toFixed(1).toString();\n    }\n\n    onMouseMove(e: MouseEvent): void {\n        if (e.button === MOUSE.LeftButton && this.getIsDrawing()) {\n            const x = this.getXPos(e.clientX);\n            const y = this.getYPos(e.clientY);\n            this.currentPath += ` L${x} ${y}`;\n            this.updateSVGPath();\n        }\n    }\n\n    onMouseUp(e: MouseEvent): void {\n        if (e.button === MOUSE.LeftButton && this.getIsDrawing()) {\n            this.isDrawing = false;\n            this.currentPath = '';\n            this.drawStack.push(this.svgWrap);\n        }\n    }\n\n    onMouseLeave(e: MouseEvent): void {\n        this.onMouseUp(e);\n    }\n\n    // tslint:disable-next-line: no-empty\n    onMouseEnter(event: MouseEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onKeyDown(event: KeyboardEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onKeyUp(event: KeyboardEvent): void {}\n\n    createSVGWrapper(): void {\n        const wrap: SVGGElement = this.renderer.createElement('g', SVG_NS);\n        this.renderer.setAttribute(wrap, HTML_ATTRIBUTE.stroke, '#' + this.currentColor);\n        this.renderer.setAttribute(wrap, HTML_ATTRIBUTE.opacity, this.currentOpacity);\n        this.renderer.setAttribute(wrap, HTML_ATTRIBUTE.fill, '#' + this.currentColor);\n        this.renderer.setAttribute(wrap, HTML_ATTRIBUTE.title, TOOL_NAME.Pen);\n        this.svgWrap = wrap;\n        this.renderer.appendChild(this.elementRef.nativeElement, wrap);\n    }\n\n    createSVGCircle(x: number, y: number): SVGCircleElement {\n        const circle: SVGCircleElement = this.renderer.createElement('circle', SVG_NS);\n        this.renderer.setAttribute(circle, HTML_ATTRIBUTE.stroke, 'none');\n        this.renderer.setAttribute(circle, HTML_ATTRIBUTE.cx, x.toString());\n        this.renderer.setAttribute(circle, HTML_ATTRIBUTE.cy, y.toString());\n        this.renderer.setAttribute(circle, 'r', (this.currentWidth / 2).toString());\n        this.renderer.setAttribute(circle, HTML_ATTRIBUTE.fill, '#' + this.currentColor);\n        return circle;\n    }\n\n    createSVGPath(): void {\n        this.svgPath = this.renderer.createElement('path', SVG_NS);\n        this.renderer.setAttribute(this.svgPath, HTML_ATTRIBUTE.fill, 'none');\n        this.renderer.setAttribute(this.svgPath, HTML_ATTRIBUTE.stroke_width, this.currentWidth.toString());\n        this.renderer.setAttribute(this.svgPath, HTML_ATTRIBUTE.stroke_linejoin, 'round');\n        this.renderer.setAttribute(this.svgPath, 'stroke-linecap', 'round');\n        this.renderer.appendChild(this.svgWrap, this.svgPath);\n    }\n\n    updatePreviewCircle(x: number, y: number): void {\n        this.renderer.setAttribute(this.svgPreviewCircle, HTML_ATTRIBUTE.cx, x.toString());\n        this.renderer.setAttribute(this.svgPreviewCircle, HTML_ATTRIBUTE.cy, y.toString());\n    }\n\n    updateSVGPath(): void {\n        this.renderer.setAttribute(this.svgPath, 'd', this.currentPath);\n    }\n\n    cleanUp(): void {\n        if (this.isDrawing) {\n            this.renderer.removeChild(this.elementRef.nativeElement, this.svgWrap);\n            this.svgWrap = this.renderer.createElement('g', SVG_NS);\n            this.currentPath = '';\n            this.isDrawing = false;\n        }\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\nimport {\n    BRUSH_STYLE,\n    ERASER_SIZE,\n    FONT_ALIGN,\n    FONT_SIZE,\n    LINE_JOINT_TYPE,\n    LINE_STROKE_TYPE,\n    ROTATION_ANGLE,\n    SPRAY_DIAMETER,\n    SPRAY_INTERVAL,\n    STAMP_SCALING,\n    STAMP_TYPES,\n    THICKNESS,\n    TOLERANCE,\n    TRACE_TYPE,\n} from 'src/constants/tool-constants';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class AttributesManagerService {\n    thickness: BehaviorSubject<number> = new BehaviorSubject(THICKNESS.Default);\n    tolerance: BehaviorSubject<number> = new BehaviorSubject(TOLERANCE.Default);\n    minThickness: BehaviorSubject<number> = new BehaviorSubject(1);\n    traceType: BehaviorSubject<string> = new BehaviorSubject(TRACE_TYPE.Outline);\n    style: BehaviorSubject<BRUSH_STYLE> = new BehaviorSubject(BRUSH_STYLE.type1);\n    nbVertices: BehaviorSubject<number> = new BehaviorSubject(3);\n    lineStrokeType: BehaviorSubject<LINE_STROKE_TYPE> = new BehaviorSubject(LINE_STROKE_TYPE.Continuous);\n    lineJointType: BehaviorSubject<LINE_JOINT_TYPE> = new BehaviorSubject(LINE_JOINT_TYPE.Curvy);\n    circleJointDiameter: BehaviorSubject<number> = new BehaviorSubject(THICKNESS.Default);\n    scaling: BehaviorSubject<number> = new BehaviorSubject(STAMP_SCALING.Default);\n    angle: BehaviorSubject<number> = new BehaviorSubject(ROTATION_ANGLE.Default);\n    stampType: BehaviorSubject<string> = new BehaviorSubject(STAMP_TYPES[0]);\n    eraserSize: BehaviorSubject<number> = new BehaviorSubject(ERASER_SIZE.Default);\n    sprayDiameter: BehaviorSubject<number> = new BehaviorSubject(SPRAY_DIAMETER.Default);\n    sprayInterval: BehaviorSubject<number> = new BehaviorSubject(SPRAY_INTERVAL.Default);\n\n    boldState: BehaviorSubject<boolean> = new BehaviorSubject(false);\n    italicState: BehaviorSubject<boolean> = new BehaviorSubject(false);\n    font: BehaviorSubject<string> = new BehaviorSubject('Times New Roman, serif');\n    fontSize: BehaviorSubject<number> = new BehaviorSubject(FONT_SIZE.Default);\n    fontAlign: BehaviorSubject<FONT_ALIGN> = new BehaviorSubject(FONT_ALIGN.Start);\n    isWritingState: BehaviorSubject<boolean> = new BehaviorSubject(false);\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\nimport { BRUSH_STYLE, HTML_ATTRIBUTE } from 'src/constants/tool-constants';\nimport { SVG_NS } from '../../../../constants/constants';\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\nimport { TracingToolService } from '../abstract-tools/tracing-tool/tracing-tool.service';\nimport { AttributesManagerService } from '../attributes-manager/attributes-manager.service';\nimport { ColorToolService } from '../color-tool/color-tool.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class BrushToolService extends TracingToolService {\n    private style: BRUSH_STYLE = BRUSH_STYLE.type1;\n\n    constructor(private colorToolService: ColorToolService) {\n        super();\n        this.colorToolService.primaryColor.subscribe((currentColor: string) => {\n            this.currentColorAndOpacity = currentColor;\n        });\n    }\n\n    initializeService(elementRef: ElementRef<SVGElement>, renderer: Renderer2, drawStack: DrawStackService) {\n        super.initializeService(elementRef, renderer, drawStack);\n    }\n\n    initializeAttributesManagerService(attributesManagerService: AttributesManagerService) {\n        super.initializeAttributesManagerService(attributesManagerService);\n        this.attributesManagerService.style.subscribe((style: BRUSH_STYLE) => {\n            this.style = style;\n        });\n    }\n\n    createSVGWrapper(): void {\n        super.createSVGWrapper();\n        const filter: SVGFilterElement = this.createFilter(this.style);\n        this.renderer.appendChild(this.svgWrap, filter);\n    }\n\n    createFilter(patternId: BRUSH_STYLE): SVGFilterElement {\n        const filter = this.renderer.createElement('filter', SVG_NS);\n\n        this.renderer.setAttribute(filter, 'id', this.style.toString());\n        this.renderer.setAttribute(filter, 'filterUnits', 'objectBoundingBox');\n        this.renderer.setAttribute(filter, HTML_ATTRIBUTE.height, '100px');\n        this.renderer.setAttribute(filter, HTML_ATTRIBUTE.width, '100px');\n        this.renderer.setAttribute(filter, 'x', '-50px');\n        this.renderer.setAttribute(filter, 'y', '-50px');\n\n        if (patternId === BRUSH_STYLE.type1 || patternId === BRUSH_STYLE.type2) {\n            this.createGaussianBlurFilter(filter);\n        }\n        if (patternId !== BRUSH_STYLE.type1) {\n            this.createTurbulenceDisplacementFilter(filter, patternId);\n        }\n        return filter;\n    }\n\n    createTurbulenceDisplacementFilter(filter: SVGFilterElement, patternId: BRUSH_STYLE): void {\n        const turbulence = this.renderer.createElement('feTurbulence', SVG_NS);\n        this.renderer.setAttribute(turbulence, 'type', 'turbulence');\n        this.renderer.setAttribute(turbulence, 'result', 'turbulence');\n\n        const displacementMap = this.renderer.createElement('feDisplacementMap', SVG_NS);\n        this.renderer.setAttribute(displacementMap, 'in2', 'turbulence');\n        this.renderer.setAttribute(displacementMap, 'in', 'SourceGraphic');\n        this.renderer.setAttribute(displacementMap, 'scale', '10');\n        this.renderer.setAttribute(displacementMap, 'xChannelSelector', 'R');\n        this.renderer.setAttribute(displacementMap, 'yChannelSelector', 'G');\n\n        switch (patternId) {\n            case BRUSH_STYLE.type2:\n                this.renderer.setAttribute(turbulence, HTML_ATTRIBUTE.baseFrequency, '0.1 0.9');\n                this.renderer.setAttribute(turbulence, HTML_ATTRIBUTE.numOctaves, '10');\n                this.renderer.setAttribute(displacementMap, 'scale', '20');\n                break;\n            case BRUSH_STYLE.type3:\n                this.renderer.setAttribute(turbulence, HTML_ATTRIBUTE.baseFrequency, '0.01 0.57');\n                this.renderer.setAttribute(turbulence, HTML_ATTRIBUTE.numOctaves, '2');\n                break;\n            case BRUSH_STYLE.type4:\n                this.renderer.setAttribute(turbulence, HTML_ATTRIBUTE.baseFrequency, '0.05');\n                this.renderer.setAttribute(turbulence, HTML_ATTRIBUTE.numOctaves, '2');\n                break;\n            case BRUSH_STYLE.type5:\n                this.renderer.setAttribute(turbulence, 'type', 'fractalNoise');\n                this.renderer.setAttribute(turbulence, HTML_ATTRIBUTE.baseFrequency, '0.9');\n                this.renderer.setAttribute(turbulence, HTML_ATTRIBUTE.numOctaves, '4');\n                break;\n        }\n        this.renderer.appendChild(filter, turbulence);\n        this.renderer.appendChild(filter, displacementMap);\n    }\n\n    createGaussianBlurFilter(filter: SVGFilterElement): void {\n        const effect = this.renderer.createElement('feGaussianBlur', SVG_NS);\n        this.renderer.setAttribute(effect, 'stdDeviation', '3');\n        this.renderer.appendChild(filter, effect);\n    }\n\n    createSVGCircle(x: number, y: number): SVGCircleElement {\n        const circle = super.createSVGCircle(x, y);\n        this.renderer.setAttribute(circle, HTML_ATTRIBUTE.filter, `url(#${this.style.toString()})`);\n        return circle;\n    }\n\n    createSVGPath(): void {\n        super.createSVGPath();\n        this.renderer.setAttribute(this.svgPath, HTML_ATTRIBUTE.filter, `url(#${this.style})`);\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\nimport { StackTargetInfo } from 'src/classes/StackTargetInfo';\nimport { HTML_ATTRIBUTE, TOOL_NAME } from 'src/constants/tool-constants';\nimport { MOUSE } from '../../../../constants/constants';\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\nimport { UndoRedoerService } from '../../undo-redoer/undo-redoer.service';\nimport { AbstractToolService } from '../abstract-tools/abstract-tool.service';\nimport { ColorToolService } from '../color-tool/color-tool.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class ColorApplicatorToolService extends AbstractToolService {\n    currentStackTarget: StackTargetInfo;\n    private primaryColor = '';\n    private secondaryColor = '';\n    isOnTarget = false;\n\n    elementRef: ElementRef<SVGElement>;\n    renderer: Renderer2;\n    drawStack: DrawStackService;\n\n    constructor(private colorToolService: ColorToolService, private undoRedoerService: UndoRedoerService) {\n        super();\n        this.colorToolService.primaryColor.subscribe((primaryColor) => {\n            this.primaryColor = '#' + primaryColor;\n        });\n        this.colorToolService.secondaryColor.subscribe((secondaryColor) => {\n            this.secondaryColor = '#' + secondaryColor;\n        });\n    }\n\n    initializeService(elementRef: ElementRef<SVGElement>, renderer: Renderer2, drawStack: DrawStackService) {\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.drawStack = drawStack;\n\n        this.drawStack.currentStackTarget.subscribe((stackTarget) => {\n            this.currentStackTarget = stackTarget;\n            this.isOnTarget = true;\n        });\n    }\n\n    initializeColorToolService(colorToolService: ColorToolService): void {\n        this.colorToolService = colorToolService;\n        this.colorToolService.primaryColor.subscribe((primaryColor) => {\n            this.primaryColor = '#' + primaryColor;\n        });\n        this.colorToolService.secondaryColor.subscribe((secondaryColor) => {\n            this.secondaryColor = '#' + secondaryColor;\n        });\n    }\n\n    isStackTargetShape(): boolean {\n        const isRectangle = this.currentStackTarget.toolName === TOOL_NAME.Rectangle;\n        const isEllipsis = this.currentStackTarget.toolName === TOOL_NAME.Ellipsis;\n        const isPolygon = this.currentStackTarget.toolName === TOOL_NAME.Polygon;\n        return isRectangle || isEllipsis || isPolygon;\n    }\n\n    isFilledShape(): boolean {\n        return this.currentStackTarget.toolName === TOOL_NAME.Fill;\n    }\n\n    changeFillColorOnShape(): void {\n        if (\n            (this.drawStack\n                .getElementByPosition(this.currentStackTarget.targetPosition)\n                .getAttribute('fill') as string) === 'none'\n        ) {\n            return;\n        }\n\n        this.renderer.setAttribute(\n            this.drawStack.getElementByPosition(this.currentStackTarget.targetPosition),\n            HTML_ATTRIBUTE.fill,\n            this.primaryColor,\n        );\n\n        this.undoRedoerService.saveCurrentState(this.drawStack.idStack);\n    }\n\n    changeStrokeColorOnShape(): void {\n        this.renderer.setAttribute(\n            this.drawStack.getElementByPosition(this.currentStackTarget.targetPosition),\n            HTML_ATTRIBUTE.stroke,\n            this.secondaryColor,\n        );\n\n        this.undoRedoerService.saveCurrentState(this.drawStack.idStack);\n    }\n\n    changeFillColorOnFilledShape(): void {\n        const filledShapeWrap: SVGGElement = this.drawStack.getElementByPosition(\n            this.currentStackTarget.targetPosition,\n        );\n        if (filledShapeWrap.children[0] && filledShapeWrap.children[0].getAttribute('title') === 'body') {\n            this.renderer.setAttribute(filledShapeWrap.children[0], HTML_ATTRIBUTE.stroke, this.primaryColor);\n            this.renderer.setAttribute(filledShapeWrap.children[0], HTML_ATTRIBUTE.fill, this.primaryColor);\n        }\n        this.undoRedoerService.saveCurrentState(this.drawStack.idStack);\n    }\n\n    changeStrokeColorOnFilledShape(): void {\n        const filledShapeWrap: SVGGElement = this.drawStack.getElementByPosition(\n            this.currentStackTarget.targetPosition,\n        );\n        if (filledShapeWrap.children[2] && filledShapeWrap.children[2].getAttribute('title') === 'stroke') {\n            this.renderer.setAttribute(filledShapeWrap.children[2], HTML_ATTRIBUTE.stroke, this.secondaryColor);\n        }\n        this.undoRedoerService.saveCurrentState(this.drawStack.idStack);\n    }\n\n    changeColorOnTrace(): void {\n        const color = this.primaryColor.slice(0, 7);\n        const opacity = (parseInt(this.primaryColor.slice(7, 9), 16) / 255).toFixed(1);\n\n        this.renderer.setAttribute(\n            this.drawStack.getElementByPosition(this.currentStackTarget.targetPosition),\n            HTML_ATTRIBUTE.stroke,\n            color,\n        );\n\n        this.renderer.setAttribute(\n            this.drawStack.getElementByPosition(this.currentStackTarget.targetPosition),\n            HTML_ATTRIBUTE.fill,\n            color,\n        );\n\n        this.renderer.setAttribute(\n            this.drawStack.getElementByPosition(this.currentStackTarget.targetPosition),\n            HTML_ATTRIBUTE.opacity,\n            opacity,\n        );\n\n        this.undoRedoerService.saveCurrentState(this.drawStack.idStack);\n    }\n\n    // tslint:disable-next-line: no-empty\n    onMouseMove(event: MouseEvent): void {}\n    onMouseDown(event: MouseEvent): void {\n        const button = event.button;\n        if (\n            !this.isOnTarget ||\n            this.drawStack.getElementByPosition(this.currentStackTarget.targetPosition) === undefined\n        ) {\n            return;\n        }\n\n        switch (button) {\n            case MOUSE.LeftButton:\n                if (this.isFilledShape()) {\n                    this.changeFillColorOnFilledShape();\n                } else if (this.isStackTargetShape()) {\n                    this.changeFillColorOnShape();\n                } else {\n                    this.changeColorOnTrace();\n                }\n                break;\n            case MOUSE.RightButton:\n                if (this.isFilledShape()) {\n                    this.changeStrokeColorOnFilledShape();\n                } else if (this.isStackTargetShape()) {\n                    this.changeStrokeColorOnShape();\n                }\n                break;\n            default:\n                break;\n        }\n        this.isOnTarget = false;\n    }\n    // tslint:disable-next-line: no-empty\n    onMouseUp(event: MouseEvent): void {\n        this.isOnTarget = false;\n    }\n    // tslint:disable-next-line: no-empty\n    onMouseEnter(event: MouseEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onMouseLeave(event: MouseEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onKeyDown(event: KeyboardEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onKeyUp(event: KeyboardEvent): void {}\n    // tslint:disable-next-line: no-empty\n    cleanUp(): void {}\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\nimport {\n    COLOR_TYPE,\n    DEFAULT_GRAY_0,\n    DEFAULT_GRAY_1,\n    DEFAULT_WHITE,\n    MAX_NUMBER_OF_LAST_COLORS,\n    MAX_RGB_NUMBER,\n    MIN_RGB_NUMBER,\n} from 'src/constants/color-constants';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class ColorToolService {\n    previewColor: BehaviorSubject<string> = new BehaviorSubject<string>(DEFAULT_WHITE);\n    backgroundColor: BehaviorSubject<string> = new BehaviorSubject<string>(DEFAULT_WHITE);\n    primaryColor: BehaviorSubject<string> = new BehaviorSubject<string>(DEFAULT_GRAY_0);\n    secondaryColor: BehaviorSubject<string> = new BehaviorSubject<string>(DEFAULT_GRAY_1);\n\n    selectedColorType: BehaviorSubject<COLOR_TYPE | undefined> = new BehaviorSubject<COLOR_TYPE | undefined>(undefined);\n    showColorPalette: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n    colorQueue: BehaviorSubject<string[]> = new BehaviorSubject<string[]>([DEFAULT_WHITE]);\n\n    addColorToQueue(color: string): void {\n        if (this.colorQueue.value.length < MAX_NUMBER_OF_LAST_COLORS) {\n            this.colorQueue.value.push(color);\n        } else {\n            this.colorQueue.value.shift();\n            this.colorQueue.value.push(color);\n        }\n        this.colorQueue.next(this.colorQueue.value);\n    }\n\n    changePrimaryColor(primaryColor: string): void {\n        this.primaryColor.next(primaryColor);\n    }\n\n    changeSecondaryColor(secondaryColor: string): void {\n        this.secondaryColor.next(secondaryColor);\n    }\n\n    changePreviewColor(previewColor: string) {\n        this.previewColor.next(previewColor);\n    }\n\n    changeBackgroundColor(backgroundColor: string) {\n        this.backgroundColor.next(backgroundColor);\n    }\n\n    changeColorOnFocus(colorOnFocus: string) {\n        switch (this.selectedColorType.value) {\n            case COLOR_TYPE.backgroundColor:\n                this.backgroundColor.next(colorOnFocus);\n                break;\n            case COLOR_TYPE.primaryColor:\n                this.primaryColor.next(colorOnFocus);\n                break;\n            case COLOR_TYPE.secondaryColor:\n                this.secondaryColor.next(colorOnFocus);\n                break;\n            default:\n                break;\n        }\n    }\n\n    changeSelectedColorType(selectedColorType: COLOR_TYPE | undefined) {\n        this.selectedColorType.next(selectedColorType);\n    }\n\n    changeShowColorPalette(showColorPalette: boolean) {\n        this.showColorPalette.next(showColorPalette);\n    }\n\n    getColorOnFocus(): string {\n        switch (this.selectedColorType.value) {\n            case COLOR_TYPE.backgroundColor:\n                return this.backgroundColor.value;\n            case COLOR_TYPE.primaryColor:\n                return this.primaryColor.value;\n            case COLOR_TYPE.secondaryColor:\n                return this.secondaryColor.value;\n            default:\n                return DEFAULT_WHITE;\n        }\n    }\n\n    translateRGBToHex(R: number, G: number, B: number, A?: number): string {\n        const r: string = this.decimalToHex(R);\n        const g: string = this.decimalToHex(G);\n        const b: string = this.decimalToHex(B);\n        if (A !== undefined) {\n            const a = this.decimalToHex(A * 255);\n            return r + g + b + a;\n        }\n        return r + g + b;\n    }\n\n    decimalToHex(RGBNumber: number): string {\n        let correctedRGBNumber = '';\n        if (RGBNumber > MAX_RGB_NUMBER) {\n            correctedRGBNumber = 'ff';\n        } else if (RGBNumber < MIN_RGB_NUMBER) {\n            correctedRGBNumber = '00';\n        } else {\n            correctedRGBNumber = Number(Math.ceil(RGBNumber)).toString(16);\n            if (correctedRGBNumber.length === 1) {\n                correctedRGBNumber = '0' + correctedRGBNumber;\n            }\n        }\n        return correctedRGBNumber;\n    }\n\n    getPreviewColorOpacityHex(): string {\n        return this.previewColor.value.slice(6, 8);\n    }\n\n    getPreviewColorOpacityDecimal(): string {\n        const opacityHex = this.getPreviewColorOpacityHex();\n        const opacity = (parseInt(opacityHex, 16) / 255).toFixed(1).toString();\n        if (opacity === '1.0') {\n            return '1';\n        } else if (opacity === '0.0') {\n            return '0';\n        }\n        return opacity;\n    }\n\n    switchPrimarySecondary() {\n        const temp: string = this.primaryColor.value;\n        this.primaryColor.next(this.secondaryColor.value);\n        this.secondaryColor.next(temp);\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\nimport { Coords2D } from 'src/classes/Coords2D';\nimport { MOUSE } from 'src/constants/constants';\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\nimport { AbstractToolService } from '../abstract-tools/abstract-tool.service';\nimport { ColorToolService } from '../color-tool/color-tool.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class DropperToolService extends AbstractToolService {\n    svg: SVGElement;\n    currentMouseCoords: Coords2D = new Coords2D(0, 0);\n    pixelColor: string;\n    canvas: HTMLCanvasElement;\n    context2D: CanvasRenderingContext2D;\n    SVGImg: HTMLImageElement;\n\n    elementRef: ElementRef<SVGElement>;\n    renderer: Renderer2;\n    drawStack: DrawStackService;\n\n    constructor(private colorToolService: ColorToolService) {\n        super();\n    }\n\n    initializeService(elementRef: ElementRef<SVGElement>, renderer: Renderer2, drawStack: DrawStackService) {\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.drawStack = drawStack;\n\n        this.canvas = this.renderer.createElement('canvas');\n        this.SVGImg = this.renderer.createElement('img');\n        this.context2D = this.canvas.getContext('2d') as CanvasRenderingContext2D;\n    }\n\n    updateSVGCopy(): void {\n        const serializedSVG = new XMLSerializer().serializeToString(this.elementRef.nativeElement);\n        this.renderer.setProperty(this.SVGImg, 'src', 'data:image/svg+xml,' + encodeURIComponent(serializedSVG));\n        this.renderer.setProperty(this.canvas, 'width', this.elementRef.nativeElement.getBoundingClientRect().width);\n        this.renderer.setProperty(this.canvas, 'height', this.elementRef.nativeElement.getBoundingClientRect().height);\n        this.context2D = this.canvas.getContext('2d') as CanvasRenderingContext2D;\n        this.context2D.drawImage(this.SVGImg, 0, 0);\n    }\n\n    pickColor(): Uint8ClampedArray {\n        this.updateSVGCopy();\n        return this.context2D.getImageData(this.currentMouseCoords.x, this.currentMouseCoords.y, 1, 1).data;\n    }\n\n    onMouseMove(event: MouseEvent): void {\n        this.currentMouseCoords.x = event.clientX - this.elementRef.nativeElement.getBoundingClientRect().left;\n        this.currentMouseCoords.y = event.clientY - this.elementRef.nativeElement.getBoundingClientRect().top;\n    }\n    onMouseDown(event: MouseEvent): void {\n        this.getColor(event);\n    }\n    onMouseUp(event: MouseEvent): void {\n        const colorHex = this.getColor(event);\n\n        const button = event.button;\n        if (button === MOUSE.LeftButton && this.isMouseInRef(event, this.elementRef)) {\n            this.colorToolService.changePrimaryColor(colorHex);\n        } else if (button === MOUSE.RightButton && this.isMouseInRef(event, this.elementRef)) {\n            this.colorToolService.changeSecondaryColor(colorHex);\n        }\n    }\n    // tslint:disable-next-line: no-empty\n    onMouseEnter(event: MouseEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onMouseLeave(event: MouseEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onKeyDown(event: KeyboardEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onKeyUp(event: KeyboardEvent): void {}\n    // tslint:disable-next-line: no-empty\n    cleanUp(): void {}\n\n    getColor(event: MouseEvent): string {\n        this.currentMouseCoords.x = event.clientX - this.elementRef.nativeElement.getBoundingClientRect().left;\n        this.currentMouseCoords.y = event.clientY - this.elementRef.nativeElement.getBoundingClientRect().top;\n        const colorRGB = this.pickColor();\n        return this.colorToolService.translateRGBToHex(colorRGB[0], colorRGB[1], colorRGB[2]);\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\nimport { KEYS, MOUSE, SVG_NS } from 'src/constants/constants';\nimport { HTML_ATTRIBUTE, TOOL_NAME, TRACE_TYPE } from 'src/constants/tool-constants';\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\nimport { AbstractShapeToolService } from '../abstract-tools/abstract-shape-tool/abstract-shape-tool.service';\nimport { AttributesManagerService } from '../attributes-manager/attributes-manager.service';\nimport { ColorToolService } from '../color-tool/color-tool.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class EllipsisToolService extends AbstractShapeToolService {\n    attributesManagerService: AttributesManagerService;\n\n    traceType = '';\n    userStrokeWidth = 0;\n    strokeWidth = 0;\n    userStrokeColor = '';\n    strokeColor = '';\n    userFillColor = '';\n    fillColor = '';\n\n    isCirclePreview = false;\n\n    drawEllipse: SVGEllipseElement;\n\n    constructor(private colorToolService: ColorToolService) {\n        super();\n        this.colorToolService.primaryColor.subscribe((fillColor: string) => {\n            this.fillColor = fillColor;\n            this.updateTraceType(this.traceType);\n        });\n        this.colorToolService.secondaryColor.subscribe((strokeColor: string) => {\n            this.strokeColor = strokeColor;\n            this.updateTraceType(this.traceType);\n        });\n    }\n\n    initializeService(elementRef: ElementRef<SVGElement>, renderer: Renderer2, drawStack: DrawStackService) {\n        super.initializeService(elementRef, renderer, drawStack);\n        this.drawEllipse = this.renderer.createElement('ellipse', SVG_NS);\n    }\n\n    initializeAttributesManagerService(attributesManagerService: AttributesManagerService): void {\n        this.attributesManagerService = attributesManagerService;\n        this.attributesManagerService.thickness.subscribe((thickness: number) => {\n            this.strokeWidth = thickness;\n            this.updateTraceType(this.traceType);\n        });\n        this.attributesManagerService.traceType.subscribe((traceType: string) => {\n            this.updateTraceType(traceType);\n        });\n    }\n\n    isValidllipse(): boolean {\n        const isValidRadiusX = this.previewRectangleWidth >= 2 * this.userStrokeWidth;\n        const isValidRadiusY = this.previewRectangleHeight >= 2 * this.userStrokeWidth;\n\n        return isValidRadiusX && isValidRadiusY && (this.drawEllipseRadiusX > 0 || this.drawEllipseRadiusY > 0);\n    }\n\n    makeEllipseInvalid(): void {\n        this.renderer.setAttribute(this.drawEllipse, HTML_ATTRIBUTE.rx, '0');\n        this.renderer.setAttribute(this.drawEllipse, HTML_ATTRIBUTE.ry, '0');\n    }\n\n    updateTraceType(traceType: string): void {\n        this.traceType = traceType;\n        switch (traceType) {\n            case TRACE_TYPE.Outline: {\n                this.userFillColor = 'none';\n                this.userStrokeColor = this.strokeColor;\n                this.userStrokeWidth = this.strokeWidth;\n                break;\n            }\n            case TRACE_TYPE.Full: {\n                this.userFillColor = this.fillColor;\n                this.userStrokeColor = 'none';\n                this.userStrokeWidth = 0;\n                break;\n            }\n            case TRACE_TYPE.Both: {\n                this.userFillColor = this.fillColor;\n                this.userStrokeColor = this.strokeColor;\n                this.userStrokeWidth = this.strokeWidth;\n                break;\n            }\n        }\n    }\n\n    copyRectanglePreview(): void {\n        this.renderer.setAttribute(\n            this.drawEllipse,\n            HTML_ATTRIBUTE.rx,\n            Math.abs(this.previewRectangleWidth / 2 - this.userStrokeWidth / 2).toString(),\n        );\n        this.renderer.setAttribute(\n            this.drawEllipse,\n            HTML_ATTRIBUTE.ry,\n            Math.abs(this.previewRectangleHeight / 2 - this.userStrokeWidth / 2).toString(),\n        );\n\n        this.renderer.setAttribute(\n            this.drawEllipse,\n            HTML_ATTRIBUTE.cx,\n            (this.previewRectangleX + this.previewRectangleWidth / 2).toString(),\n        );\n        this.renderer.setAttribute(\n            this.drawEllipse,\n            HTML_ATTRIBUTE.cy,\n            (this.previewRectangleY + this.previewRectangleHeight / 2).toString(),\n        );\n    }\n\n    updatePreviewCircle(): void {\n        const deltaX = this.currentMouseCoords.x - this.initialMouseCoords.x;\n        const deltaY = this.currentMouseCoords.y - this.initialMouseCoords.y;\n        const minLength = Math.min(this.previewRectangleWidth, this.previewRectangleHeight);\n\n        if (deltaX < 0) {\n            this.renderer.setAttribute(\n                this.drawEllipse,\n                HTML_ATTRIBUTE.cx,\n                (this.previewRectangleX + (this.previewRectangleWidth - minLength / 2)).toString(),\n            );\n        } else {\n            this.renderer.setAttribute(\n                this.drawEllipse,\n                HTML_ATTRIBUTE.cx,\n                (this.previewRectangleX + minLength / 2).toString(),\n            );\n        }\n\n        if (deltaY < 0) {\n            this.renderer.setAttribute(\n                this.drawEllipse,\n                HTML_ATTRIBUTE.cy,\n                (this.previewRectangleY + (this.previewRectangleHeight - minLength / 2)).toString(),\n            );\n        } else {\n            this.renderer.setAttribute(\n                this.drawEllipse,\n                HTML_ATTRIBUTE.cy,\n                (this.previewRectangleY + minLength / 2).toString(),\n            );\n        }\n\n        this.renderer.setAttribute(\n            this.drawEllipse,\n            HTML_ATTRIBUTE.rx,\n            Math.abs(minLength / 2 - this.userStrokeWidth / 2).toString(),\n        );\n        this.renderer.setAttribute(\n            this.drawEllipse,\n            HTML_ATTRIBUTE.ry,\n            Math.abs(minLength / 2 - this.userStrokeWidth / 2).toString(),\n        );\n    }\n\n    renderDrawEllipsis(): void {\n        if (this.isValidllipse()) {\n            this.userFillColor === 'none'\n                ? this.renderer.setAttribute(this.drawEllipse, HTML_ATTRIBUTE.fill, this.userFillColor)\n                : this.renderer.setAttribute(this.drawEllipse, HTML_ATTRIBUTE.fill, '#' + this.userFillColor);\n            this.renderer.setAttribute(this.drawEllipse, HTML_ATTRIBUTE.stroke, '#' + this.userStrokeColor);\n            this.renderer.setAttribute(this.drawEllipse, HTML_ATTRIBUTE.stroke_width, this.userStrokeWidth.toString());\n        } else {\n            this.renderer.setAttribute(this.drawEllipse, HTML_ATTRIBUTE.fill, 'none');\n            this.renderer.setAttribute(this.drawEllipse, HTML_ATTRIBUTE.stroke, 'none');\n            this.renderer.setAttribute(this.drawEllipse, HTML_ATTRIBUTE.stroke_width, '0');\n        }\n    }\n\n    updateDrawing(): void {\n        this.updatePreviewRectangle();\n        if (!this.isCirclePreview) {\n            this.copyRectanglePreview();\n        } else {\n            this.updatePreviewCircle();\n        }\n        this.renderDrawEllipsis();\n    }\n\n    get drawEllipseCenterX(): number {\n        return this.drawEllipse.cx.baseVal.value;\n    }\n\n    get drawEllipseCenterY(): number {\n        return this.drawEllipse.cy.baseVal.value;\n    }\n\n    get drawEllipseRadiusX(): number {\n        return this.drawEllipse.rx.baseVal.value;\n    }\n\n    get drawEllipseRadiusY(): number {\n        return this.drawEllipse.ry.baseVal.value;\n    }\n\n    onMouseMove(event: MouseEvent): void {\n        this.currentMouseCoords.x = event.clientX - this.elementRef.nativeElement.getBoundingClientRect().left;\n        this.currentMouseCoords.y = event.clientY - this.elementRef.nativeElement.getBoundingClientRect().top;\n\n        if (this.isPreviewing) {\n            this.updateDrawing();\n        }\n    }\n\n    onMouseDown(event: MouseEvent): void {\n        const button = event.button;\n\n        if (button === MOUSE.LeftButton) {\n            this.initialMouseCoords.x = this.currentMouseCoords.x;\n            this.initialMouseCoords.y = this.currentMouseCoords.y;\n            this.isPreviewing = true;\n            this.updateDrawing();\n            this.renderer.appendChild(this.elementRef.nativeElement, this.drawEllipse);\n            this.renderer.appendChild(this.elementRef.nativeElement, this.previewRectangle);\n        }\n    }\n\n    onMouseUp(event: MouseEvent): void {\n        const button = event.button;\n        if (button === MOUSE.LeftButton && this.isValidllipse() && this.isMouseInRef(event, this.elementRef)) {\n            this.createSVG();\n        }\n        this.cleanUp();\n    }\n    // tslint:disable-next-line: no-empty\n    onMouseEnter(event: MouseEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onMouseLeave(event: MouseEvent): void {}\n\n    onKeyDown(event: KeyboardEvent): void {\n        const key = event.key;\n\n        if (key === KEYS.Shift) {\n            this.isCirclePreview = true;\n            this.updateDrawing();\n        }\n    }\n\n    onKeyUp(event: KeyboardEvent): void {\n        const key = event.key;\n\n        if (key === KEYS.Shift) {\n            this.isCirclePreview = false;\n            this.updateDrawing();\n        }\n    }\n\n    createSVG(): void {\n        const el: SVGGElement = this.renderer.createElement('g', SVG_NS);\n        const drawEllipse: SVGEllipseElement = this.renderer.createElement('ellipse', SVG_NS);\n        this.renderer.setAttribute(drawEllipse, HTML_ATTRIBUTE.cx, this.drawEllipseCenterX.toString());\n        this.renderer.setAttribute(drawEllipse, HTML_ATTRIBUTE.cy, this.drawEllipseCenterY.toString());\n        this.renderer.setAttribute(drawEllipse, HTML_ATTRIBUTE.rx, this.drawEllipseRadiusX.toString());\n        this.renderer.setAttribute(drawEllipse, HTML_ATTRIBUTE.ry, this.drawEllipseRadiusY.toString());\n        this.renderer.setAttribute(el, HTML_ATTRIBUTE.stroke_width, this.userStrokeWidth.toString());\n        this.userFillColor === 'none'\n            ? this.renderer.setAttribute(el, HTML_ATTRIBUTE.fill, this.userFillColor)\n            : this.renderer.setAttribute(el, HTML_ATTRIBUTE.fill, '#' + this.userFillColor);\n        this.renderer.setAttribute(el, HTML_ATTRIBUTE.stroke, '#' + this.userStrokeColor);\n        this.renderer.setAttribute(el, HTML_ATTRIBUTE.title, TOOL_NAME.Ellipsis);\n\n        this.renderer.appendChild(el, drawEllipse);\n        this.renderer.appendChild(this.elementRef.nativeElement, el);\n\n        setTimeout(() => {\n            this.drawStack.push(el);\n        }, 0);\n    }\n\n    cleanUp(): void {\n        this.renderer.removeChild(this.elementRef, this.previewRectangle);\n        this.renderer.removeChild(this.elementRef, this.drawEllipse);\n        this.isPreviewing = false;\n        this.makeEllipseInvalid();\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\nimport { Coords2D } from 'src/classes/Coords2D';\nimport { StackTargetInfo } from 'src/classes/StackTargetInfo';\nimport { SVGGElementInfo } from 'src/classes/svggelement-info';\nimport { DEFAULT_GRAY_0, DEFAULT_RED, DEFAULT_WHITE } from 'src/constants/color-constants';\nimport { ELEMENTS_BEFORE_LAST_CIRCLE, MOUSE, SIDEBAR_WIDTH, SVG_NS, TITLE_ELEMENT_TO_REMOVE } from 'src/constants/constants';\nimport {\n    ADDITIONAL_BORDER_WIDTH,\n    DEFAULT_RADIX,\n    ERASER_SIZE,\n    ERASER_STROKE_WIDTH,\n    HTML_ATTRIBUTE,\n    RESET_POSITION_NUMBER,\n    TOOL_NAME,\n} from 'src/constants/tool-constants';\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\nimport { UndoRedoerService } from '../../undo-redoer/undo-redoer.service';\nimport { AbstractToolService } from '../abstract-tools/abstract-tool.service';\nimport { AttributesManagerService } from '../attributes-manager/attributes-manager.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class EraserToolService extends AbstractToolService {\n    eraser: SVGRectElement;\n    attributesManagerService: AttributesManagerService;\n    currentTarget = 0;\n    currentSize = ERASER_SIZE.Default;\n    isOnTarget = false;\n    isLeftMouseDown = false;\n    isEraserAppended = false;\n    lastElementColoredNumber = RESET_POSITION_NUMBER;\n    lastToolName = '';\n    erasedSomething = false;\n\n    // the string represents the id_element\n    changedElements: Map<string, SVGGElementInfo> = new Map([]);\n\n    currentMouseCoords: Coords2D = new Coords2D(0, 0);\n\n    elementRef: ElementRef<SVGElement>;\n    renderer: Renderer2;\n    drawStack: DrawStackService;\n\n    constructor(private undoRedoerService: UndoRedoerService) {\n        super();\n    }\n\n    initializeService(elementRef: ElementRef<SVGElement>, renderer: Renderer2, drawStack: DrawStackService): void {\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.drawStack = drawStack;\n\n        this.drawStack.currentStackTarget.subscribe((stackTarget) => {\n            this.currentTarget = stackTarget.targetPosition;\n            this.isOnTarget = this.currentTarget !== undefined;\n        });\n\n        this.eraser = this.renderer.createElement('rect', SVG_NS);\n        this.renderer.setAttribute(this.eraser, HTML_ATTRIBUTE.title, TITLE_ELEMENT_TO_REMOVE);\n        this.renderer.setAttribute(this.eraser, HTML_ATTRIBUTE.width, this.currentSize.toString());\n        this.renderer.setAttribute(this.eraser, HTML_ATTRIBUTE.height, this.currentSize.toString());\n\n        this.renderer.setAttribute(this.eraser, HTML_ATTRIBUTE.fill, '#' + DEFAULT_WHITE);\n        this.renderer.setAttribute(this.eraser, HTML_ATTRIBUTE.stroke, '#' + DEFAULT_GRAY_0);\n        this.renderer.setAttribute(this.eraser, HTML_ATTRIBUTE.stroke_width, ERASER_STROKE_WIDTH);\n    }\n\n    initializeAttributesManagerService(attributesManagerService: AttributesManagerService): void {\n        this.attributesManagerService = attributesManagerService;\n        this.attributesManagerService.eraserSize.subscribe((newSize) => {\n            this.currentSize = newSize;\n            this.renderer.setAttribute(this.eraser, HTML_ATTRIBUTE.width, this.currentSize.toString());\n            this.renderer.setAttribute(this.eraser, HTML_ATTRIBUTE.height, this.currentSize.toString());\n        });\n    }\n\n    onMouseMove(event: MouseEvent): void {\n        if (this.isLeftMouseDown) {\n            this.onMouseDown(event);\n        }\n        this.checkElementsToErase();\n        this.setEraserToMouse(event);\n    }\n\n    setEraserToMouse(event: MouseEvent): void {\n        this.currentMouseCoords.x =\n            event.clientX - this.elementRef.nativeElement.getBoundingClientRect().left - this.currentSize / 2;\n        this.currentMouseCoords.y =\n            event.clientY - this.elementRef.nativeElement.getBoundingClientRect().top - this.currentSize / 2;\n\n        this.renderer.setAttribute(this.eraser, 'x', this.currentMouseCoords.x.toString());\n        this.renderer.setAttribute(this.eraser, 'y', this.currentMouseCoords.y.toString());\n\n        if (!this.isEraserAppended) {\n            this.appendEraser();\n        }\n    }\n\n    appendEraser(): void {\n        this.renderer.appendChild(this.elementRef.nativeElement, this.eraser);\n        this.isEraserAppended = true;\n    }\n\n    onMouseDown(event: MouseEvent): void {\n        const button = event.button;\n        if (button === MOUSE.LeftButton) {\n            this.isLeftMouseDown = true;\n        }\n\n        this.checkElementsToErase();\n\n        if (this.needToBeErased(button)) {\n            this.renderer.removeChild(\n                this.elementRef.nativeElement,\n                this.drawStack.getElementByPosition(this.currentTarget),\n            );\n\n            this.drawStack.delete(this.drawStack.drawStack[this.currentTarget]);\n\n            this.erasedSomething = true;\n\n            if (this.currentTarget + 1) {\n                this.changedElements.set(\n                    this.currentTarget.toString(),\n                    this.changedElements.get((this.currentTarget + 1).toString()) as SVGGElementInfo,\n                );\n            }\n            this.checkElementsToErase();\n        }\n\n        this.isOnTarget = false;\n    }\n\n    needToBeErased(button: number): boolean {\n        return (\n            this.isOnTarget &&\n            this.drawStack.getElementByPosition(this.currentTarget) !== undefined &&\n            button === MOUSE.LeftButton\n        );\n    }\n\n    isEraserTouchingElement(eraserBox: DOMRect, elementBox: DOMRect, strokeWidth?: number): boolean {\n        const boxLeft = eraserBox.x + window.scrollX - SIDEBAR_WIDTH;\n        const boxRight = eraserBox.x + window.scrollX - SIDEBAR_WIDTH + eraserBox.width;\n        const boxTop = eraserBox.y + window.scrollY;\n        const boxBottom = eraserBox.y + window.scrollY + eraserBox.height;\n\n        let elLeft = elementBox.x + window.scrollX - SIDEBAR_WIDTH;\n        let elRight = elementBox.x + window.scrollX - SIDEBAR_WIDTH + elementBox.width;\n        let elTop = elementBox.y + window.scrollY;\n        let elBottom = elementBox.y + window.scrollY + elementBox.height;\n\n        if (strokeWidth) {\n            const halfStrokeWidth = strokeWidth / 2;\n\n            elLeft = elLeft - halfStrokeWidth;\n            elRight = elRight + halfStrokeWidth;\n            elTop = elTop - halfStrokeWidth;\n            elBottom = elBottom + halfStrokeWidth;\n        }\n\n        // Check all cases where el and box don't touch each other\n        if (elRight < boxLeft || boxRight < elLeft || elBottom < boxTop || boxBottom < elTop) {\n            return false;\n        }\n\n        return true;\n    }\n\n    checkElementsToErase(): void {\n        const eraserBox = this.getDOMRect(this.eraser);\n\n        let enteredInSelection = false;\n        let topElement = this.drawStack.getDrawStackLength() - 1;\n        for (let drawStackIndex = this.drawStack.getDrawStackLength() - 1; drawStackIndex >= 0; drawStackIndex--) {\n            const svgGElement = this.drawStack.drawStack[drawStackIndex];\n            const elBox = this.getDOMRect(svgGElement);\n\n            if (\n                this.isEraserTouchingElement(eraserBox, elBox, this.getStrokeWidth(svgGElement)) &&\n                topElement <= drawStackIndex\n            ) {\n                this.updateElementToColor(topElement, svgGElement, drawStackIndex);\n                enteredInSelection = true;\n                this.isOnTarget = true;\n            } else {\n                topElement--;\n                this.removeBorder(\n                    svgGElement.getAttribute('id_element') as string,\n                    svgGElement.getAttribute('title') as string,\n                );\n            }\n        }\n        if (!enteredInSelection) {\n            this.isOnTarget = false;\n            this.lastElementColoredNumber = RESET_POSITION_NUMBER;\n        }\n    }\n\n    updateElementToColor(topElement: number, svgGElement: SVGGElement, index: number) {\n        if (this.lastElementColoredNumber !== topElement) {\n            this.addElementToMap(svgGElement);\n\n            this.lastToolName = svgGElement.getAttribute('title') as string;\n\n            this.drawStack.changeTargetElement(\n                new StackTargetInfo(\n                    parseInt(svgGElement.getAttribute('id_element') as string, DEFAULT_RADIX),\n                    this.lastToolName,\n                ),\n            );\n\n            this.lastElementColoredNumber = index;\n\n            this.colorBorder(\n                this.currentTarget,\n                this.drawStack.drawStack[this.currentTarget].getAttribute(HTML_ATTRIBUTE.stroke_width),\n                this.lastToolName,\n            );\n        }\n    }\n\n    addElementToMap(svgGElement: SVGGElement) {\n        if (!this.changedElements.get(svgGElement.getAttribute('id_element') as string)) {\n            this.changedElements.set(\n                svgGElement.getAttribute('id_element') as string,\n                new SVGGElementInfo(\n                    svgGElement.getAttribute(HTML_ATTRIBUTE.stroke) as string,\n                    svgGElement.getAttribute(HTML_ATTRIBUTE.stroke_width) as string,\n                ),\n            );\n        }\n    }\n\n    colorBorder(idElement: number, borderWidth: string | null, tool: string): void {\n        if (borderWidth !== '0' && borderWidth !== null) {\n            borderWidth = (parseInt(borderWidth, DEFAULT_RADIX) + ADDITIONAL_BORDER_WIDTH).toString();\n        } else {\n            borderWidth = ADDITIONAL_BORDER_WIDTH.toString();\n        }\n\n        this.checkIfPen(idElement, tool, '#' + DEFAULT_RED);\n\n        this.checkIfStamp(idElement, tool, '#' + DEFAULT_RED);\n\n        this.checkIfLine(idElement, tool, '#' + DEFAULT_RED);\n\n        this.renderer.setAttribute(\n            this.drawStack.getElementByPosition(idElement),\n            HTML_ATTRIBUTE.stroke,\n            '#' + DEFAULT_RED,\n        );\n        this.renderer.setAttribute(\n            this.drawStack.getElementByPosition(idElement),\n            HTML_ATTRIBUTE.stroke_width,\n            borderWidth,\n        );\n    }\n\n    checkIfPen(idElement: number, tool: string, borderColor: string) {\n        if (tool === TOOL_NAME.Pen) {\n            const childrenCount = this.drawStack.getElementByPosition(idElement).childElementCount;\n            this.renderer.setAttribute(\n                this.drawStack.getElementByPosition(idElement).childNodes[\n                    childrenCount - 1 - ELEMENTS_BEFORE_LAST_CIRCLE\n                ],\n                HTML_ATTRIBUTE.fill,\n                borderColor,\n            );\n        }\n    }\n\n    checkIfStamp(idElement: number, tool: string, borderColor: string) {\n        if (tool === TOOL_NAME.Stamp) {\n            const childrenCount = this.drawStack.getElementByPosition(idElement).childElementCount;\n            this.renderer.setAttribute(\n                this.drawStack.getElementByPosition(idElement).childNodes[childrenCount - 1],\n                HTML_ATTRIBUTE.stroke,\n                borderColor,\n            );\n        }\n    }\n\n    checkIfLine(idElement: number, tool: string, borderColor: string) {\n        if (tool === TOOL_NAME.Line && this.drawStack.getElementByPosition(idElement).childElementCount > 1) {\n            const childrenCount = this.drawStack.getElementByPosition(idElement).childElementCount;\n            const children = this.drawStack.getElementByPosition(idElement).childNodes;\n\n            for (let childIndex = 1; childIndex < childrenCount; childIndex++) {\n                this.renderer.setAttribute(children[childIndex], HTML_ATTRIBUTE.fill, borderColor);\n            }\n        }\n    }\n\n    restoreBorder(idElement: number, borderColor: string | null, borderWidth: string | null, tool: string): void {\n        if (borderColor === null) {\n            borderColor = '';\n        }\n\n        if (borderWidth === null) {\n            borderWidth = '0';\n        }\n\n        this.checkIfPen(idElement, tool, borderColor);\n\n        this.checkIfLine(idElement, tool, borderColor);\n\n        this.renderer.setAttribute(this.drawStack.getElementByPosition(idElement), HTML_ATTRIBUTE.stroke, borderColor);\n        this.renderer.setAttribute(\n            this.drawStack.getElementByPosition(idElement),\n            HTML_ATTRIBUTE.stroke_width,\n            borderWidth,\n        );\n    }\n\n    removeBorder(position: string, tool: string): void {\n        if (this.drawStack.drawStack[this.currentTarget] !== undefined) {\n            const element = this.changedElements.get(position) as SVGGElementInfo;\n            if (element !== undefined) {\n                this.restoreBorder(parseInt(position, DEFAULT_RADIX), element.borderColor, element.borderWidth, tool);\n                this.changedElements.delete(position);\n            }\n        }\n    }\n\n    getDOMRect(el: SVGGElement): DOMRect {\n        return el.getBoundingClientRect() as DOMRect;\n    }\n\n    getStrokeWidth(el: SVGGElement): number {\n        if (el.getAttribute(HTML_ATTRIBUTE.stroke_width)) {\n            return parseInt(el.getAttribute(HTML_ATTRIBUTE.stroke_width) as string, DEFAULT_RADIX);\n        }\n        return 0;\n    }\n\n    onMouseUp(event: MouseEvent): void {\n        const button = event.button;\n        if (button === MOUSE.LeftButton) {\n            this.isLeftMouseDown = false;\n        }\n\n        this.isOnTarget = false;\n\n        if (this.currentTarget !== undefined) {\n            const currentChangedTargetIsValid = this.changedElements.get(this.currentTarget.toString()) !== undefined;\n\n            if (this.erasedSomething && currentChangedTargetIsValid) {\n                const currentChangedTarget = this.changedElements.get(this.currentTarget.toString()) as SVGGElementInfo;\n                this.renderer.removeChild(this.elementRef, this.eraser);\n                this.restoreBorder(\n                    this.currentTarget,\n                    currentChangedTarget.borderColor,\n                    currentChangedTarget.borderWidth,\n                    this.lastToolName,\n                );\n                setTimeout(() => {\n                    this.undoRedoerService.saveCurrentState(this.drawStack.idStack);\n                }, 0);\n                setTimeout(() => {\n                    this.colorBorder(this.currentTarget, currentChangedTarget.borderWidth, this.lastToolName);\n                    this.appendEraser();\n                }, 0);\n            } else {\n                this.undoRedoerService.saveCurrentState(this.drawStack.idStack);\n            }\n        }\n        this.erasedSomething = false;\n    }\n\n    onMouseEnter(event: MouseEvent): void {\n        this.appendEraser();\n    }\n\n    // tslint:disable-next-line: no-empty\n    onMouseOver(event: MouseEvent): void {}\n\n    onMouseLeave(event: MouseEvent): void {\n        this.cleanUp();\n    }\n\n    // tslint:disable-next-line: no-empty\n    onKeyDown(event: KeyboardEvent): void {}\n\n    // tslint:disable-next-line: no-empty\n    onKeyUp(event: KeyboardEvent): void {}\n\n    cleanUp(): void {\n        this.renderer.removeChild(this.elementRef, this.eraser);\n        this.isEraserAppended = false;\n        if (this.lastElementColoredNumber !== -1) {\n            this.removeBorder(this.lastElementColoredNumber.toString(), this.lastToolName as string);\n        }\n        this.lastElementColoredNumber = RESET_POSITION_NUMBER;\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\nimport { CanvasToBMP } from 'src/classes/CanvasToBMP';\nimport { SVG_NS } from 'src/constants/constants';\nimport { FILE_TYPE, HTML_ATTRIBUTE, MAX_BMP_SIZE } from 'src/constants/tool-constants';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class ExportToolService {\n    svg: SVGElement;\n    anchor: HTMLAnchorElement;\n    canvas: HTMLCanvasElement;\n    renderer: Renderer2;\n    img: HTMLImageElement;\n    fileType: FILE_TYPE;\n    canvasToBMP: CanvasToBMP;\n\n    launchDownload(): void {\n        this.renderer.setAttribute(this.anchor, HTML_ATTRIBUTE.download, 'untitled.' + this.fileType);\n        this.anchor.click();\n    }\n\n    getXMLSVG(): string {\n        return new XMLSerializer().serializeToString(this.svg);\n    }\n\n    createSVGBlob(): Blob {\n        this.renderer.setAttribute(this.svg, 'xmlns', SVG_NS);\n        return new Blob([this.getXMLSVG()], { type: 'image/svg+xml;charset=utf-8' });\n    }\n\n    initializeService(ref: ElementRef<SVGElement>, renderer: Renderer2): void {\n        this.svg = ref.nativeElement;\n        this.renderer = renderer;\n        this.canvas = this.renderer.createElement(HTML_ATTRIBUTE.canvas);\n        this.anchor = this.renderer.createElement(HTML_ATTRIBUTE.a);\n        this.img = this.renderer.createElement(HTML_ATTRIBUTE.img);\n    }\n\n    saveFile(fileType: FILE_TYPE): void {\n        this.fileType = fileType;\n        this.resizeCanvas();\n        this.canvasToBMP = new CanvasToBMP();\n        if (this.fileType === FILE_TYPE.SVG) {\n            this.saveAsSVG();\n        } else {\n            this.saveAsOther();\n        }\n    }\n\n    saveAsSVG(): void {\n        const uri = 'data:image/svg+xml,' + encodeURIComponent(this.getXMLSVG());\n        this.renderer.setAttribute(this.anchor, HTML_ATTRIBUTE.href, uri);\n        this.launchDownload();\n    }\n\n    saveAsOther(): void {\n        const originalSvgSize: ClientRect | DOMRect = this.svg.getBoundingClientRect();\n\n        if (FILE_TYPE.BMP === this.fileType) {\n            setTimeout(() => {\n                this.compressSVG();\n            }, 0);\n        }\n\n        const url: string = URL.createObjectURL(this.createSVGBlob());\n        this.img.onload = () => {\n            const uri = this.setUri(url);\n            this.launchDownload();\n            URL.revokeObjectURL(uri);\n        };\n\n        this.renderer.setAttribute(this.img, HTML_ATTRIBUTE.src, url);\n        if (FILE_TYPE.BMP === this.fileType) {\n            setTimeout(() => {\n                this.decompressSVG(originalSvgSize);\n            }, 0);\n        }\n    }\n\n    resizeCanvas(): void {\n        const svgSize = this.svg.getBoundingClientRect();\n        this.canvas.width = svgSize.width;\n        this.canvas.height = svgSize.height;\n    }\n\n    compressSVG(): void {\n        const svgSize = this.svg.getBoundingClientRect();\n        this.renderer.setAttribute(this.svg, HTML_ATTRIBUTE.viewBox, `0,0,${svgSize.width},${svgSize.height}`);\n        this.renderer.setAttribute(this.svg, HTML_ATTRIBUTE.width, `${MAX_BMP_SIZE}`);\n        this.renderer.setAttribute(this.svg, HTML_ATTRIBUTE.height, `${MAX_BMP_SIZE}`);\n        this.resizeCanvas();\n    }\n\n    decompressSVG(svgSize: ClientRect | DOMRect): void {\n        this.renderer.removeAttribute(this.svg, HTML_ATTRIBUTE.viewBox);\n        this.renderer.setAttribute(this.svg, HTML_ATTRIBUTE.width, `${svgSize.width}`);\n        this.renderer.setAttribute(this.svg, HTML_ATTRIBUTE.height, `${svgSize.height}`);\n    }\n\n    setUri(url: string): string {\n        (this.canvas.getContext('2d') as CanvasRenderingContext2D).drawImage(this.img, 0, 0);\n\n        URL.revokeObjectURL(url);\n\n        let uri: string;\n        if (this.fileType !== FILE_TYPE.BMP) {\n            uri = this.canvas.toDataURL('image/' + this.fileType).replace('image/' + this.fileType, 'octet/stream');\n        } else {\n            uri = this.canvasToBMP.toDataURL(this.canvas);\n        }\n        this.renderer.setAttribute(this.anchor, HTML_ATTRIBUTE.href, uri);\n        return uri;\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\nimport { Coords2D } from 'src/classes/Coords2D';\nimport { SVG_NS } from 'src/constants/constants';\nimport { HTML_ATTRIBUTE, TOOL_NAME, TRACE_TYPE } from 'src/constants/tool-constants';\nimport { BFSHelper } from '../../../../classes/BFSHelper';\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\nimport { ModalManagerService } from '../../modal-manager/modal-manager.service';\nimport { AbstractToolService } from '../abstract-tools/abstract-tool.service';\nimport { AttributesManagerService } from '../attributes-manager/attributes-manager.service';\nimport { ColorToolService } from '../color-tool/color-tool.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class FillToolService extends AbstractToolService {\n    attributesManagerService: AttributesManagerService;\n    canvas: HTMLCanvasElement;\n    context2D: CanvasRenderingContext2D;\n    SVGImg: HTMLImageElement;\n\n    elementRef: ElementRef<SVGElement>;\n    renderer: Renderer2;\n    drawStack: DrawStackService;\n\n    bfsHelper: BFSHelper;\n    currentMouseCoords: Coords2D = new Coords2D(0, 0);\n    svgWrap: SVGGElement;\n\n    traceType = TRACE_TYPE.Full;\n    strokeWidth: number;\n    strokeColor: string;\n    fillColor: string;\n    mouseDown: boolean;\n\n    constructor(private modalManagerService: ModalManagerService, private colorToolService: ColorToolService) {\n        super();\n        this.colorToolService.primaryColor.subscribe((fillColor: string) => {\n            this.fillColor = '#' + fillColor;\n        });\n        this.colorToolService.secondaryColor.subscribe((strokeColor: string) => {\n            this.strokeColor = '#' + strokeColor;\n        });\n    }\n\n    initializeService(elementRef: ElementRef<SVGElement>, renderer: Renderer2, drawStack: DrawStackService) {\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.drawStack = drawStack;\n\n        this.canvas = this.renderer.createElement('canvas');\n        this.SVGImg = this.renderer.createElement('img');\n        this.context2D = this.canvas.getContext('2d') as CanvasRenderingContext2D;\n    }\n\n    initializeAttributesManagerService(attributesManagerService: AttributesManagerService): void {\n        this.attributesManagerService = attributesManagerService;\n        this.attributesManagerService.thickness.subscribe((thickness: number) => {\n            this.strokeWidth = thickness;\n        });\n        this.attributesManagerService.traceType.subscribe((traceType: TRACE_TYPE) => {\n            this.traceType = traceType;\n        });\n    }\n\n    shouldNotFill(event: MouseEvent): boolean {\n        return (\n            !this.isMouseInRef(event, this.elementRef) ||\n            this.modalManagerService.modalIsDisplayed.value ||\n            !this.mouseDown\n        );\n    }\n\n    onMouseDown(event: MouseEvent): void {\n        if (this.isMouseInRef(event, this.elementRef)) {\n            this.updateCanvas();\n            this.mouseDown = true;\n        }\n    }\n    onMouseUp(event: MouseEvent): void {\n        if (this.shouldNotFill(event)) {\n            return;\n        }\n        this.updateCanvas();\n        this.updateMousePosition(event);\n\n        this.createBFSHelper();\n        this.bfsHelper.computeBFS(this.currentMouseCoords);\n\n        this.fill();\n\n        this.drawStack.push(this.svgWrap);\n        this.mouseDown = false;\n    }\n\n    createBFSHelper(): void {\n        this.bfsHelper = new BFSHelper(\n            this.canvas.width,\n            this.canvas.height,\n            this.context2D,\n            this.attributesManagerService,\n        );\n    }\n\n    updateMousePosition(event: MouseEvent): void {\n        this.currentMouseCoords.x = event.clientX - this.elementRef.nativeElement.getBoundingClientRect().left;\n        this.currentMouseCoords.y = event.clientY - this.elementRef.nativeElement.getBoundingClientRect().top;\n    }\n\n    fill(): void {\n        this.createSVGWrapper();\n        const d: string = this.createFillPath();\n\n        switch (this.traceType) {\n            case TRACE_TYPE.Outline: {\n                const bodyWrap: SVGGElement = this.fillBody(d);\n                this.renderer.setAttribute(bodyWrap, HTML_ATTRIBUTE.fill, 'none');\n                this.renderer.setAttribute(bodyWrap, HTML_ATTRIBUTE.stroke, 'none');\n                this.renderer.setAttribute(bodyWrap, HTML_ATTRIBUTE.title, '');\n                this.fillStroke(d, bodyWrap);\n                break;\n            }\n            case TRACE_TYPE.Full: {\n                this.fillBody(d);\n                break;\n            }\n            case TRACE_TYPE.Both: {\n                const bodyWrap: SVGGElement = this.fillBody(d);\n                this.fillStroke(d, bodyWrap);\n                break;\n            }\n        }\n\n        this.renderer.appendChild(this.elementRef.nativeElement, this.svgWrap);\n    }\n\n    fillBody(d: string): SVGGElement {\n        const bodyWrap: SVGGElement = this.renderer.createElement('g', SVG_NS);\n        this.renderer.setAttribute(bodyWrap, HTML_ATTRIBUTE.fill, this.fillColor);\n        this.renderer.setAttribute(bodyWrap, HTML_ATTRIBUTE.stroke, this.fillColor);\n        this.renderer.setAttribute(bodyWrap, HTML_ATTRIBUTE.stroke_width, '1');\n        this.renderer.setAttribute(bodyWrap, HTML_ATTRIBUTE.title, 'body');\n\n        const path: SVGPathElement = this.renderer.createElement('path', SVG_NS);\n        this.renderer.setAttribute(path, 'd', d);\n        this.renderer.setAttribute(path, 'fill-rule', 'evenodd');\n        this.renderer.setAttribute(path, HTML_ATTRIBUTE.stroke_linejoin, 'round');\n        this.renderer.setAttribute(path, HTML_ATTRIBUTE.stroke_linecap, 'round');\n\n        this.renderer.appendChild(bodyWrap, path);\n        this.renderer.appendChild(this.svgWrap, bodyWrap);\n        return bodyWrap;\n    }\n    fillStroke(d: string, bodyWrap: SVGGElement): void {\n        const id: string = Date.now().toString();\n        this.appendMask(d, bodyWrap.cloneNode(true) as SVGGElement, id);\n\n        const strokeWrap: SVGGElement = this.renderer.createElement('g', SVG_NS);\n        this.renderer.setAttribute(strokeWrap, 'mask', `url(#${id})`);\n        this.renderer.setAttribute(strokeWrap, HTML_ATTRIBUTE.title, 'stroke');\n        this.renderer.setAttribute(strokeWrap, HTML_ATTRIBUTE.fill, 'none');\n        this.renderer.setAttribute(strokeWrap, HTML_ATTRIBUTE.stroke, this.strokeColor);\n        this.renderer.setAttribute(strokeWrap, HTML_ATTRIBUTE.stroke_width, (this.strokeWidth * 2).toString());\n\n        const path: SVGPathElement = this.renderer.createElement('path', SVG_NS);\n        this.renderer.setAttribute(path, 'd', d);\n        this.renderer.setAttribute(path, 'fill-rule', 'evenodd');\n        this.renderer.setAttribute(path, HTML_ATTRIBUTE.stroke_linejoin, 'round');\n        this.renderer.setAttribute(path, HTML_ATTRIBUTE.stroke_linecap, 'round');\n\n        this.renderer.appendChild(strokeWrap, path);\n        this.renderer.appendChild(this.svgWrap, strokeWrap);\n    }\n    appendMask(d: string, bodyWrap: SVGGElement, id: string): void {\n        const mask: SVGMaskElement = this.renderer.createElement('mask', SVG_NS);\n        this.renderer.setAttribute(bodyWrap, HTML_ATTRIBUTE.stroke, 'white');\n        this.renderer.setAttribute(bodyWrap, HTML_ATTRIBUTE.fill, 'white');\n        this.renderer.setAttribute(mask, 'id', id);\n        this.renderer.appendChild(mask, bodyWrap);\n        this.renderer.appendChild(this.svgWrap, mask);\n    }\n\n    createFillPath(): string {\n        let d = '';\n        this.bfsHelper.pathsToFill.forEach((el) => {\n            el.forEach((pixel: Coords2D, i: number) => {\n                d += i === 0 ? ` M${pixel.x + 0.5} ${pixel.y + 0.5}` : ` L${pixel.x + 0.5} ${pixel.y + 0.5}`;\n            });\n            d += ' z';\n        });\n        return d;\n    }\n\n    updateCanvas(): void {\n        const serializedSVG = new XMLSerializer().serializeToString(this.elementRef.nativeElement);\n        this.renderer.setProperty(this.SVGImg, 'src', 'data:image/svg+xml,' + encodeURIComponent(serializedSVG));\n        this.renderer.setProperty(\n            this.canvas,\n            HTML_ATTRIBUTE.width,\n            this.elementRef.nativeElement.getBoundingClientRect().width,\n        );\n        this.renderer.setProperty(\n            this.canvas,\n            HTML_ATTRIBUTE.height,\n            this.elementRef.nativeElement.getBoundingClientRect().height,\n        );\n        this.context2D = this.canvas.getContext('2d') as CanvasRenderingContext2D;\n        this.context2D.drawImage(this.SVGImg, 0, 0);\n    }\n\n    createSVGWrapper(): void {\n        const wrap: SVGGElement = this.renderer.createElement('g', SVG_NS);\n        this.renderer.setAttribute(wrap, HTML_ATTRIBUTE.title, TOOL_NAME.Fill);\n        this.svgWrap = wrap;\n    }\n\n    // tslint:disable-next-line: no-empty\n    onMouseMove(event: MouseEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onMouseEnter(event: MouseEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onMouseLeave(event: MouseEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onKeyDown(event: KeyboardEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onKeyUp(event: KeyboardEvent): void {}\n    // tslint:disable-next-line: no-empty\n    cleanUp(): void {}\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { GRID_OPACITY, GRID_SIZE, GRID_SIZE_DECREMENT, GRID_SIZE_INCREMENT } from 'src/constants/tool-constants';\nimport { DrawingLoaderService } from '../../server/drawing-loader/drawing-loader.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class GridToolService {\n    constructor(private drawingLoaderService: DrawingLoaderService) {}\n\n    state: BehaviorSubject<boolean> = new BehaviorSubject(false);\n    size: BehaviorSubject<number> = new BehaviorSubject(GRID_SIZE.Default);\n    opacity: BehaviorSubject<number> = new BehaviorSubject(GRID_OPACITY.Max);\n\n    currentState: Observable<boolean> = this.state.asObservable();\n    currentSize: Observable<number> = this.size.asObservable();\n    currentOpacity: Observable<number> = this.opacity.asObservable();\n\n    changeState(state: boolean): void {\n        if (!this.drawingLoaderService.untouchedWorkZone.value) {\n            this.state.next(state);\n        }\n    }\n\n    switchState(): void {\n        this.state.value ? this.changeState(false) : this.changeState(true);\n    }\n\n    changeSize(size: number): void {\n        this.size.next(size);\n    }\n\n    incrementSize(): void {\n        const gridSize = this.size.value;\n        if (this.size.value + GRID_SIZE_INCREMENT <= GRID_SIZE.Max) {\n            this.changeSize(gridSize + GRID_SIZE_INCREMENT);\n        } else {\n            this.changeSize(GRID_SIZE.Max);\n        }\n    }\n\n    decrementSize(): void {\n        const gridSize = this.size.value;\n        if (gridSize - GRID_SIZE_DECREMENT >= GRID_SIZE.Min) {\n            this.changeSize(gridSize - GRID_SIZE_DECREMENT);\n        } else {\n            this.changeSize(GRID_SIZE.Min);\n        }\n    }\n\n    changeOpacity(opacity: number): void {\n        this.opacity.next(opacity);\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\nimport { KEYS, MOUSE, SVG_NS } from 'src/constants/constants';\nimport { HTML_ATTRIBUTE, LINE_JOINT_TYPE, LINE_STROKE_TYPE, TOOL_NAME } from 'src/constants/tool-constants';\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\nimport { AbstractToolService } from '../abstract-tools/abstract-tool.service';\nimport { AttributesManagerService } from '../attributes-manager/attributes-manager.service';\nimport { ColorToolService } from '../color-tool/color-tool.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class LineToolService extends AbstractToolService {\n    attributesManagerService: AttributesManagerService;\n\n    currentColorAndOpacity = '';\n    currentColor = '';\n    currentOpacity = '';\n    currentStrokeWidth = 0;\n    circleJointDiameter = 0;\n\n    currentStrokeType = LINE_STROKE_TYPE.Continuous;\n    currentJointType = LINE_JOINT_TYPE.Curvy;\n\n    pointsArray = new Array();\n    jointCircles = new Array();\n\n    currentMousePosition = '';\n\n    shouldCloseLine = false;\n    isDrawing = false;\n    isLineInStack = false;\n    isMouseDown = false;\n\n    gWrap: SVGGElement;\n    currentLine: SVGPolylineElement;\n\n    elementRef: ElementRef<SVGElement>;\n    renderer: Renderer2;\n    drawStack: DrawStackService;\n\n    constructor(private colorToolService: ColorToolService) {\n        super();\n        this.colorToolService.primaryColor.subscribe((currentColor: string) => {\n            this.currentColorAndOpacity = currentColor;\n        });\n    }\n\n    getXPos = (clientX: number) => clientX - this.elementRef.nativeElement.getBoundingClientRect().left;\n    getYPos = (clientY: number) => clientY - this.elementRef.nativeElement.getBoundingClientRect().top;\n\n    initializeService(elementRef: ElementRef<SVGElement>, renderer: Renderer2, drawStack: DrawStackService) {\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.drawStack = drawStack;\n    }\n\n    initializeAttributesManagerService(attributesManagerService: AttributesManagerService) {\n        this.attributesManagerService = attributesManagerService;\n        this.attributesManagerService.thickness.subscribe((thickness) => {\n            this.currentStrokeWidth = thickness;\n        });\n        this.attributesManagerService.lineStrokeType.subscribe((strokeType) => {\n            this.currentStrokeType = strokeType;\n        });\n        this.attributesManagerService.lineJointType.subscribe((jointType) => {\n            this.currentJointType = jointType;\n        });\n        this.attributesManagerService.circleJointDiameter.subscribe((circleJointDiameter) => {\n            this.circleJointDiameter = circleJointDiameter;\n        });\n    }\n\n    getColorAndOpacity(): void {\n        this.currentColor = this.currentColorAndOpacity.slice(0, 6);\n        this.currentOpacity = (parseInt(this.currentColorAndOpacity.slice(-2), 16) / 255).toFixed(1).toString();\n    }\n\n    onMouseDown(event: MouseEvent): void {\n        if (event.button === MOUSE.LeftButton) {\n            this.getColorAndOpacity();\n            const x = this.getXPos(event.clientX);\n            const y = this.getYPos(event.clientY);\n            if (!this.isDrawing) {\n                this.isDrawing = true;\n                this.startLine(x, y);\n            } else {\n                this.appendLine(x, y);\n            }\n            if (this.currentJointType === LINE_JOINT_TYPE.Circle) {\n                this.appendCircle(x, y);\n            }\n        }\n        this.isMouseDown = true;\n    }\n\n    onMouseUp(event: MouseEvent): void {\n        this.isMouseDown = false;\n    }\n\n    onMouseMove(event: MouseEvent): void {\n        if (this.isDrawing && !this.isMouseDown) {\n            this.previewLine(this.getXPos(event.clientX), this.getYPos(event.clientY));\n        }\n    }\n\n    onKeyDown(event: KeyboardEvent): void {\n        if (event.key === KEYS.Shift) {\n            this.shouldCloseLine = true;\n        } else if (event.key === KEYS.Escape) {\n            this.isDrawing = false;\n            this.renderer.removeChild(this.elementRef, this.gWrap);\n            this.currentMousePosition = '';\n            this.pointsArray = new Array();\n        } else if (event.key === KEYS.Backspace) {\n            if (this.pointsArray.length > 1) {\n                this.pointsArray.pop();\n                this.renderer.setAttribute(\n                    this.currentLine,\n                    HTML_ATTRIBUTE.points,\n                    `${this.arrayToStringLine()} ${this.currentMousePosition}`,\n                );\n\n                if (this.currentJointType === LINE_JOINT_TYPE.Circle) {\n                    const circle = this.jointCircles.pop();\n                    this.renderer.removeChild(this.gWrap, circle);\n                }\n            }\n        }\n    }\n\n    onKeyUp(event: KeyboardEvent): void {\n        if (event.key === KEYS.Shift) {\n            this.shouldCloseLine = false;\n        }\n    }\n\n    onDblClick(event: MouseEvent): void {\n        if (this.isDrawing) {\n            this.isDrawing = false;\n\n            if (this.shouldCloseLine && this.pointsArray.length > 3) {\n                this.pointsArray.push(this.pointsArray[0]);\n                this.renderer.setAttribute(this.currentLine, HTML_ATTRIBUTE.points, this.arrayToStringLine());\n            }\n\n            this.drawStack.push(this.gWrap);\n            this.isLineInStack = true;\n            this.pointsArray = new Array();\n            this.currentMousePosition = '';\n            this.gWrap = this.renderer.createElement('g', SVG_NS);\n        }\n    }\n\n    startLine(x: number, y: number): void {\n        this.gWrap = this.renderer.createElement('g', SVG_NS);\n        this.renderer.setAttribute(this.gWrap, HTML_ATTRIBUTE.title, TOOL_NAME.Line);\n        this.currentLine = this.renderer.createElement('polyline', SVG_NS);\n\n        this.isLineInStack = false;\n\n        this.pointsArray.push(`${x.toString()},${y.toString()}`);\n\n        this.renderer.setAttribute(this.currentLine, HTML_ATTRIBUTE.points, this.arrayToStringLine());\n        this.renderer.setAttribute(this.currentLine, HTML_ATTRIBUTE.fill, 'none');\n        this.renderer.setAttribute(this.currentLine, HTML_ATTRIBUTE.stroke_width, this.currentStrokeWidth.toString());\n\n        this.renderer.setAttribute(this.gWrap, HTML_ATTRIBUTE.stroke, `#${this.currentColor}`);\n        this.renderer.setAttribute(this.gWrap, HTML_ATTRIBUTE.fill, `#${this.currentColor}`);\n        this.renderer.setAttribute(this.gWrap, HTML_ATTRIBUTE.opacity, this.currentOpacity);\n\n        switch (this.currentStrokeType) {\n            case LINE_STROKE_TYPE.Dotted_line:\n                this.renderer.setAttribute(\n                    this.currentLine,\n                    HTML_ATTRIBUTE.stroke_dasharray,\n                    `${this.currentStrokeWidth}, ${this.currentStrokeWidth / 2}`,\n                );\n                break;\n            case LINE_STROKE_TYPE.Dotted_circle:\n                this.renderer.setAttribute(\n                    this.currentLine,\n                    HTML_ATTRIBUTE.stroke_dasharray,\n                    `1, ${this.currentStrokeWidth * 1.5}`,\n                );\n                this.renderer.setAttribute(this.currentLine, 'stroke-linecap', 'round');\n                break;\n        }\n\n        switch (this.currentJointType) {\n            case LINE_JOINT_TYPE.Curvy:\n            case LINE_JOINT_TYPE.Circle:\n                this.renderer.setAttribute(this.currentLine, HTML_ATTRIBUTE.stroke_linejoin, 'round');\n                break;\n        }\n\n        this.renderer.appendChild(this.gWrap, this.currentLine);\n        this.renderer.appendChild(this.elementRef.nativeElement, this.gWrap);\n    }\n\n    previewLine(x: number, y: number): void {\n        this.currentMousePosition = `${x.toString()},${y.toString()}`;\n        this.renderer.setAttribute(\n            this.currentLine,\n            HTML_ATTRIBUTE.points,\n            `${this.arrayToStringLine()} ${this.currentMousePosition}`,\n        );\n    }\n\n    appendLine(x: number, y: number): void {\n        this.pointsArray.push(` ${x.toString()},${y.toString()}`);\n        this.renderer.setAttribute(this.currentLine, HTML_ATTRIBUTE.points, `${this.arrayToStringLine()}`);\n    }\n\n    appendCircle(x: number, y: number): void {\n        const circle = this.renderer.createElement('circle', SVG_NS);\n\n        this.renderer.setAttribute(circle, HTML_ATTRIBUTE.cx, x.toString());\n        this.renderer.setAttribute(circle, HTML_ATTRIBUTE.cy, y.toString());\n        this.renderer.setAttribute(circle, 'r', (this.circleJointDiameter / 2).toString());\n\n        this.renderer.appendChild(this.gWrap, circle);\n\n        this.jointCircles.push(circle);\n    }\n\n    arrayToStringLine(): string {\n        return this.pointsArray.join(' ');\n    }\n\n    cleanUp(): void {\n        if (!this.isLineInStack && this.gWrap !== undefined) {\n            this.renderer.removeChild(this.elementRef, this.gWrap);\n            this.pointsArray = new Array();\n        }\n        this.isDrawing = false;\n    }\n\n    // tslint:disable-next-line: no-empty\n    onMouseEnter(event: MouseEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onMouseLeave(event: MouseEvent): void {}\n}\n","import { Injectable } from '@angular/core';\nimport { MatSnackBar } from '@angular/material';\n\nimport { BehaviorSubject } from 'rxjs';\nimport { Coords2D } from 'src/classes/Coords2D';\nimport { Selection } from 'src/classes/selection/selection';\nimport { CONTROL_POINTS, GRID_SIZE, MAGNETISM_STATE, SNACKBAR_DURATION } from 'src/constants/tool-constants';\nimport { DrawingLoaderService } from '../../server/drawing-loader/drawing-loader.service';\nimport { GridToolService } from '../grid-tool/grid-tool.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class MagnetismToolService {\n    currentPoint: CONTROL_POINTS;\n    currentPointPosition: Coords2D;\n    currentGridSize: number;\n\n    totalDeltaX = 0;\n    totalDeltaY = 0;\n    alignX = 0;\n    alignY = 0;\n\n    selection: Selection;\n\n    isMagnetic: BehaviorSubject<boolean> = new BehaviorSubject(false);\n\n    constructor(\n        private gridToolService: GridToolService,\n        public drawingLoaderService: DrawingLoaderService,\n        private snackBar: MatSnackBar,\n    ) {\n        this.currentPoint = CONTROL_POINTS.TopLeft;\n        this.currentPointPosition = new Coords2D(0, 0);\n        this.currentGridSize = GRID_SIZE.Default;\n\n        this.gridToolService.size.subscribe((size: number) => {\n            this.currentGridSize = size;\n        });\n    }\n\n    initializeService(selection: Selection) {\n        this.selection = selection;\n    }\n\n    updateControlPointPosition(): void {\n        if (this.currentPoint === CONTROL_POINTS.CenterMiddle) {\n            const selectionBox: SVGRectElement = this.selection.selectionBox;\n            const x = selectionBox.x.baseVal.value + selectionBox.width.baseVal.value / 2;\n            const y = selectionBox.y.baseVal.value + selectionBox.height.baseVal.value / 2;\n            this.currentPointPosition.x = x;\n            this.currentPointPosition.y = y;\n        } else {\n            const x = this.selection.controlPoints[this.currentPoint].cx.baseVal.value;\n            const y = this.selection.controlPoints[this.currentPoint].cy.baseVal.value;\n            this.currentPointPosition.x = x;\n            this.currentPointPosition.y = y;\n        }\n    }\n\n    changeState(state: boolean): void {\n        if (!this.drawingLoaderService.untouchedWorkZone.value) {\n            this.isMagnetic.next(state);\n        }\n    }\n\n    switchState(): void {\n        this.isMagnetic.value ? this.changeState(false) : this.changeState(true);\n        const stateTranslation = this.isMagnetic.value ? MAGNETISM_STATE.active : MAGNETISM_STATE.inactive;\n        this.snackBar.open(`Le magnétisme est ${stateTranslation}`, '', {\n            duration: SNACKBAR_DURATION,\n        });\n    }\n\n    magnetizeXY(deltaX: number, deltaY: number): Coords2D {\n        this.updateControlPointPosition();\n\n        const magnetizedCoords = new Coords2D(0, 0);\n\n        const remainderX = this.currentPointPosition.x % this.currentGridSize;\n        const remainderY = this.currentPointPosition.y % this.currentGridSize;\n\n        this.alignX = remainderX < this.currentGridSize / 2 ? -remainderX : this.currentGridSize - remainderX;\n        this.alignY = remainderY < this.currentGridSize / 2 ? -remainderY : this.currentGridSize - remainderY;\n\n        magnetizedCoords.x = this.magnetizeX(deltaX);\n        magnetizedCoords.y = this.magnetizeY(deltaY);\n\n        return magnetizedCoords;\n    }\n\n    magnetizeX(deltaX: number): number {\n        this.totalDeltaX += deltaX;\n\n        if (Math.round(this.alignX) !== 0) {\n            return this.alignX;\n        }\n\n        if (Math.abs(this.totalDeltaX) < this.currentGridSize) {\n            return 0;\n        } else {\n            const oldTotalDeltaX = this.totalDeltaX;\n\n            const multipierX = Math.abs(Math.floor(this.totalDeltaX / this.currentGridSize));\n\n            this.totalDeltaX =\n                this.totalDeltaX < 0\n                    ? this.totalDeltaX + this.currentGridSize * multipierX\n                    : this.totalDeltaX - this.currentGridSize * multipierX;\n\n            return oldTotalDeltaX > 0 ? this.currentGridSize * multipierX : -this.currentGridSize * multipierX;\n        }\n    }\n\n    magnetizeY(deltaY: number): number {\n        this.totalDeltaY += deltaY;\n\n        if (Math.round(this.alignY) !== 0) {\n            return this.alignY;\n        }\n\n        if (Math.abs(this.totalDeltaY) < this.currentGridSize) {\n            return 0;\n        } else {\n            const oldTotalDeltaY = this.totalDeltaY;\n\n            const multipierY = Math.abs(Math.floor(this.totalDeltaY / this.currentGridSize));\n\n            this.totalDeltaY =\n                this.totalDeltaY < 0\n                    ? this.totalDeltaY + this.currentGridSize * multipierY\n                    : this.totalDeltaY - this.currentGridSize * multipierY;\n\n            return oldTotalDeltaY > 0 ? this.currentGridSize * multipierY : -this.currentGridSize * multipierY;\n        }\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\nimport { PEN_WIDTH_FACTOR } from 'src/constants/tool-constants';\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\nimport { TracingToolService } from '../abstract-tools/tracing-tool/tracing-tool.service';\nimport { AttributesManagerService } from '../attributes-manager/attributes-manager.service';\nimport { ColorToolService } from '../color-tool/color-tool.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class PenToolService extends TracingToolService {\n    oldTimeStamp = -1;\n    lastMouseX: number;\n    lastMouseY: number;\n    speedX: number;\n    oldSpeedX = 0;\n    oldSpeedY = 0;\n    speedY: number;\n    maxThickness: number;\n    minThickness: number;\n\n    constructor(private colorToolService: ColorToolService) {\n        super();\n        this.colorToolService.primaryColor.subscribe((currentColor: string) => {\n            this.currentColorAndOpacity = currentColor;\n        });\n    }\n\n    initializeService(elementRef: ElementRef<SVGElement>, renderer: Renderer2, drawStack: DrawStackService) {\n        super.initializeService(elementRef, renderer, drawStack);\n    }\n\n    createSVGCircle(x: number, y: number): SVGCircleElement {\n        const circle = super.createSVGCircle(x, y);\n        return circle;\n    }\n\n    initializeAttributesManagerService(attributesManagerService: AttributesManagerService) {\n        this.attributesManagerService = attributesManagerService;\n        this.attributesManagerService.thickness.subscribe((thickness) => {\n            this.maxThickness = thickness;\n            this.currentWidth = thickness;\n        });\n        this.attributesManagerService.minThickness.subscribe((thickness) => {\n            this.minThickness = thickness;\n        });\n    }\n\n    onMouseMove(e: MouseEvent): void {\n        super.onMouseMove(e);\n        this.calculateSpeed(e);\n\n        if (this.isDrawing) {\n            const x = this.getXPos(e.clientX);\n            const y = this.getYPos(e.clientY);\n            this.currentPath = `M${x} ${y}`;\n            this.createSVGPath();\n        }\n        this.oldSpeedX = this.speedX;\n        this.oldSpeedY = this.speedY;\n        return;\n    }\n\n    calculateSpeed(e: MouseEvent): void {\n        if (this.oldTimeStamp === -1) {\n            this.speedX = 0;\n            this.speedY = 0;\n            this.oldTimeStamp = Date.now();\n            this.lastMouseX = e.screenX;\n            this.lastMouseY = e.screenY;\n            return;\n        }\n\n        const now = Date.now();\n        const dt = now - this.oldTimeStamp;\n        const dx = e.screenX - this.lastMouseX;\n        const dy = e.screenY - this.lastMouseY;\n\n        this.speedX = Math.abs(Math.round(dx / dt));\n        this.speedY = Math.abs(Math.round(dy / dt));\n        this.oldTimeStamp = now;\n        this.lastMouseX = e.screenX;\n        this.lastMouseY = e.screenY;\n\n        const totalSpeed = this.speedX + this.speedY > PEN_WIDTH_FACTOR ? PEN_WIDTH_FACTOR : this.speedX + this.speedY;\n        const targetWidth =\n            (this.maxThickness - this.minThickness) * (1 - totalSpeed / PEN_WIDTH_FACTOR) + this.minThickness;\n        this.currentWidth += (targetWidth - this.currentWidth) / (2 * PEN_WIDTH_FACTOR);\n        if (Number.isNaN(this.currentWidth)) {\n            this.currentWidth = (this.maxThickness + this.minThickness) / 2;\n        }\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\nimport { TracingToolService } from '../abstract-tools/tracing-tool/tracing-tool.service';\nimport { ColorToolService } from '../color-tool/color-tool.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class PencilToolService extends TracingToolService {\n    constructor(private colorToolService: ColorToolService) {\n        super();\n        this.colorToolService.primaryColor.subscribe((currentColor: string) => {\n            this.currentColorAndOpacity = currentColor;\n        });\n    }\n\n    initializeService(elementRef: ElementRef<SVGElement>, renderer: Renderer2, drawStack: DrawStackService) {\n        super.initializeService(elementRef, renderer, drawStack);\n    }\n\n    createSVGCircle(x: number, y: number): SVGCircleElement {\n        const circle = super.createSVGCircle(x, y);\n        return circle;\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\nimport { Coords2D } from 'src/classes/Coords2D';\nimport { MOUSE, SVG_NS } from 'src/constants/constants';\nimport {\n    HTML_ATTRIBUTE,\n    POLYGON_OFFSET_ANGLES,\n    POLYGON_RADIUS_CORRECTION,\n    TOOL_NAME,\n    TRACE_TYPE,\n} from 'src/constants/tool-constants';\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\nimport { AbstractShapeToolService } from '../abstract-tools/abstract-shape-tool/abstract-shape-tool.service';\nimport { AttributesManagerService } from '../attributes-manager/attributes-manager.service';\nimport { ColorToolService } from '../color-tool/color-tool.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class PolygonToolService extends AbstractShapeToolService {\n    drawPolygon: SVGPolygonElement;\n    fillColor = '';\n    strokeColor = '';\n    userFillColor = '';\n    userStrokeColor = '';\n    userStrokeWidth = 0;\n    traceType = '';\n    strokeWidth = 0;\n    nbVertices = 3;\n    attributesManagerService: AttributesManagerService;\n    radius = 0;\n    radiusCorrection = 0;\n\n    constructor(private colorToolService: ColorToolService) {\n        super();\n        this.colorToolService.primaryColor.subscribe((fillColor: string) => {\n            this.fillColor = fillColor;\n            this.updateTraceType(this.traceType);\n        });\n        this.colorToolService.secondaryColor.subscribe((strokeColor: string) => {\n            this.strokeColor = strokeColor;\n            this.updateTraceType(this.traceType);\n        });\n    }\n\n    initializeService(elementRef: ElementRef<SVGElement>, renderer: Renderer2, drawStack: DrawStackService) {\n        super.initializeService(elementRef, renderer, drawStack);\n        this.drawPolygon = this.renderer.createElement('polygon', SVG_NS);\n    }\n\n    initializeAttributesManagerService(attributesManagerService: AttributesManagerService) {\n        this.attributesManagerService = attributesManagerService;\n        this.attributesManagerService.thickness.subscribe((thickness: number) => {\n            this.strokeWidth = thickness;\n            this.updateTraceType(this.traceType);\n        });\n        this.attributesManagerService.traceType.subscribe((traceType: string) => {\n            this.updateTraceType(traceType);\n        });\n        this.attributesManagerService.nbVertices.subscribe((nbVertices: number) => {\n            this.nbVertices = nbVertices;\n        });\n    }\n\n    setRadiusCorrection() {\n        const correction: number = POLYGON_RADIUS_CORRECTION.get(this.nbVertices) as number;\n        this.radiusCorrection = this.radius * correction;\n    }\n\n    isValidPolygon(): boolean {\n        const isValidHeight = this.previewRectangleHeight >= 2 * this.userStrokeWidth;\n        const isValidWidth = this.previewRectangleWidth >= 2 * this.userStrokeWidth;\n\n        return isValidWidth && isValidHeight && (this.previewRectangleWidth > 0 || this.previewRectangleHeight > 0);\n    }\n\n    makeInvalidPolygon(): void {\n        this.renderer.setAttribute(this.previewRectangle, HTML_ATTRIBUTE.width, '0');\n        this.renderer.setAttribute(this.previewRectangle, HTML_ATTRIBUTE.height, '0');\n    }\n\n    calculateVertex(n: number): Coords2D {\n        const r = this.radius;\n        const deltaX = this.currentMouseCoords.x - this.initialMouseCoords.x;\n        const deltaY = this.currentMouseCoords.y - this.initialMouseCoords.y;\n        let xValue;\n        let yValue;\n        const polygonOffsetAngles: number = POLYGON_OFFSET_ANGLES.get(this.nbVertices) as number;\n\n        const cos =\n            (r + this.radiusCorrection - this.strokeWidth / 2) *\n            Math.cos((2 * Math.PI * n) / this.nbVertices - polygonOffsetAngles);\n        if (deltaX > 0) {\n            xValue = cos + this.initialMouseCoords.x + r;\n        } else {\n            xValue = cos + this.initialMouseCoords.x - r;\n        }\n\n        const sin =\n            (r + this.radiusCorrection - this.strokeWidth / 2) *\n            Math.sin((2 * Math.PI * n) / this.nbVertices - polygonOffsetAngles);\n        const nbVerticesIsEven = this.nbVertices % 2 === 0;\n        if (deltaY > 0) {\n            yValue = sin + this.initialMouseCoords.y + (r + (nbVerticesIsEven ? 0 : this.radiusCorrection));\n        } else {\n            yValue = sin + this.initialMouseCoords.y - (r - (nbVerticesIsEven ? 0 : this.radiusCorrection));\n        }\n\n        return new Coords2D(xValue, yValue);\n    }\n\n    copyPreviewRectangleAttributes(drawPolygon: SVGPolygonElement = this.drawPolygon): void {\n        let vertices = '';\n        for (let n = 1; n <= this.nbVertices; n++) {\n            const vertex: Coords2D = this.calculateVertex(n);\n            vertices += vertex.x + ',' + vertex.y + ' ';\n        }\n\n        this.renderer.setAttribute(drawPolygon, HTML_ATTRIBUTE.points, vertices);\n    }\n\n    updatePreviewRectangle() {\n        const deltaX = this.currentMouseCoords.x - this.initialMouseCoords.x;\n        const deltaY = this.currentMouseCoords.y - this.initialMouseCoords.y;\n        const minLength = Math.min(Math.abs(deltaX), Math.abs(deltaY));\n\n        this.radius = minLength / 2;\n        this.setRadiusCorrection();\n\n        if (deltaX < 0) {\n            this.renderer.setAttribute(this.previewRectangle, 'x', (this.initialMouseCoords.x - minLength).toString());\n            this.renderer.setAttribute(this.previewRectangle, HTML_ATTRIBUTE.width, minLength.toString());\n        } else {\n            this.renderer.setAttribute(this.previewRectangle, 'x', this.initialMouseCoords.x.toString());\n            this.renderer.setAttribute(this.previewRectangle, HTML_ATTRIBUTE.width, minLength.toString());\n        }\n\n        if (deltaY < 0) {\n            this.renderer.setAttribute(this.previewRectangle, 'y', (this.initialMouseCoords.y - minLength).toString());\n            this.renderer.setAttribute(this.previewRectangle, HTML_ATTRIBUTE.height, minLength.toString());\n        } else {\n            this.renderer.setAttribute(this.previewRectangle, 'y', this.initialMouseCoords.y.toString());\n            this.renderer.setAttribute(this.previewRectangle, HTML_ATTRIBUTE.height, minLength.toString());\n        }\n\n        this.renderer.setAttribute(this.previewRectangle, HTML_ATTRIBUTE.fill, 'white');\n        this.renderer.setAttribute(this.previewRectangle, 'fill-opacity', '0.3');\n        this.renderer.setAttribute(this.previewRectangle, HTML_ATTRIBUTE.stroke, 'black');\n        this.renderer.setAttribute(this.previewRectangle, HTML_ATTRIBUTE.stroke_dasharray, '5 5');\n    }\n\n    renderdrawPolygon(drawPolygon: SVGPolygonElement = this.drawPolygon): void {\n        if (this.isValidPolygon()) {\n            this.userFillColor === 'none'\n                ? this.renderer.setAttribute(drawPolygon, HTML_ATTRIBUTE.fill, this.userFillColor)\n                : this.renderer.setAttribute(drawPolygon, HTML_ATTRIBUTE.fill, '#' + this.userFillColor);\n            this.renderer.setAttribute(drawPolygon, HTML_ATTRIBUTE.stroke, '#' + this.userStrokeColor);\n            this.renderer.setAttribute(drawPolygon, HTML_ATTRIBUTE.stroke_width, this.userStrokeWidth.toString());\n            this.renderer.setAttribute(drawPolygon, HTML_ATTRIBUTE.stroke_linejoin, 'round');\n        } else {\n            this.renderer.setAttribute(drawPolygon, HTML_ATTRIBUTE.fill, 'none');\n            this.renderer.setAttribute(drawPolygon, HTML_ATTRIBUTE.stroke, 'none');\n            this.renderer.setAttribute(drawPolygon, HTML_ATTRIBUTE.stroke_width, '0');\n        }\n    }\n\n    createSVG(): void {\n        const el: SVGGElement = this.renderer.createElement('g', SVG_NS);\n        const drawPolygon: SVGPolygonElement = this.renderer.createElement('polygon', SVG_NS);\n        this.copyPreviewRectangleAttributes(drawPolygon);\n\n        this.renderer.setAttribute(el, HTML_ATTRIBUTE.title, TOOL_NAME.Polygon);\n        this.renderer.setAttribute(el, HTML_ATTRIBUTE.stroke_width, this.userStrokeWidth.toString());\n        this.renderer.setAttribute(el, HTML_ATTRIBUTE.stroke_linejoin, 'round');\n        this.renderer.setAttribute(el, HTML_ATTRIBUTE.stroke, '#' + this.userStrokeColor);\n        this.userFillColor === 'none'\n            ? this.renderer.setAttribute(el, HTML_ATTRIBUTE.fill, this.userFillColor)\n            : this.renderer.setAttribute(el, HTML_ATTRIBUTE.fill, '#' + this.userFillColor);\n\n        this.renderer.appendChild(el, drawPolygon);\n        this.renderer.appendChild(this.elementRef.nativeElement, el);\n\n        setTimeout(() => {\n            this.drawStack.push(el);\n        }, 0);\n    }\n\n    updateDrawing(): void {\n        this.updatePreviewRectangle();\n        this.copyPreviewRectangleAttributes();\n        this.renderdrawPolygon();\n    }\n\n    updateTraceType(traceType: string) {\n        this.traceType = traceType;\n        switch (traceType) {\n            case TRACE_TYPE.Outline: {\n                this.userFillColor = 'none';\n                this.userStrokeColor = this.strokeColor;\n                this.userStrokeWidth = this.strokeWidth;\n                break;\n            }\n            case TRACE_TYPE.Full: {\n                this.userFillColor = this.fillColor;\n                this.userStrokeColor = 'none';\n                this.userStrokeWidth = 0;\n                break;\n            }\n            case TRACE_TYPE.Both: {\n                this.userFillColor = this.fillColor;\n                this.userStrokeColor = this.strokeColor;\n                this.userStrokeWidth = this.strokeWidth;\n                break;\n            }\n        }\n    }\n\n    onMouseMove(event: MouseEvent): void {\n        this.currentMouseCoords.x = event.clientX - this.elementRef.nativeElement.getBoundingClientRect().left;\n        this.currentMouseCoords.y = event.clientY - this.elementRef.nativeElement.getBoundingClientRect().top;\n\n        if (this.isPreviewing) {\n            this.updateDrawing();\n        }\n    }\n\n    onMouseDown(event: MouseEvent): void {\n        const button = event.button;\n\n        if (button === MOUSE.LeftButton && this.isMouseInRef(event, this.elementRef)) {\n            this.initialMouseCoords.x = this.currentMouseCoords.x;\n            this.initialMouseCoords.y = this.currentMouseCoords.y;\n            this.isPreviewing = true;\n\n            this.updateDrawing();\n\n            this.renderer.appendChild(this.elementRef.nativeElement, this.drawPolygon);\n        }\n    }\n\n    onMouseUp(event: MouseEvent): void {\n        const button = event.button;\n        if (button === MOUSE.LeftButton && this.isMouseInRef(event, this.elementRef) && this.isValidPolygon()) {\n            this.createSVG();\n        }\n        this.cleanUp();\n    }\n\n    // tslint:disable-next-line: no-empty\n    onMouseEnter(event: MouseEvent): void {}\n\n    // tslint:disable-next-line: no-empty\n    onMouseLeave(event: MouseEvent): void {}\n\n    // tslint:disable-next-line: no-empty\n    onKeyDown(event: KeyboardEvent): void {}\n\n    // tslint:disable-next-line: no-empty\n    onKeyUp(event: KeyboardEvent): void {}\n\n    cleanUp(): void {\n        this.isPreviewing = false;\n        this.renderer.removeChild(this.elementRef, this.drawPolygon);\n        this.makeInvalidPolygon();\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\nimport { Coords2D } from 'src/classes/Coords2D';\nimport { Offset } from 'src/classes/Offset';\nimport { KEYS, MOUSE, SVG_NS } from 'src/constants/constants';\nimport { HTML_ATTRIBUTE, QUILL_STROKE_WIDTH, ROTATION_ANGLE } from 'src/constants/tool-constants';\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\nimport { TracingToolService } from '../abstract-tools/tracing-tool/tracing-tool.service';\nimport { AttributesManagerService } from '../attributes-manager/attributes-manager.service';\nimport { ColorToolService } from '../color-tool/color-tool.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class QuillToolService extends TracingToolService {\n    elementRef: ElementRef<SVGElement>;\n    renderer: Renderer2;\n    drawStack: DrawStackService;\n\n    gWrap: SVGGElement;\n\n    previousCoords: Coords2D[] = new Array<Coords2D>(2);\n    currentCoords: Coords2D[] = new Array<Coords2D>(2);\n\n    preview: SVGLineElement;\n    previewEnabled = false;\n\n    offsets: Offset[] = [\n        { x: 0, y: 0 },\n        { x: 0, y: 0 },\n    ];\n\n    thickness = 80;\n    angle = 80;\n    currentMousePosition: Coords2D = new Coords2D(0, 0);\n    counter = 0;\n    isAlterRotation: boolean;\n    isDrawing: boolean;\n\n    attributesManagerService: AttributesManagerService;\n\n    constructor(private colorToolService: ColorToolService) {\n        super();\n        this.colorToolService.primaryColor.subscribe((currentColor: string) => {\n            this.currentColorAndOpacity = currentColor;\n            this.setColorAndOpacity();\n        });\n    }\n\n    initializeService(elementRef: ElementRef<SVGElement>, renderer: Renderer2, drawStack: DrawStackService): void {\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.drawStack = drawStack;\n    }\n\n    initializeAttributesManagerService(attributeManagerService: AttributesManagerService) {\n        this.attributesManagerService = attributeManagerService;\n        this.attributesManagerService.thickness.subscribe((value) => {\n            this.thickness = value;\n            this.computeOffset();\n        });\n\n        this.attributesManagerService.angle.subscribe((value) => {\n            this.angle = value;\n            this.computeOffset();\n        });\n    }\n\n    onMouseEnter(event: MouseEvent): void {\n        this.appendPreview();\n    }\n\n    onMouseLeave(event: MouseEvent): void {\n        this.removePreview();\n    }\n\n    onMouseDown(event: MouseEvent): void {\n        if (event.button !== MOUSE.LeftButton) {\n            return;\n        }\n\n        this.isDrawing = true;\n        this.gWrap = this.renderer.createElement('g', SVG_NS);\n\n        this.previousCoords[0] = new Coords2D(\n            this.getXPos(event.clientX) + this.offsets[0].x,\n            this.getYPos(event.clientY) + this.offsets[0].y,\n        );\n\n        this.previousCoords[1] = new Coords2D(\n            this.getXPos(event.clientX) + this.offsets[1].x,\n            this.getYPos(event.clientY) + this.offsets[1].y,\n        );\n\n        this.setColorAndOpacity();\n\n        this.renderer.setAttribute(this.gWrap, HTML_ATTRIBUTE.stroke_width, QUILL_STROKE_WIDTH.initialValue);\n        this.renderer.setAttribute(this.gWrap, HTML_ATTRIBUTE.stroke, '#' + this.currentColor);\n        this.renderer.setAttribute(this.gWrap, HTML_ATTRIBUTE.fill, '#' + this.currentColor);\n        this.renderer.setAttribute(this.gWrap, HTML_ATTRIBUTE.opacity, this.currentOpacity);\n        this.renderer.appendChild(this.elementRef.nativeElement, this.gWrap);\n    }\n\n    appendPreview(): void {\n        this.previewEnabled = true;\n        this.preview = this.renderer.createElement('line', SVG_NS);\n        this.renderer.setAttribute(this.preview, HTML_ATTRIBUTE.title, 'element-to-remove');\n        this.renderer.setAttribute(this.preview, HTML_ATTRIBUTE.stroke_width, QUILL_STROKE_WIDTH.preview);\n        this.renderer.setAttribute(this.preview, HTML_ATTRIBUTE.stroke, '#' + this.currentColor);\n        this.renderer.appendChild(this.elementRef.nativeElement, this.preview);\n    }\n\n    removePreview(): void {\n        this.previewEnabled = false;\n        this.renderer.removeChild(this.elementRef.nativeElement, this.preview);\n    }\n\n    updatePreview() {\n        this.renderer.setAttribute(this.preview, 'x1', `${this.currentMousePosition.x + this.offsets[0].x}`);\n        this.renderer.setAttribute(this.preview, 'y1', `${this.currentMousePosition.y + this.offsets[0].y}`);\n        this.renderer.setAttribute(this.preview, 'x2', `${this.currentMousePosition.x + this.offsets[1].x}`);\n        this.renderer.setAttribute(this.preview, 'y2', `${this.currentMousePosition.y + this.offsets[1].y}`);\n    }\n\n    onMouseMove(event: MouseEvent): void {\n        if (!this.previewEnabled) {\n            this.appendPreview();\n        }\n\n        this.currentMousePosition.x = this.getXPos(event.clientX);\n        this.currentMousePosition.y = this.getYPos(event.clientY);\n\n        this.updatePreview();\n\n        if (!this.isDrawing || this.takeOneOnTwoPoints()) {\n            return;\n        }\n\n        this.currentCoords[0] = new Coords2D(\n            this.currentMousePosition.x + this.offsets[0].x,\n            this.currentMousePosition.y + this.offsets[0].y,\n        );\n\n        this.currentCoords[1] = new Coords2D(\n            this.currentMousePosition.x + this.offsets[1].x,\n            this.currentMousePosition.y + this.offsets[1].y,\n        );\n\n        this.tracePolygon();\n\n        this.previousCoords = this.currentCoords.slice(0);\n    }\n\n    takeOneOnTwoPoints(): boolean {\n        this.counter++;\n        return (this.counter % 2 === 1);\n    }\n\n    onWheel(event: WheelEvent): void {\n        let val = this.isAlterRotation ? ROTATION_ANGLE.Alter : ROTATION_ANGLE.Base;\n        val = (event.deltaY < 0 ? -val : val);\n        this.angle = ( this.angle + val ) % 360;\n\n        this.computeOffset();\n        this.updatePreview();\n    }\n\n    onKeyDown(event: KeyboardEvent): void {\n        if (event.key === KEYS.Alt) {\n            this.isAlterRotation = true;\n        }\n    }\n\n    onKeyUp(event: KeyboardEvent): void {\n        if ( event.key === KEYS.Alt) {\n            this.isAlterRotation = false;\n        }\n    }\n\n    onMouseUp() {\n        if (!this.isDrawing) {\n            return;\n        }\n\n        this.isDrawing = false;\n\n        this.saveState();\n    }\n\n    tracePolygon(): void {\n        const polygon: SVGPolygonElement = this.renderer.createElement('polygon', SVG_NS);\n\n        const points: string =\n            `${this.previousCoords[0].x},${this.previousCoords[0].y} ` +\n            `${this.previousCoords[1].x},${this.previousCoords[1].y} ` +\n            `${this.currentCoords[1].x},${this.currentCoords[1].y} ` +\n            `${this.currentCoords[0].x},${this.currentCoords[0].y} `;\n\n        this.renderer.setAttribute(polygon, HTML_ATTRIBUTE.points, points);\n\n        this.renderer.appendChild(this.gWrap, polygon);\n    }\n\n    computeOffset(): void {\n        this.offsets[0].x = (this.thickness / 2) * Math.sin(this.degreesToRadians(this.angle));\n        this.offsets[0].y = (this.thickness / 2) * Math.cos(this.degreesToRadians(this.angle));\n\n        this.offsets[1].x = this.offsets[0].x === 0 ? 0 : -this.offsets[0].x;\n        this.offsets[1].y = this.offsets[0].y === 0 ? 0 : -this.offsets[0].y;\n    }\n\n    degreesToRadians(degrees: number): number {\n        return degrees * (Math.PI / 180);\n    }\n\n    saveState(): void {\n        this.drawStack.push(this.gWrap);\n    }\n\n    cleanUp(): void {\n        this.removePreview();\n        if (this.isDrawing) {\n            this.renderer.removeChild(this.elementRef.nativeElement, this.gWrap);\n        }\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\nimport { KEYS, MOUSE, SVG_NS } from 'src/constants/constants';\nimport { HTML_ATTRIBUTE, TOOL_NAME, TRACE_TYPE } from 'src/constants/tool-constants';\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\nimport { AbstractShapeToolService } from '../abstract-tools/abstract-shape-tool/abstract-shape-tool.service';\nimport { AttributesManagerService } from '../attributes-manager/attributes-manager.service';\nimport { ColorToolService } from '../color-tool/color-tool.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class RectangleToolService extends AbstractShapeToolService {\n    drawRectangle: SVGRectElement;\n    fillColor = '';\n    strokeColor = '';\n    strokeWidth = 0;\n    userFillColor = '';\n    userStrokeColor = '';\n    userStrokeWidth = 0;\n    traceType = '';\n    isSquarePreview = false;\n    attributesManagerService: AttributesManagerService;\n\n    constructor(private colorToolService: ColorToolService) {\n        super();\n        this.colorToolService.primaryColor.subscribe((fillColor: string) => {\n            this.fillColor = fillColor;\n            this.updateTraceType(this.traceType);\n        });\n        this.colorToolService.secondaryColor.subscribe((strokeColor: string) => {\n            this.strokeColor = strokeColor;\n            this.updateTraceType(this.traceType);\n        });\n    }\n\n    initializeService(elementRef: ElementRef<SVGElement>, renderer: Renderer2, drawStack: DrawStackService) {\n        super.initializeService(elementRef, renderer, drawStack);\n        this.drawRectangle = this.renderer.createElement('rect', SVG_NS);\n    }\n\n    initializeAttributesManagerService(attributesManagerService: AttributesManagerService): void {\n        this.attributesManagerService = attributesManagerService;\n        this.attributesManagerService.thickness.subscribe((thickness: number) => {\n            this.strokeWidth = thickness;\n            this.updateTraceType(this.traceType);\n        });\n        this.attributesManagerService.traceType.subscribe((traceType: string) => {\n            this.updateTraceType(traceType);\n        });\n    }\n\n    isValidRectangle(): boolean {\n        const isValidPreviewHeight = this.previewRectangleHeight >= 2 * this.userStrokeWidth;\n        const isValidPreviewWidth = this.previewRectangleWidth >= 2 * this.userStrokeWidth;\n\n        return (\n            isValidPreviewWidth && isValidPreviewHeight && (this.drawRectangleWidth > 0 || this.drawRectangleHeight > 0)\n        );\n    }\n\n    copyPreviewRectangleAttributes(): void {\n        this.renderer.setAttribute(\n            this.drawRectangle,\n            'x',\n            (this.previewRectangleX + this.userStrokeWidth / 2).toString(),\n        );\n        this.renderer.setAttribute(\n            this.drawRectangle,\n            'y',\n            (this.previewRectangleY + this.userStrokeWidth / 2).toString(),\n        );\n        if (this.previewRectangleWidth - this.userStrokeWidth < 0) {\n            this.renderer.setAttribute(\n                this.drawRectangle,\n                HTML_ATTRIBUTE.width,\n                (-(this.previewRectangleWidth - this.userStrokeWidth)).toString(),\n            );\n        } else {\n            this.renderer.setAttribute(\n                this.drawRectangle,\n                HTML_ATTRIBUTE.width,\n                (this.previewRectangleWidth - this.userStrokeWidth).toString(),\n            );\n        }\n        if (this.previewRectangleHeight - this.userStrokeWidth < 0) {\n            this.renderer.setAttribute(\n                this.drawRectangle,\n                HTML_ATTRIBUTE.height,\n                (-(this.previewRectangleHeight - this.userStrokeWidth)).toString(),\n            );\n        } else {\n            this.renderer.setAttribute(\n                this.drawRectangle,\n                HTML_ATTRIBUTE.height,\n                (this.previewRectangleHeight - this.userStrokeWidth).toString(),\n            );\n        }\n    }\n\n    renderDrawRectangle(): void {\n        if (this.isValidRectangle()) {\n            this.userFillColor === 'none'\n                ? this.renderer.setAttribute(this.drawRectangle, HTML_ATTRIBUTE.fill, this.userFillColor)\n                : this.renderer.setAttribute(this.drawRectangle, HTML_ATTRIBUTE.fill, '#' + this.userFillColor);\n            this.renderer.setAttribute(this.drawRectangle, HTML_ATTRIBUTE.stroke, '#' + this.userStrokeColor);\n            this.renderer.setAttribute(\n                this.drawRectangle,\n                HTML_ATTRIBUTE.stroke_width,\n                this.userStrokeWidth.toString(),\n            );\n        } else {\n            this.renderer.setAttribute(this.drawRectangle, HTML_ATTRIBUTE.fill, 'none');\n            this.renderer.setAttribute(this.drawRectangle, HTML_ATTRIBUTE.stroke, 'none');\n            this.renderer.setAttribute(this.drawRectangle, HTML_ATTRIBUTE.stroke_width, '0');\n        }\n    }\n\n    cleanUp(): void {\n        this.isPreviewing = false;\n        this.renderer.removeChild(this.elementRef.nativeElement, this.previewRectangle);\n        this.renderer.removeChild(this.elementRef, this.drawRectangle);\n        this.makeDrawRectangleInvalid();\n    }\n\n    makeDrawRectangleInvalid(): void {\n        this.renderer.setAttribute(this.drawRectangle, HTML_ATTRIBUTE.width, '0');\n        this.renderer.setAttribute(this.drawRectangle, HTML_ATTRIBUTE.height, '0');\n    }\n\n    createSVG(): void {\n        const el: SVGGElement = this.renderer.createElement('g', SVG_NS);\n        const drawRectangle: SVGRectElement = this.renderer.createElement('rect', SVG_NS);\n        this.renderer.setAttribute(drawRectangle, 'x', this.drawRectangleX.toString());\n        this.renderer.setAttribute(drawRectangle, 'y', this.drawRectangleY.toString());\n        this.renderer.setAttribute(drawRectangle, HTML_ATTRIBUTE.width, this.drawRectangleWidth.toString());\n        this.renderer.setAttribute(drawRectangle, HTML_ATTRIBUTE.height, this.drawRectangleHeight.toString());\n        this.userFillColor === 'none'\n            ? this.renderer.setAttribute(el, HTML_ATTRIBUTE.fill, this.userFillColor)\n            : this.renderer.setAttribute(el, HTML_ATTRIBUTE.fill, '#' + this.userFillColor);\n\n        this.renderer.setAttribute(el, HTML_ATTRIBUTE.stroke_width, this.userStrokeWidth.toString());\n        this.renderer.setAttribute(el, HTML_ATTRIBUTE.stroke, '#' + this.userStrokeColor);\n        this.renderer.setAttribute(el, HTML_ATTRIBUTE.title, TOOL_NAME.Rectangle);\n        this.renderer.appendChild(el, drawRectangle);\n        this.renderer.appendChild(this.elementRef.nativeElement, el);\n\n        setTimeout(() => {\n            this.drawStack.push(el);\n        }, 0);\n    }\n\n    updateDrawing(): void {\n        this.updatePreviewRectangle();\n        if (this.isSquarePreview) {\n            this.updatePreviewSquare();\n        } else {\n            this.copyPreviewRectangleAttributes();\n        }\n        this.renderDrawRectangle();\n    }\n\n    updatePreviewSquare(): void {\n        const deltaX = this.currentMouseCoords.x - this.initialMouseCoords.x;\n        const deltaY = this.currentMouseCoords.y - this.initialMouseCoords.y;\n        const minLength = Math.min(Math.abs(deltaX), Math.abs(deltaY));\n\n        if (deltaX < 0) {\n            this.renderer.setAttribute(\n                this.drawRectangle,\n                'x',\n                (this.initialMouseCoords.x - minLength + this.userStrokeWidth / 2).toString(),\n            );\n        } else {\n            this.renderer.setAttribute(\n                this.drawRectangle,\n                'x',\n                (this.initialMouseCoords.x + this.userStrokeWidth / 2).toString(),\n            );\n        }\n\n        if (deltaY < 0) {\n            this.renderer.setAttribute(\n                this.drawRectangle,\n                'y',\n                (this.initialMouseCoords.y - minLength + this.userStrokeWidth / 2).toString(),\n            );\n        } else {\n            this.renderer.setAttribute(\n                this.drawRectangle,\n                'y',\n                (this.initialMouseCoords.y + this.userStrokeWidth / 2).toString(),\n            );\n        }\n\n        this.renderer.setAttribute(\n            this.drawRectangle,\n            HTML_ATTRIBUTE.height,\n            Math.abs(minLength - this.userStrokeWidth).toString(),\n        );\n        this.renderer.setAttribute(\n            this.drawRectangle,\n            HTML_ATTRIBUTE.width,\n            Math.abs(minLength - this.userStrokeWidth).toString(),\n        );\n    }\n\n    updateTraceType(traceType: string) {\n        this.traceType = traceType;\n        switch (traceType) {\n            case TRACE_TYPE.Outline: {\n                this.userFillColor = 'none';\n                this.userStrokeColor = this.strokeColor;\n                this.userStrokeWidth = this.strokeWidth;\n                break;\n            }\n            case TRACE_TYPE.Full: {\n                this.userFillColor = this.fillColor;\n                this.userStrokeColor = 'none';\n                this.userStrokeWidth = 0;\n                break;\n            }\n            case TRACE_TYPE.Both: {\n                this.userFillColor = this.fillColor;\n                this.userStrokeColor = this.strokeColor;\n                this.userStrokeWidth = this.strokeWidth;\n                break;\n            }\n        }\n    }\n\n    get drawRectangleX(): number {\n        return this.drawRectangle.x.baseVal.value;\n    }\n\n    get drawRectangleY(): number {\n        return this.drawRectangle.y.baseVal.value;\n    }\n\n    get drawRectangleWidth(): number {\n        return this.drawRectangle.width.baseVal.value;\n    }\n\n    get drawRectangleHeight(): number {\n        return this.drawRectangle.height.baseVal.value;\n    }\n\n    onMouseMove(event: MouseEvent): void {\n        this.currentMouseCoords.x = event.clientX - this.elementRef.nativeElement.getBoundingClientRect().left;\n        this.currentMouseCoords.y = event.clientY - this.elementRef.nativeElement.getBoundingClientRect().top;\n\n        if (this.isPreviewing) {\n            this.updateDrawing();\n        }\n    }\n\n    onMouseDown(event: MouseEvent): void {\n        const button = event.button;\n\n        if (button === MOUSE.LeftButton && this.isMouseInRef(event, this.elementRef)) {\n            this.initialMouseCoords.x = this.currentMouseCoords.x;\n            this.initialMouseCoords.y = this.currentMouseCoords.y;\n            this.isPreviewing = true;\n\n            this.updateDrawing();\n\n            this.renderer.appendChild(this.elementRef.nativeElement, this.previewRectangle);\n            this.renderer.appendChild(this.elementRef.nativeElement, this.drawRectangle);\n        }\n    }\n\n    onMouseUp(event: MouseEvent): void {\n        const button = event.button;\n        if (button === MOUSE.LeftButton && this.isMouseInRef(event, this.elementRef) && this.isValidRectangle()) {\n            this.createSVG();\n        }\n        this.cleanUp();\n    }\n\n    // tslint:disable-next-line: no-empty\n    onMouseEnter(event: MouseEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onMouseLeave(event: MouseEvent): void {}\n\n    onKeyDown(event: KeyboardEvent): void {\n        const key = event.key;\n\n        if (key === KEYS.Shift) {\n            if (!this.isSquarePreview) {\n                this.isSquarePreview = true;\n                this.updateDrawing();\n            }\n        }\n    }\n\n    onKeyUp(event: KeyboardEvent): void {\n        const key = event.key;\n\n        if (key === KEYS.Shift) {\n            if (this.isSquarePreview) {\n                this.isSquarePreview = false;\n                this.updateDrawing();\n            }\n        }\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\nimport { Coords2D } from 'src/classes/Coords2D';\nimport { StackTargetInfo } from 'src/classes/StackTargetInfo';\nimport { KEYS, MOUSE, SIDEBAR_WIDTH, SVG_NS } from 'src/constants/constants';\nimport { DEFAULT_RADIX, HTML_ATTRIBUTE, ROTATION_ANGLE } from 'src/constants/tool-constants';\nimport { Selection } from '../../../../classes/selection/selection';\nimport { ClipboardService } from '../../clipboard/clipboard.service';\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\nimport { ManipulatorService } from '../../manipulator/manipulator.service';\nimport { UndoRedoerService } from '../../undo-redoer/undo-redoer.service';\nimport { AbstractToolService } from '../abstract-tools/abstract-tool.service';\nimport { MagnetismToolService } from '../magnetism-tool/magnetism-tool.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class SelectionToolService extends AbstractToolService {\n    currentMouseCoords: Coords2D = new Coords2D(0, 0);\n    lastMouseCoords: Coords2D = new Coords2D(0, 0);\n    initialMouseCoords: Coords2D = new Coords2D(0, 0);\n    currentTarget = 0;\n\n    isSelecting = false;\n    isOnTarget = false;\n    isLeftMouseDown = false;\n    isRightMouseDown = false;\n    isLeftMouseDragging = false;\n    isTranslatingSelection = false;\n    isScalingSelection = false;\n    isRightMouseDragging = false;\n\n    selection: Selection;\n\n    selectionRectangle: SVGRectElement;\n\n    elementRef: ElementRef<SVGElement>;\n    renderer: Renderer2;\n    drawStack: DrawStackService;\n\n    constructor(\n        public clipBoard: ClipboardService,\n        public manipulator: ManipulatorService,\n        public undoRedoerService: UndoRedoerService,\n        public magnetismService: MagnetismToolService,\n    ) {\n        super();\n    }\n\n    selectAll(): void {\n        this.clipBoard.restartDuplication();\n        for (const el of this.drawStack.drawStack) {\n            this.selection.addToSelection(el);\n        }\n        this.manipulator.updateOrigins(this.selection);\n    }\n\n    cleanUp(): void {\n        this.selection.cleanUp();\n        if (this.isSelecting) {\n            this.renderer.removeChild(this.elementRef.nativeElement, this.selectionRectangle);\n        }\n        this.isLeftMouseDown = false;\n        this.isRightMouseDown = false;\n        this.isSelecting = false;\n        this.isLeftMouseDragging = false;\n        this.isRightMouseDragging = false;\n        this.isTranslatingSelection = false;\n        this.isScalingSelection = false;\n        this.magnetismService.totalDeltaY = 0;\n        this.magnetismService.totalDeltaX = 0;\n    }\n\n    initializeService(elementRef: ElementRef<SVGElement>, renderer: Renderer2, drawStack: DrawStackService): void {\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.drawStack = drawStack;\n        this.manipulator.initializeService(this.renderer);\n\n        this.selectionRectangle = this.renderer.createElement('rect', SVG_NS);\n        this.selection = new Selection(this.renderer, this.elementRef);\n        this.magnetismService.initializeService(this.selection);\n        this.drawStack.currentStackTarget.subscribe((stackTarget: StackTargetInfo) => {\n            if (stackTarget.targetPosition !== undefined) {\n                this.currentTarget = stackTarget.targetPosition;\n                this.isOnTarget = true;\n            }\n        });\n\n        this.clipBoard.initializeService(this.elementRef, this.renderer, this.drawStack, this.selection);\n    }\n\n    updateSelectionRectangle(): void {\n        let deltaX = this.currentMouseCoords.x - this.initialMouseCoords.x;\n        let deltaY = this.currentMouseCoords.y - this.initialMouseCoords.y;\n\n        // adjust x\n        if (deltaX < 0) {\n            deltaX *= -1;\n            this.renderer.setAttribute(this.selectionRectangle, 'x', (this.initialMouseCoords.x - deltaX).toString());\n        } else {\n            this.renderer.setAttribute(this.selectionRectangle, 'x', this.initialMouseCoords.x.toString());\n        }\n        this.renderer.setAttribute(this.selectionRectangle, HTML_ATTRIBUTE.width, deltaX.toString());\n\n        // adjust y\n        if (deltaY < 0) {\n            deltaY *= -1;\n            this.renderer.setAttribute(this.selectionRectangle, 'y', (this.initialMouseCoords.y - deltaY).toString());\n        } else {\n            this.renderer.setAttribute(this.selectionRectangle, 'y', this.initialMouseCoords.y.toString());\n        }\n        this.renderer.setAttribute(this.selectionRectangle, HTML_ATTRIBUTE.height, deltaY.toString());\n\n        this.renderer.setAttribute(this.selectionRectangle, HTML_ATTRIBUTE.fill, 'white');\n        this.renderer.setAttribute(this.selectionRectangle, 'fill-opacity', '0.3');\n        this.renderer.setAttribute(this.selectionRectangle, HTML_ATTRIBUTE.stroke, 'black');\n        this.renderer.setAttribute(this.selectionRectangle, HTML_ATTRIBUTE.stroke_dasharray, '5 5');\n    }\n\n    getDOMRect(el: SVGGElement): DOMRect {\n        return el.getBoundingClientRect() as DOMRect;\n    }\n\n    getStrokeWidth(el: SVGGElement): number {\n        if (el.getAttribute(HTML_ATTRIBUTE.stroke_width)) {\n            return parseInt(el.getAttribute(HTML_ATTRIBUTE.stroke_width) as string, DEFAULT_RADIX);\n        }\n\n        return 0;\n    }\n\n    isInSelection(selectionBox: DOMRect, elementBox: DOMRect, strokeWidth?: number): boolean {\n        const boxLeft = selectionBox.x + window.scrollX - SIDEBAR_WIDTH;\n        const boxRight = selectionBox.x + window.scrollX - SIDEBAR_WIDTH + selectionBox.width;\n        const boxTop = selectionBox.y + window.scrollY;\n        const boxBottom = selectionBox.y + window.scrollY + selectionBox.height;\n\n        let elLeft = elementBox.x + window.scrollX - SIDEBAR_WIDTH;\n        let elRight = elementBox.x + window.scrollX - SIDEBAR_WIDTH + elementBox.width;\n        let elTop = elementBox.y + window.scrollY;\n        let elBottom = elementBox.y + window.scrollY + elementBox.height;\n\n        if (strokeWidth) {\n            const halfStrokeWidth = strokeWidth / 2;\n\n            elLeft = elLeft - halfStrokeWidth;\n            elRight = elRight + halfStrokeWidth;\n            elTop = elTop - halfStrokeWidth;\n            elBottom = elBottom + halfStrokeWidth;\n        }\n\n        // Check all cases where el and box don't touch each other\n        if (elRight < boxLeft || boxRight < elLeft || elBottom < boxTop || boxBottom < elTop) {\n            return false;\n        }\n\n        return true;\n    }\n\n    isAbleToRotate(): boolean {\n        return !this.isTranslatingSelection && !this.isSelecting && !this.isScalingSelection && this.selection.isAppended;\n    }\n\n    singlySelect(stackPosition: number): void {\n        this.selection.emptySelection();\n        this.selection.addToSelection(this.drawStack.drawStack[stackPosition]);\n        this.isOnTarget = false;\n    }\n\n    singlySelectInvert(stackPosition: number): void {\n        this.selection.invertAddToSelection(this.drawStack.drawStack[stackPosition]);\n        this.isOnTarget = false;\n    }\n\n    startSelection(): void {\n        this.isSelecting = true;\n        this.updateSelectionRectangle();\n        this.renderer.appendChild(this.elementRef.nativeElement, this.selectionRectangle);\n    }\n\n    checkSelection(): void {\n        const selectionBox = this.getDOMRect(this.selectionRectangle);\n        for (const el of this.drawStack.drawStack) {\n            const elBox = this.getDOMRect(el);\n            this.selection.handleSelection(el, this.isInSelection(selectionBox, elBox, this.getStrokeWidth(el)));\n        }\n    }\n\n    checkSelectionInverse(): void {\n        const selectionBox = this.getDOMRect(this.selectionRectangle);\n        for (const el of this.drawStack.drawStack) {\n            const elBox = this.getDOMRect(el);\n            this.selection.handleInvertSelection(el, this.isInSelection(selectionBox, elBox, this.getStrokeWidth(el)));\n        }\n    }\n\n    isAbleToScale(): boolean {\n        return this.selection.mouseIsInControlPoint(this.currentMouseCoords) && !this.isSelecting && !this.isTranslatingSelection;\n    }\n\n    isAbleToTranslate(): boolean {\n        return this.selection.mouseIsInSelectionBox(this.currentMouseCoords) && !this.isSelecting && !this.isScalingSelection;\n    }\n\n    handleLeftMouseDrag(): void {\n        this.isLeftMouseDragging = true;\n\n        if (this.isOnTarget && !this.selection.selectedElements.has(this.drawStack.drawStack[this.currentTarget])) {\n            this.singlySelect(this.currentTarget);\n        } else if (this.isScalingSelection || this.isAbleToScale()) {\n            this.isScalingSelection = true;\n            this.manipulator.scaleSelection(\n                this.currentMouseCoords,\n                this.selection.activeControlPoint,\n                this.selection);\n        } else if (this.isTranslatingSelection ||  this.isAbleToTranslate()) {\n            this.isTranslatingSelection = true;\n            const deltaX = this.currentMouseCoords.x - this.lastMouseCoords.x;\n            const deltaY = this.currentMouseCoords.y - this.lastMouseCoords.y;\n            if (this.magnetismService.isMagnetic.value) {\n                const magnetizedCoords = this.magnetismService.magnetizeXY(deltaX, deltaY);\n                this.manipulator.translateSelection(magnetizedCoords.x, magnetizedCoords.y, this.selection);\n            } else {\n                this.manipulator.translateSelection(deltaX, deltaY, this.selection);\n            }\n        } else {\n            this.startSelection();\n            this.updateSelectionRectangle();\n            this.checkSelection();\n        }\n    }\n\n    handleRightMouseDrag(): void {\n        this.isRightMouseDragging = true;\n\n        this.startSelection();\n        this.updateSelectionRectangle();\n        this.checkSelectionInverse();\n    }\n\n    onMouseMove(event: MouseEvent): void {\n        this.lastMouseCoords.x = this.currentMouseCoords.x;\n        this.lastMouseCoords.y = this.currentMouseCoords.y;\n        this.currentMouseCoords.x = event.clientX - this.elementRef.nativeElement.getBoundingClientRect().left;\n        this.currentMouseCoords.y = event.clientY - this.elementRef.nativeElement.getBoundingClientRect().top;\n\n        if (this.isLeftMouseDown && !this.isRightMouseDown) {\n            this.handleLeftMouseDrag();\n        } else if (this.isRightMouseDown && !this.isLeftMouseDown) {\n            this.handleRightMouseDrag();\n        }\n    }\n\n    handleLeftMouseDown(): void {\n        this.isLeftMouseDown = true;\n        this.initialMouseCoords.x = this.currentMouseCoords.x;\n        this.initialMouseCoords.y = this.currentMouseCoords.y;\n\n        if (this.selection.mouseIsInControlPoint(this.currentMouseCoords)) {\n            this.saveOriginalSelectionBoxState();\n            this.manipulator.initTransformMatrix(this.selection);\n        }\n    }\n\n    saveOriginalSelectionBoxState(): void {\n        this.selection.ogSelectionBoxHeight = this.getDOMRect(this.selection.selectionBox).height;\n        this.selection.ogSelectionBoxWidth = this.getDOMRect(this.selection.selectionBox).width;\n\n        this.selection.ogSelectionBoxPositions = new Coords2D(\n            this.getDOMRect(this.selection.selectionBox).left - SIDEBAR_WIDTH + window.scrollX,\n            this.getDOMRect(this.selection.selectionBox).top + window.scrollY,\n        );\n\n        this.selection.ogActiveControlPointCoords = new Coords2D(\n            this.selection.getControlPointCx(this.selection.activeControlPoint) + window.scrollX,\n            this.selection.getControlPointCy(this.selection.activeControlPoint) + window.scrollY,\n        );\n    }\n\n    handleRightMouseDown(): void {\n        this.isRightMouseDown = true;\n        this.initialMouseCoords.x = this.currentMouseCoords.x;\n        this.initialMouseCoords.y = this.currentMouseCoords.y;\n        this.selection.invertSelectionBuffer.clear();\n    }\n\n    onMouseDown(event: MouseEvent): void {\n        const button = event.button;\n\n        switch (button) {\n            case MOUSE.LeftButton:\n                this.handleLeftMouseDown();\n                break;\n\n            case MOUSE.RightButton:\n                this.handleRightMouseDown();\n                break;\n\n            default:\n                break;\n        }\n    }\n\n    handleLeftMouseUp(): void {\n        this.renderer.removeChild(this.elementRef.nativeElement, this.selectionRectangle);\n        if (this.isSelecting) {\n            this.isSelecting = false;\n        } else if (this.isOnTarget && (!this.isTranslatingSelection && !this.isScalingSelection)) {\n            this.singlySelect(this.currentTarget);\n        } else if (this.isTranslatingSelection) {\n            this.isTranslatingSelection = false;\n            this.saveState();\n        } else if (this.isScalingSelection) {\n            this.isScalingSelection = false;\n            this.saveState();\n        } else {\n            this.selection.emptySelection();\n        }\n\n        this.isLeftMouseDown = false;\n        this.isLeftMouseDragging = false;\n        this.isOnTarget = false;\n    }\n\n    handleRightMouseUp(): void {\n        this.renderer.removeChild(this.elementRef.nativeElement, this.selectionRectangle);\n\n        if (this.isSelecting) {\n            this.isSelecting = false;\n        } else if (this.isOnTarget) {\n            this.singlySelectInvert(this.currentTarget);\n        }\n        this.isRightMouseDown = false;\n        this.isRightMouseDragging = false;\n        this.isOnTarget = false;\n    }\n\n    onMouseUp(event: MouseEvent): void {\n        if (!this.isMouseInRef(event, this.elementRef)) {\n            return;\n        }\n        this.clipBoard.restartDuplication();\n\n        const button = event.button;\n\n        switch (button) {\n            case MOUSE.LeftButton:\n                this.handleLeftMouseUp();\n                break;\n\n            case MOUSE.RightButton:\n                this.handleRightMouseUp();\n                break;\n\n            default:\n                break;\n        }\n\n        this.manipulator.updateOrigins(this.selection);\n    }\n\n    saveState() {\n        this.undoRedoerService.saveCurrentState(this.drawStack.idStack);\n    }\n\n    // tslint:disable-next-line: no-empty\n    onMouseEnter(event: MouseEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onMouseLeave(event: MouseEvent): void {}\n\n    onKeyDown(event: KeyboardEvent): void {\n        const key = event.key;\n        if (key === KEYS.Shift) {\n            event.preventDefault();\n            this.manipulator.isShiftDown = true;\n            this.manipulator.isRotateOnSelf = true;\n            if (this.isScalingSelection) {\n                this.manipulator.scaleSelection(this.currentMouseCoords, this.selection.activeControlPoint, this.selection);\n            }\n        } else if (key === KEYS.Alt) {\n            event.preventDefault();\n            this.manipulator.isAltDown = true;\n            this.manipulator.rotationStep = ROTATION_ANGLE.Alter;\n            if (this.isScalingSelection) {\n                this.manipulator.scaleSelection(this.currentMouseCoords, this.selection.activeControlPoint, this.selection);\n            }\n        }\n    }\n\n    onKeyUp(event: KeyboardEvent): void {\n        const key = event.key;\n        if (key === KEYS.Shift) {\n            event.preventDefault();\n            this.manipulator.isRotateOnSelf = false;\n            this.manipulator.isShiftDown = false;\n            if (this.isScalingSelection) {\n                this.manipulator.scaleSelection(this.currentMouseCoords, this.selection.activeControlPoint, this.selection);\n            }\n        } else if (key === KEYS.Alt) {\n            event.preventDefault();\n            this.manipulator.rotationStep = ROTATION_ANGLE.Base;\n            this.manipulator.isAltDown = false;\n            if (this.isScalingSelection) {\n                this.manipulator.scaleSelection(this.currentMouseCoords, this.selection.activeControlPoint, this.selection);\n            }\n        }\n    }\n\n    onWheel(event: WheelEvent): void {\n        if (this.isAbleToRotate()) {\n            event.preventDefault();\n            this.manipulator.rotateSelection(event, this.selection);\n            this.clipBoard.restartDuplication();\n            this.saveState();\n        }\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\nimport { Coords2D } from 'src/classes/Coords2D';\nimport { MOUSE, SVG_NS } from 'src/constants/constants';\nimport {\n    CIRCLES_TO_APPEND,\n    HTML_ATTRIBUTE,\n    MAX_CHARS_IN_PATH,\n    SPRAY_DIAMETER,\n    SPRAY_INTERVAL,\n    SPRAYER_STROKE_WIDTH,\n    TOOL_NAME,\n} from 'src/constants/tool-constants';\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\nimport { TracingToolService } from '../abstract-tools/tracing-tool/tracing-tool.service';\nimport { AttributesManagerService } from '../attributes-manager/attributes-manager.service';\nimport { ColorToolService } from '../color-tool/color-tool.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class SprayCanToolService extends TracingToolService {\n    radius = SPRAY_DIAMETER.Default;\n    event: MouseEvent;\n    interval: NodeJS.Timer;\n    intervalTime = SPRAY_INTERVAL.Default;\n    sprayer: SVGCircleElement;\n    currentMouseCoords: Coords2D = new Coords2D(0, 0);\n    isSprayerAppended = false;\n\n    constructor(private colorToolService: ColorToolService) {\n        super();\n        this.colorToolService.primaryColor.subscribe((currentColor: string) => {\n            this.currentColorAndOpacity = currentColor;\n\n            if (this.sprayer !== undefined) {\n                this.renderer.setAttribute(this.sprayer, HTML_ATTRIBUTE.stroke, '#' + this.currentColorAndOpacity);\n            }\n        });\n    }\n\n    initializeService(elementRef: ElementRef<SVGElement>, renderer: Renderer2, drawStack: DrawStackService) {\n        super.initializeService(elementRef, renderer, drawStack);\n\n        this.sprayer = this.renderer.createElement('circle', SVG_NS);\n        this.renderer.setAttribute(this.sprayer, 'r', this.radius.toString());\n        this.renderer.setAttribute(this.sprayer, HTML_ATTRIBUTE.stroke, '#' + this.currentColorAndOpacity);\n        this.renderer.setAttribute(this.sprayer, HTML_ATTRIBUTE.stroke_width, SPRAYER_STROKE_WIDTH);\n        this.renderer.setAttribute(this.sprayer, HTML_ATTRIBUTE.fill, 'none');\n    }\n\n    initializeAttributesManagerService(attributesManagerService: AttributesManagerService) {\n        super.initializeAttributesManagerService(attributesManagerService);\n        this.attributesManagerService.sprayDiameter.subscribe((sprayDiameter: number) => {\n            this.radius = sprayDiameter / 2;\n            this.renderer.setAttribute(this.sprayer, 'r', this.radius.toString());\n        });\n        this.attributesManagerService.sprayInterval.subscribe((intervalTime: number) => {\n            this.intervalTime = intervalTime;\n        });\n    }\n\n    onMouseDown(event: MouseEvent) {\n        if (event.button === MOUSE.LeftButton) {\n            this.setColorAndOpacity();\n            this.event = event;\n            this.isDrawing = true;\n            this.createSVGWrapper();\n            this.createSVGPath();\n            this.spray();\n            this.appendSprayer();\n\n            clearInterval(this.interval);\n            this.interval = setInterval(() => {\n                this.spray();\n                this.appendSprayer();\n            }, this.intervalTime);\n        }\n    }\n\n    spray(): void {\n        for (let i = 0; i < CIRCLES_TO_APPEND; ++i) {\n            const angle = Math.random() * (2 * Math.PI);\n            const radius = Math.random() * this.radius;\n            const x = Math.floor(this.getXPos(this.event.clientX) + radius * Math.cos(angle) - this.currentWidth / 2);\n            const y = Math.floor(this.getYPos(this.event.clientY) + radius * Math.sin(angle));\n            const upperArc = `a1 1 0 0 1 ${this.currentWidth} 0`;\n            const lowerArc = `a1 1 0 0 1 -${this.currentWidth} 0`;\n\n            this.currentPath += `M${x} ${y}` + upperArc + lowerArc;\n        }\n        this.updateSVGPath();\n    }\n\n    onMouseUp(event: MouseEvent) {\n        if (event.button === MOUSE.LeftButton && this.isDrawing) {\n            this.isDrawing = false;\n            this.currentPath = '';\n\n            clearInterval(this.interval);\n\n            setTimeout(() => {\n                this.drawStack.push(this.svgWrap);\n            }, 0);\n\n            this.renderer.removeChild(this.elementRef, this.sprayer);\n\n            setTimeout(() => {\n                this.appendSprayer();\n            }, 0);\n        }\n    }\n\n    onMouseMove(event: MouseEvent) {\n        this.event = event;\n        this.setSprayerToMouse(event);\n    }\n\n    setSprayerToMouse(event: MouseEvent): void {\n        this.currentMouseCoords.x = this.getXPos(event.clientX);\n        this.currentMouseCoords.y = this.getYPos(event.clientY);\n\n        this.renderer.setAttribute(this.sprayer, HTML_ATTRIBUTE.cx, this.currentMouseCoords.x.toString());\n        this.renderer.setAttribute(this.sprayer, HTML_ATTRIBUTE.cy, this.currentMouseCoords.y.toString());\n\n        if (!this.isSprayerAppended) {\n            this.appendSprayer();\n        }\n    }\n\n    appendSprayer(): void {\n        this.renderer.appendChild(this.elementRef.nativeElement, this.sprayer);\n        this.isSprayerAppended = true;\n    }\n\n    cleanUp() {\n        super.cleanUp();\n        this.renderer.removeChild(this.elementRef, this.sprayer);\n        this.isSprayerAppended = false;\n    }\n\n    onMouseLeave(event: MouseEvent) {\n        super.onMouseLeave(event);\n        this.renderer.removeChild(this.elementRef, this.sprayer);\n        this.isSprayerAppended = false;\n    }\n\n    createSVGWrapper(): void {\n        const wrap: SVGGElement = this.renderer.createElement('g', SVG_NS);\n        this.renderer.setAttribute(wrap, HTML_ATTRIBUTE.stroke, '#' + this.currentColor);\n        this.renderer.setAttribute(wrap, HTML_ATTRIBUTE.opacity, this.currentOpacity);\n        this.renderer.setAttribute(wrap, HTML_ATTRIBUTE.fill, '#' + this.currentColor);\n        this.renderer.setAttribute(wrap, HTML_ATTRIBUTE.title, TOOL_NAME.SprayCan);\n        this.svgWrap = wrap;\n        this.renderer.appendChild(this.elementRef.nativeElement, wrap);\n    }\n\n    createSVGPath(): void {\n        this.svgPath = this.renderer.createElement('path', SVG_NS);\n        this.renderer.setAttribute(this.svgPath, HTML_ATTRIBUTE.fill, '#' + this.currentColor);\n        this.renderer.setAttribute(this.svgPath, HTML_ATTRIBUTE.stroke_width, this.currentWidth.toString());\n        this.renderer.appendChild(this.svgWrap, this.svgPath);\n    }\n\n    updateSVGPath(): void {\n        if (this.currentPath.length > MAX_CHARS_IN_PATH) {\n            this.currentPath = '';\n            this.createSVGPath();\n        } else {\n            super.updateSVGPath();\n        }\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\n\nimport { Coords2D } from 'src/classes/Coords2D';\nimport { KEYS, MOUSE, SVG_NS } from 'src/constants/constants';\nimport {\n    BASE64_STAMPS_MAP,\n    HTML_ATTRIBUTE,\n    NO_STAMP,\n    ROTATION_ANGLE,\n    STAMP_BASE_HEIGHT,\n    STAMP_BASE_WIDTH,\n    STAMP_SCALING,\n    TOOL_NAME,\n} from 'src/constants/tool-constants';\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\nimport { AbstractToolService } from '../abstract-tools/abstract-tool.service';\nimport { AttributesManagerService } from '../attributes-manager/attributes-manager.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class StampToolService extends AbstractToolService {\n    currentMouseCoords: Coords2D = new Coords2D(0, 0);\n    stampCoords: Coords2D = new Coords2D(0, 0);\n\n    angle: ROTATION_ANGLE = ROTATION_ANGLE.Default;\n    scaling: STAMP_SCALING = STAMP_SCALING.Default;\n    selected: string;\n\n    stampLink = NO_STAMP;\n    transform = '';\n\n    stampIsAppended = false;\n    isAlterRotation = false;\n    isStampLinkValid = false;\n\n    stamp: SVGImageElement;\n    stampWrapper: SVGGElement;\n\n    attributesManagerService: AttributesManagerService;\n\n    elementRef: ElementRef<SVGElement>;\n    renderer: Renderer2;\n    drawStack: DrawStackService;\n\n    constructor() {\n        super();\n    }\n\n    initializeService(elementRef: ElementRef<SVGElement>, renderer: Renderer2, drawStack: DrawStackService) {\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.drawStack = drawStack;\n\n        this.stamp = this.renderer.createElement('image', SVG_NS);\n        this.stampWrapper = this.renderer.createElement('g', SVG_NS);\n        this.renderer.appendChild(this.stampWrapper, this.stamp);\n    }\n\n    initializeAttributesManagerService(attributesManagerService: AttributesManagerService): void {\n        this.attributesManagerService = attributesManagerService;\n        this.attributesManagerService.scaling.subscribe((newScaling) => {\n            this.scaling = newScaling;\n            this.setStamp();\n        });\n        this.attributesManagerService.angle.subscribe((newAngle) => {\n            this.angle = newAngle;\n            this.applyTransformation();\n        });\n        this.attributesManagerService.stampType.subscribe((newStamp) => {\n            if (newStamp === NO_STAMP) {\n                this.cleanUp();\n                this.isStampLinkValid = false;\n            } else {\n                this.stampLink = newStamp;\n                this.setStamp();\n                this.isStampLinkValid = true;\n            }\n        });\n    }\n\n    get stampWidth(): number {\n        return this.stamp.width.baseVal.value;\n    }\n\n    get stampHeight(): number {\n        return this.stamp.height.baseVal.value;\n    }\n\n    initStamp(): void {\n        if (!this.stampIsAppended) {\n            this.setStamp();\n            this.renderer.appendChild(this.elementRef.nativeElement, this.stampWrapper);\n            this.stampIsAppended = true;\n        }\n    }\n\n    cleanUp(): void {\n        if (this.stampIsAppended) {\n            this.renderer.removeChild(this.elementRef.nativeElement, this.stampWrapper);\n            this.stampIsAppended = false;\n        }\n    }\n\n    setStamp(): void {\n        this.renderer.setAttribute(this.stamp, HTML_ATTRIBUTE.width, (STAMP_BASE_WIDTH * this.scaling).toString());\n        this.renderer.setAttribute(this.stamp, HTML_ATTRIBUTE.height, (STAMP_BASE_HEIGHT * this.scaling).toString());\n        this.renderer.setAttribute(this.stamp, 'href', this.stampLink);\n    }\n\n    applyTransformation(): void {\n        if (this.isStampLinkValid) {\n            this.transform = `rotate(${this.angle}, ${this.currentMouseCoords.x},\n                ${this.currentMouseCoords.y}) translate(${this.stampCoords.x}, ${this.stampCoords.y})`;\n            this.renderer.setAttribute(this.stampWrapper, 'transform', this.transform);\n        }\n    }\n\n    positionStamp(): void {\n        this.stampCoords.x = this.currentMouseCoords.x - this.stampWidth / 2;\n        this.stampCoords.y = this.currentMouseCoords.y - this.stampHeight / 2;\n        this.applyTransformation();\n    }\n\n    addStamp(): void {\n        const el: SVGGElement = this.renderer.createElement('g', SVG_NS);\n        this.renderer.setAttribute(el, HTML_ATTRIBUTE.title, TOOL_NAME.Stamp);\n        const stamp: SVGImageElement = this.renderer.createElement('image', SVG_NS);\n        this.renderer.setAttribute(stamp, HTML_ATTRIBUTE.width, (STAMP_BASE_WIDTH * this.scaling).toString());\n        this.renderer.setAttribute(stamp, HTML_ATTRIBUTE.height, (STAMP_BASE_HEIGHT * this.scaling).toString());\n        this.renderer.setAttribute(stamp, 'x', this.stampCoords.x.toString());\n        this.renderer.setAttribute(stamp, 'y', this.stampCoords.y.toString());\n        this.renderer.setAttribute(stamp, 'href', BASE64_STAMPS_MAP.get(this.stampLink) as string);\n\n        const rect: SVGRectElement = this.renderer.createElement('rect', SVG_NS);\n        this.renderer.setAttribute(rect, HTML_ATTRIBUTE.width, (STAMP_BASE_WIDTH * this.scaling).toString());\n        this.renderer.setAttribute(rect, HTML_ATTRIBUTE.height, (STAMP_BASE_HEIGHT * this.scaling).toString());\n        this.renderer.setAttribute(rect, 'x', this.stampCoords.x.toString());\n        this.renderer.setAttribute(rect, 'y', this.stampCoords.y.toString());\n        this.renderer.setAttribute(rect, HTML_ATTRIBUTE.fill, '#ffffff00');\n        this.renderer.setAttribute(rect, HTML_ATTRIBUTE.stroke, 'none');\n\n        this.renderer.appendChild(el, stamp);\n        this.renderer.appendChild(el, rect);\n        this.renderer.setAttribute(el, 'transform', `translate(${this.stampCoords.x}, ${this.stampCoords.y})`);\n        this.renderer.setAttribute(\n            el,\n            'transform',\n            `rotate(${this.angle}, ${this.currentMouseCoords.x}, ${this.currentMouseCoords.y})`,\n        );\n        const svg: SVGSVGElement = this.renderer.createElement('svg', SVG_NS);\n        const rotateToZero = svg.createSVGTransform();\n        rotateToZero.setRotate(0, this.currentMouseCoords.x, this.currentMouseCoords.y);\n        el.transform.baseVal.insertItemBefore(rotateToZero, 0);\n        this.renderer.appendChild(this.elementRef.nativeElement, el);\n        setTimeout(() => {\n            this.drawStack.push(el);\n        }, 0);\n    }\n\n    rotateStamp(direction: number): void {\n        this.angle += direction < 0 ? -ROTATION_ANGLE.Base : ROTATION_ANGLE.Base;\n        this.angle = this.angle % 360;\n    }\n\n    alterRotateStamp(direction: number): void {\n        this.angle += direction < 0 ? -ROTATION_ANGLE.Alter : ROTATION_ANGLE.Alter;\n        this.angle = this.angle % 360;\n    }\n\n    onMouseMove(event: MouseEvent): void {\n        this.currentMouseCoords.x = event.clientX - this.elementRef.nativeElement.getBoundingClientRect().left;\n        this.currentMouseCoords.y = event.clientY - this.elementRef.nativeElement.getBoundingClientRect().top;\n\n        this.positionStamp();\n    }\n\n    isAbleToStamp(event: MouseEvent): boolean {\n        return this.isMouseInRef(event, this.elementRef) && this.isStampLinkValid && this.stampIsAppended;\n    }\n\n    onMouseDown(event: MouseEvent): void {\n        const button = event.button;\n\n        if (button === MOUSE.LeftButton && this.isAbleToStamp(event)) {\n            this.cleanUp();\n            this.addStamp();\n        }\n    }\n\n    onMouseUp(event: MouseEvent): void {\n        const button = event.button;\n\n        if (button === MOUSE.LeftButton && this.isAbleToStamp(event)) {\n            this.initStamp();\n        }\n    }\n\n    onMouseEnter(event: MouseEvent): void {\n        if (this.isStampLinkValid) {\n            this.initStamp();\n        }\n    }\n\n    onMouseLeave(event: MouseEvent): void {\n        if (this.isStampLinkValid) {\n            this.cleanUp();\n        }\n    }\n\n    onWheel(event: WheelEvent): void {\n        if (!this.isStampLinkValid) {\n            return;\n        }\n\n        if (this.isAlterRotation) {\n            this.alterRotateStamp(event.deltaY);\n        } else {\n            this.rotateStamp(event.deltaY);\n        }\n\n        this.applyTransformation();\n    }\n\n    onKeyDown(event: KeyboardEvent): void {\n        const key = event.key;\n\n        if (key === KEYS.Alt) {\n            event.preventDefault();\n            this.isAlterRotation = true;\n        }\n    }\n\n    onKeyUp(event: KeyboardEvent): void {\n        const key = event.key;\n\n        if (key === KEYS.Alt) {\n            event.preventDefault();\n            this.isAlterRotation = false;\n        }\n    }\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\nimport { MatSnackBar } from '@angular/material';\n\nimport { BehaviorSubject } from 'rxjs';\nimport { FontInfo } from 'src/classes/FontInfos';\nimport { TextCursor } from 'src/classes/textStyle/textCursor';\nimport { KEYS, MOUSE, SVG_NS, TITLE_ELEMENT_TO_REMOVE } from 'src/constants/constants';\nimport {\n    FONT_ALIGN,\n    FONT_STYLE,\n    FONT_WEIGHT,\n    HTML_ATTRIBUTE,\n    SNACKBAR_DURATION,\n    TEXT_CURSOR,\n    TEXT_LINEBREAK,\n    TEXT_SPACE,\n    TOOL_NAME,\n} from 'src/constants/tool-constants';\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\nimport { ShortcutManagerService } from '../../shortcut-manager/shortcut-manager.service';\nimport { AbstractToolService } from '../abstract-tools/abstract-tool.service';\nimport { AttributesManagerService } from '../attributes-manager/attributes-manager.service';\nimport { ColorToolService } from '../color-tool/color-tool.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class TextToolService extends AbstractToolService {\n    elementRef: ElementRef<SVGElement>;\n    renderer: Renderer2;\n    drawStack: DrawStackService;\n\n    attributesManagerService: AttributesManagerService;\n\n    fontInfo: FontInfo = new FontInfo();\n\n    gWrap: SVGGElement;\n    previewBox: SVGRectElement;\n    textBox: SVGTextElement;\n    currentLine: SVGTSpanElement;\n    tspans: SVGTSpanElement[] = new Array<SVGTSpanElement>();\n    currentText: BehaviorSubject<string> = new BehaviorSubject('');\n    get text(): string {\n        return this.currentText.value;\n    }\n    set text(text: string) {\n        this.currentText.next(text);\n    }\n\n    bBoxAnchorLeft: number;\n    bBoxWidth: number;\n    bBoxHeight: number;\n\n    textBoxXPosition: number;\n    textBoxYPosition: number;\n\n    textCursor: TextCursor;\n    isWriting: boolean;\n\n    keyboardActions: Map<string, (key: string) => void> = new Map([\n        [KEYS.Enter, this.createNewLine],\n        [KEYS.Backspace, this.erase],\n        [KEYS.ArrowLeft, this.moveCursor],\n        [KEYS.ArrowRight, this.moveCursor],\n        [KEYS.SmallerThan, this.openSnackBar],\n    ]);\n\n    constructor(\n        private shortCutManagerService: ShortcutManagerService,\n        private colorToolService: ColorToolService,\n        public snackBar: MatSnackBar,\n    ) {\n        super();\n        this.colorToolService.primaryColor.subscribe((color: string) => {\n            this.updateStyle(HTML_ATTRIBUTE.fill, '#' + color);\n        });\n    }\n\n    getXPos = (clientX: number) => clientX - this.elementRef.nativeElement.getBoundingClientRect().left;\n    getYPos = (clientY: number) => clientY - this.elementRef.nativeElement.getBoundingClientRect().top;\n\n    initializeService(elementRef: ElementRef<SVGElement>, renderer: Renderer2, drawStack: DrawStackService): void {\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.drawStack = drawStack;\n        this.textCursor = new TextCursor(renderer, this.currentText);\n    }\n\n    initializeAttributesManagerService(attributeManagerService: AttributesManagerService): void {\n        this.attributesManagerService = attributeManagerService;\n\n        this.attributesManagerService.font.subscribe((font) => {\n            this.updateStyle(HTML_ATTRIBUTE.font_family, font);\n        });\n        this.attributesManagerService.fontSize.subscribe((size) => {\n            this.updateStyle(HTML_ATTRIBUTE.font_size, size.toString());\n        });\n        this.attributesManagerService.fontAlign.subscribe((align) => {\n            this.updateAlign(align);\n        });\n        this.attributesManagerService.italicState.subscribe((italic) => {\n            this.updateItalic(italic);\n        });\n        this.attributesManagerService.boldState.subscribe((bold) => {\n            this.updateBold(bold);\n        });\n        this.attributesManagerService.isWritingState.subscribe((isWriting) => {\n            this.isWriting = isWriting;\n        });\n    }\n\n    updateStyle(attribute: HTML_ATTRIBUTE, value: string) {\n        switch (attribute) {\n            case HTML_ATTRIBUTE.fill:\n                this.fontInfo.fontColor = value;\n                break;\n            case HTML_ATTRIBUTE.font_family:\n                this.fontInfo.fontFamily = value;\n                break;\n            case HTML_ATTRIBUTE.font_size:\n                this.fontInfo.fontSize = value;\n                break;\n        }\n        if (this.isWriting) {\n            this.renderer.setAttribute(this.textBox, attribute, value);\n            this.updatePreviewBox();\n        }\n    }\n\n    updateAlign(align: FONT_ALIGN): void {\n        this.fontInfo.fontAlign = align;\n        if (this.isWriting) {\n            switch (align) {\n                case FONT_ALIGN.Middle: {\n                    this.textBoxXPosition = this.bBoxAnchorLeft + this.bBoxWidth / 2;\n                    break;\n                }\n                case FONT_ALIGN.Start: {\n                    this.textBoxXPosition = this.bBoxAnchorLeft;\n                    break;\n                }\n                case FONT_ALIGN.End: {\n                    this.textBoxXPosition = this.bBoxAnchorLeft + this.bBoxWidth;\n                }\n            }\n\n            this.textBox.childNodes.forEach((tspan: SVGTSpanElement) => {\n                this.renderer.setAttribute(tspan, 'x', this.textBoxXPosition.toString());\n            });\n            this.renderer.setAttribute(this.textBox, HTML_ATTRIBUTE.text_anchor, this.fontInfo.fontAlign);\n        }\n    }\n\n    updateItalic(isItalic: boolean): void {\n        this.fontInfo.fontStyle = isItalic ? FONT_STYLE.Italic : FONT_STYLE.Normal;\n        if (this.isWriting) {\n            this.renderer.setAttribute(this.textBox, HTML_ATTRIBUTE.font_style, this.fontInfo.fontStyle);\n            this.updatePreviewBox();\n        }\n    }\n\n    updateBold(isBold: boolean): void {\n        this.fontInfo.fontWeight = isBold ? FONT_WEIGHT.Bold : FONT_WEIGHT.Normal;\n        if (this.isWriting) {\n            this.renderer.setAttribute(this.textBox, HTML_ATTRIBUTE.font_weight, this.fontInfo.fontWeight);\n            this.updatePreviewBox();\n        }\n    }\n\n    ifClickInTextBox(x: number, y: number): boolean {\n        return (\n            x >= this.bBoxAnchorLeft &&\n            x <= this.bBoxAnchorLeft + this.bBoxWidth &&\n            y >= this.textBoxYPosition &&\n            y <= this.textBoxYPosition + this.bBoxHeight\n        );\n    }\n\n    updatePreviewBox(): void {\n        const textBBox = this.textBox.getBBox();\n        this.bBoxAnchorLeft = textBBox.x;\n        this.bBoxWidth = textBBox.width;\n        this.bBoxHeight = textBBox.height;\n\n        this.renderer.setAttribute(this.previewBox, 'x', this.bBoxAnchorLeft.toString());\n        this.renderer.setAttribute(this.previewBox, 'y', textBBox.y.toString());\n        this.renderer.setAttribute(this.previewBox, HTML_ATTRIBUTE.width, this.bBoxWidth.toString());\n        this.renderer.setAttribute(this.previewBox, HTML_ATTRIBUTE.height, textBBox.height.toString());\n    }\n\n    initPreviewRect(): void {\n        this.previewBox = this.renderer.createElement('rect', SVG_NS);\n        this.renderer.setAttribute(this.previewBox, HTML_ATTRIBUTE.title, TITLE_ELEMENT_TO_REMOVE);\n        this.renderer.setAttribute(this.previewBox, HTML_ATTRIBUTE.stroke, 'black');\n        this.renderer.setAttribute(this.previewBox, HTML_ATTRIBUTE.stroke_width, '1');\n        this.renderer.setAttribute(this.previewBox, HTML_ATTRIBUTE.fill, 'none');\n        this.renderer.setAttribute(this.previewBox, HTML_ATTRIBUTE.stroke_dasharray, '5 5');\n    }\n\n    createTextBox(x: number, y: number): void {\n        this.textBox = this.renderer.createElement('text', SVG_NS);\n        this.renderer.setAttribute(this.textBox, 'x', x.toString());\n        this.renderer.setAttribute(this.textBox, 'y', y.toString());\n        this.renderer.setAttribute(this.textBox, HTML_ATTRIBUTE.font_family, this.fontInfo.fontFamily);\n        this.renderer.setAttribute(this.textBox, HTML_ATTRIBUTE.font_size, this.fontInfo.fontSize);\n        this.renderer.setAttribute(this.textBox, HTML_ATTRIBUTE.font_style, this.fontInfo.fontStyle);\n        this.renderer.setAttribute(this.textBox, HTML_ATTRIBUTE.font_weight, this.fontInfo.fontWeight);\n        this.renderer.setAttribute(this.textBox, HTML_ATTRIBUTE.text_anchor, this.fontInfo.fontAlign);\n        this.renderer.setAttribute(this.textBox, HTML_ATTRIBUTE.fill, this.fontInfo.fontColor);\n    }\n\n    createNewLine(): void {\n        const remainingRightText = this.textCursor.rightSideText();\n        const tsSpanStackIsNotEmpty = this.tspans.length !== 0;\n        let refChilpos = 0;\n\n        if (tsSpanStackIsNotEmpty) {\n            refChilpos = this.textCursor.findLinePosition(this.currentLine, this.tspans);\n            this.text = this.textCursor.isAtStartOfLine() ? TEXT_LINEBREAK : this.textCursor.leftSideText();\n            this.renderer.setProperty(this.currentLine, HTML_ATTRIBUTE.innerHTML, this.text);\n        }\n\n        this.text = TEXT_CURSOR + remainingRightText;\n        this.currentLine = this.renderer.createElement('tspan', SVG_NS);\n        this.renderer.setAttribute(this.currentLine, 'x', this.textBoxXPosition.toString());\n        this.renderer.setAttribute(this.currentLine, 'dy', '1em');\n        this.renderer.setProperty(this.currentLine, HTML_ATTRIBUTE.innerHTML, this.text);\n\n        if (tsSpanStackIsNotEmpty) {\n            this.renderer.insertBefore(this.textBox, this.currentLine, this.tspans[refChilpos + 1]);\n            this.tspans.splice(refChilpos + 1, 0, this.currentLine);\n        } else {\n            this.renderer.appendChild(this.textBox, this.currentLine);\n            this.tspans.push(this.currentLine);\n        }\n    }\n\n    removeLine(): void {\n        this.renderer.removeChild(this.textBox, this.currentLine);\n        const toRemoveChildPos = this.textCursor.findLinePosition(this.currentLine, this.tspans);\n        this.tspans.splice(toRemoveChildPos, 1);\n        this.currentLine = this.tspans[toRemoveChildPos - 1];\n\n        const textContent = this.currentLine.textContent as string;\n        const lastLineText = this.textCursor.rightSideText();\n        this.text =\n            textContent === TEXT_LINEBREAK ? TEXT_CURSOR + lastLineText : textContent + TEXT_CURSOR + lastLineText;\n    }\n\n    erase(): void {\n        if (this.textCursor.isAtStartOfLine() && this.tspans[0] !== this.currentLine) {\n            this.removeLine();\n        } else {\n            const newLeftSideText = this.textCursor.leftSideText().slice(0, -1);\n            this.text = newLeftSideText + TEXT_CURSOR + this.textCursor.rightSideText();\n        }\n    }\n\n    onMouseDown(event: MouseEvent): void {\n        const xClick = this.getXPos(event.clientX);\n        const yClick = this.getYPos(event.clientY);\n        const button = event.button;\n\n        if (!this.isWriting && button === MOUSE.LeftButton) {\n            this.shortCutManagerService.changeIsOnInput(true);\n            this.attributesManagerService.isWritingState.next(true);\n\n            this.textBoxXPosition = xClick;\n            this.textBoxYPosition = yClick;\n\n            this.createTextBox(this.textBoxXPosition, this.textBoxYPosition);\n            this.initPreviewRect();\n            this.createNewLine();\n\n            this.gWrap = this.renderer.createElement('g', SVG_NS);\n            this.renderer.setAttribute(this.gWrap, HTML_ATTRIBUTE.title, TOOL_NAME.Text);\n\n            this.renderer.appendChild(this.gWrap, this.previewBox);\n            this.renderer.appendChild(this.gWrap, this.textBox);\n            this.renderer.appendChild(this.elementRef.nativeElement, this.gWrap);\n            this.updatePreviewBox();\n        } else if (!this.ifClickInTextBox(xClick, yClick)) {\n            this.cleanUp();\n        }\n    }\n\n    onKeyDown(event: KeyboardEvent): void {\n        if (!this.isWriting || event.ctrlKey || event.altKey) {\n            return;\n        }\n        event.preventDefault();\n        this.textCursor.currentCursorIndex = this.text.indexOf(TEXT_CURSOR);\n\n        if (this.keyboardActions.has(event.key)) {\n            (this.keyboardActions.get(event.key) as () => void).apply(this, [event.key]);\n        } else {\n            this.addText(event.key);\n        }\n        this.renderer.setProperty(this.currentLine, HTML_ATTRIBUTE.innerHTML, this.text);\n        setTimeout(() => {\n            this.updatePreviewBox();\n        }, 0);\n    }\n\n    cleanUp(): void {\n        if (this.gWrap !== undefined && this.tspans.length !== 0) {\n            this.renderer.removeChild(this.gWrap, this.previewBox);\n            if (this.tspans.length === 1 && this.text === TEXT_CURSOR) {\n                this.renderer.removeChild(this.elementRef, this.gWrap);\n            } else {\n                this.textCursor.currentCursorIndex = this.text.indexOf(TEXT_CURSOR);\n                this.text = this.textCursor.erase();\n                this.renderer.setProperty(this.currentLine, HTML_ATTRIBUTE.innerHTML, this.text);\n                setTimeout(() => {\n                    this.drawStack.push(this.gWrap);\n                }, 0);\n            }\n\n            this.tspans = new Array<SVGTSpanElement>();\n            this.text = '';\n            this.attributesManagerService.isWritingState.next(false);\n            this.shortCutManagerService.changeIsOnInput(false);\n        }\n    }\n    moveCursor(key: string): void {\n        const currentLineRef: SVGTSpanElement[] = [this.currentLine];\n        if (key === KEYS.ArrowLeft) {\n            this.text = this.textCursor.isAtStartOfLine()\n                ? this.textCursor.swapToAnotherLine(-1, currentLineRef, this.tspans)\n                : this.textCursor.swapInCurrentLine(-1);\n        } else {\n            this.text = this.textCursor.isAtEndOfLine()\n                ? this.textCursor.swapToAnotherLine(1, currentLineRef, this.tspans)\n                : this.textCursor.swapInCurrentLine(1);\n        }\n        this.currentLine = currentLineRef[0];\n    }\n    addText(key: string): void {\n        if (key.length > 1) {\n            return;\n        } else if (key === KEYS.Space) {\n            key = TEXT_SPACE;\n        }\n        const newLeftSideText = (this.textCursor.leftSideText() + TEXT_CURSOR).replace(TEXT_CURSOR, key);\n        this.text = newLeftSideText + TEXT_CURSOR + this.textCursor.rightSideText();\n    }\n\n    openSnackBar(): void {\n        this.snackBar.open(`Le caractère ${KEYS.SmallerThan} n'est malheureusement pas disponible`, '', {\n            duration: SNACKBAR_DURATION,\n        });\n    }\n    // tslint:disable-next-line: no-empty\n    onMouseUp(event: MouseEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onMouseEnter(event: MouseEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onMouseLeave(event: MouseEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onKeyUp(event: KeyboardEvent): void {}\n    // tslint:disable-next-line: no-empty\n    onMouseMove(event: MouseEvent): void {}\n}\n","import { ElementRef, Injectable, Renderer2 } from '@angular/core';\nimport { MatDialog } from '@angular/material';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\nimport { DrawingModalWindowComponent } from 'src/app/components/modal-windows/drawing-modal-window/drawing-modal-window.component';\n// tslint:disable-next-line: max-line-length\nimport { ExportFileModalWindowComponent } from 'src/app/components/modal-windows/export-file-modal-window/export-file-modal-window.component';\nimport { OpenFileModalWindowComponent } from 'src/app/components/modal-windows/open-file-modal-window/open-file-modal-window.component';\nimport { SaveFileModalWindowComponent } from 'src/app/components/modal-windows/save-file-modal-window/save-file-modal-window.component';\nimport { TOOL_NAME } from 'src/constants/tool-constants';\nimport { DrawStackService } from '../../draw-stack/draw-stack.service';\nimport { ModalManagerService } from '../../modal-manager/modal-manager.service';\nimport { UndoRedoerService } from '../../undo-redoer/undo-redoer.service';\nimport { AbstractToolService } from '../abstract-tools/abstract-tool.service';\nimport { BrushToolService } from '../brush-tool/brush-tool.service';\nimport { ColorApplicatorToolService } from '../color-applicator-tool/color-applicator-tool.service';\nimport { DropperToolService } from '../dropper-tool/dropper-tool.service';\nimport { EllipsisToolService } from '../ellipsis-tool/ellipsis-tool.service';\nimport { EraserToolService } from '../eraser-tool/eraser-tool.service';\nimport { ExportToolService } from '../export-tool/export-tool.service';\nimport { FillToolService } from '../fill-tool/fill-tool.service';\nimport { LineToolService } from '../line-tool/line-tool.service';\nimport { MagnetismToolService } from '../magnetism-tool/magnetism-tool.service';\nimport { PenToolService } from '../pen-tool/pen-tool.service';\nimport { PencilToolService } from '../pencil-tool/pencil-tool.service';\nimport { PolygonToolService } from '../polygon-tool/polygon-tool.service';\nimport { QuillToolService } from '../quill-tool/quill-tool.service';\nimport { RectangleToolService } from '../rectangle-tool/rectangle-tool.service';\nimport { SelectionToolService } from '../selection-tool/selection-tool.service';\nimport { SprayCanToolService } from '../spray-can-tool/spray-can-tool.service';\nimport { StampToolService } from '../stamp-tool/stamp-tool.service';\nimport { TextToolService } from '../text-tool/text-tool.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class ToolSelectorService {\n    private toolName: BehaviorSubject<TOOL_NAME> = new BehaviorSubject(TOOL_NAME.Selection);\n\n    currentToolName: Observable<TOOL_NAME> = this.toolName.asObservable();\n    currentTool: AbstractToolService | undefined;\n    modalIsDisplayed = false;\n    drawStack: DrawStackService;\n    TOOLS_MAP: Map<TOOL_NAME, AbstractToolService>;\n    WORKZONE_TOOLS_MAP: Map<TOOL_NAME, () => void>;\n\n    constructor(\n        private dialog: MatDialog,\n        private modalManagerService: ModalManagerService,\n        private selectionTool: SelectionToolService,\n        private rectangleTool: RectangleToolService,\n        private ellipsisTool: EllipsisToolService,\n        private pencilTool: PencilToolService,\n        private penTool: PenToolService,\n        private quillTool: QuillToolService,\n        private brushTool: BrushToolService,\n        private stampTool: StampToolService,\n        private dropperTool: DropperToolService,\n        private fillTool: FillToolService,\n        private colorApplicatorTool: ColorApplicatorToolService,\n        private polygonTool: PolygonToolService,\n        private lineTool: LineToolService,\n        private textTool: TextToolService,\n        private exportTool: ExportToolService,\n        private eraserTool: EraserToolService,\n        private undoRedoerService: UndoRedoerService,\n        private magnetismTool: MagnetismToolService,\n        private sprayCanTool: SprayCanToolService,\n    ) {\n        this.modalManagerService.currentModalIsDisplayed.subscribe((modalIsDisplayed) => {\n            this.modalIsDisplayed = modalIsDisplayed;\n        });\n    }\n\n    initTools(drawStack: DrawStackService, ref: ElementRef<SVGElement>, renderer: Renderer2): void {\n        this.selectionTool.initializeService(ref, renderer, drawStack);\n\n        this.rectangleTool.initializeService(ref, renderer, drawStack);\n\n        this.ellipsisTool.initializeService(ref, renderer, drawStack);\n\n        this.pencilTool.initializeService(ref, renderer, drawStack);\n\n        this.penTool.initializeService(ref, renderer, drawStack);\n\n        this.quillTool.initializeService(ref, renderer, drawStack);\n\n        this.brushTool.initializeService(ref, renderer, drawStack);\n\n        this.stampTool.initializeService(ref, renderer, drawStack);\n\n        this.dropperTool.initializeService(ref, renderer, drawStack);\n\n        this.fillTool.initializeService(ref, renderer, drawStack);\n\n        this.colorApplicatorTool.initializeService(ref, renderer, drawStack);\n\n        this.polygonTool.initializeService(ref, renderer, drawStack);\n\n        this.lineTool.initializeService(ref, renderer, drawStack);\n\n        this.textTool.initializeService(ref, renderer, drawStack);\n\n        this.exportTool.initializeService(ref, renderer);\n\n        this.eraserTool.initializeService(ref, renderer, drawStack);\n\n        this.sprayCanTool.initializeService(ref, renderer, drawStack);\n\n        this.TOOLS_MAP = new Map([\n            [TOOL_NAME.Selection, this.selectionTool as AbstractToolService],\n            [TOOL_NAME.Rectangle, this.rectangleTool as AbstractToolService],\n            [TOOL_NAME.Ellipsis, this.ellipsisTool as AbstractToolService],\n            [TOOL_NAME.Pencil, this.pencilTool as AbstractToolService],\n            [TOOL_NAME.Brush, this.brushTool as AbstractToolService],\n            [TOOL_NAME.Stamp, this.stampTool as AbstractToolService],\n            [TOOL_NAME.ColorApplicator, this.colorApplicatorTool as AbstractToolService],\n            [TOOL_NAME.Polygon, this.polygonTool as AbstractToolService],\n            [TOOL_NAME.Line, this.lineTool as AbstractToolService],\n            [TOOL_NAME.Dropper, this.dropperTool as AbstractToolService],\n            [TOOL_NAME.Pen, this.penTool as AbstractToolService],\n            [TOOL_NAME.Quill, this.quillTool as AbstractToolService],\n            [TOOL_NAME.Eraser, this.eraserTool as AbstractToolService],\n            [TOOL_NAME.SprayCan, this.sprayCanTool as AbstractToolService],\n            [TOOL_NAME.Fill, this.fillTool as AbstractToolService],\n            [TOOL_NAME.Text, this.textTool as AbstractToolService],\n        ]);\n\n        this.WORKZONE_TOOLS_MAP = new Map([\n            [\n                TOOL_NAME.NewDrawing,\n                () => {\n                    if (!this.modalIsDisplayed) {\n                        this.displayNewDrawingModal();\n                    }\n                },\n            ],\n            [\n                TOOL_NAME.ArtGallery,\n                () => {\n                    if (!this.modalIsDisplayed) {\n                        this.displayOpenFileModal();\n                    }\n                },\n            ],\n            [\n                TOOL_NAME.Save,\n                () => {\n                    if (!this.modalIsDisplayed) {\n                        this.displaySaveFileModal();\n                    }\n                },\n            ],\n            [\n                TOOL_NAME.Export,\n                () => {\n                    if (!this.modalIsDisplayed) {\n                        this.displayExportFileModal();\n                    }\n                },\n            ],\n            [\n                TOOL_NAME.Undo,\n                () => {\n                    if (!this.modalIsDisplayed) {\n                        this.undoRedoerService.undo();\n                    }\n                },\n            ],\n            [\n                TOOL_NAME.Redo,\n                () => {\n                    if (!this.modalIsDisplayed) {\n                        this.undoRedoerService.redo();\n                    }\n                },\n            ],\n        ]);\n    }\n\n    displayNewDrawingModal(): void {\n        const newDrawingDialogRef = this.dialog.open(DrawingModalWindowComponent, {\n            panelClass: 'myapp-max-width-dialog',\n            autoFocus: false,\n        });\n        this.modalManagerService.setModalIsDisplayed(true);\n        newDrawingDialogRef.afterClosed().subscribe(() => {\n            this.modalManagerService.setModalIsDisplayed(false);\n        });\n    }\n\n    displayOpenFileModal(): void {\n        const openFileDialogRef = this.dialog.open(OpenFileModalWindowComponent, {\n            panelClass: 'myapp-open-file-modal-dialog',\n            disableClose: true,\n            autoFocus: false,\n        });\n        this.modalManagerService.setModalIsDisplayed(true);\n        openFileDialogRef.afterClosed().subscribe(() => {\n            this.modalManagerService.setModalIsDisplayed(false);\n        });\n    }\n\n    displaySaveFileModal(): void {\n        const saveFileDialogRef = this.dialog.open(SaveFileModalWindowComponent, {\n            panelClass: 'myapp-min-width-dialog',\n            disableClose: true,\n            autoFocus: false,\n        });\n        this.modalManagerService.setModalIsDisplayed(true);\n        saveFileDialogRef.afterClosed().subscribe(() => {\n            this.modalManagerService.setModalIsDisplayed(false);\n        });\n    }\n\n    displayExportFileModal(): void {\n        const exportFileDialogRef = this.dialog.open(ExportFileModalWindowComponent, {\n            panelClass: 'myapp-min-width-dialog',\n            disableClose: true,\n            autoFocus: false,\n        });\n        this.modalManagerService.setModalIsDisplayed(true);\n        exportFileDialogRef.afterClosed().subscribe(() => {\n            this.modalManagerService.setModalIsDisplayed(false);\n        });\n    }\n\n    getSelectiontool(): SelectionToolService {\n        return this.selectionTool;\n    }\n\n    getPencilTool(): PencilToolService {\n        return this.pencilTool;\n    }\n\n    getPenTool(): PenToolService {\n        return this.penTool;\n    }\n\n    getQuillTool(): QuillToolService {\n        return this.quillTool;\n    }\n\n    getRectangleTool(): RectangleToolService {\n        return this.rectangleTool;\n    }\n\n    getEllipsisTool(): EllipsisToolService {\n        return this.ellipsisTool;\n    }\n\n    getBrushTool(): BrushToolService {\n        return this.brushTool;\n    }\n\n    getStampTool(): StampToolService {\n        return this.stampTool;\n    }\n\n    getDropperTool(): DropperToolService {\n        return this.dropperTool;\n    }\n\n    getFillTool(): FillToolService {\n        return this.fillTool;\n    }\n\n    getColorApplicatorTool(): ColorApplicatorToolService {\n        return this.colorApplicatorTool;\n    }\n\n    getPolygonTool(): PolygonToolService {\n        return this.polygonTool;\n    }\n\n    getLineTool(): LineToolService {\n        return this.lineTool;\n    }\n\n    getTextTool(): TextToolService {\n        return this.textTool;\n    }\n\n    getEraserTool(): EraserToolService {\n        return this.eraserTool;\n    }\n\n    getMagnetismTool(): MagnetismToolService {\n        return this.magnetismTool;\n    }\n\n    getSprayCanTool(): SprayCanToolService {\n        return this.sprayCanTool;\n    }\n\n    changeTool(tooltipName: TOOL_NAME): void {\n        if (this.currentTool) {\n            this.currentTool.cleanUp();\n        }\n\n        if (tooltipName === TOOL_NAME.Grid) {\n            this.changeCurrentToolName(tooltipName);\n            return;\n        }\n\n        if (tooltipName === TOOL_NAME.Magnetism) {\n            this.changeCurrentToolName(tooltipName);\n            return;\n        }\n\n        const tool: AbstractToolService | undefined = this.TOOLS_MAP.get(tooltipName);\n        if (tool !== undefined) {\n            this.currentTool = tool;\n            this.changeCurrentToolName(tooltipName);\n            return;\n        }\n\n        const workzoneTool: (() => void) | undefined = this.WORKZONE_TOOLS_MAP.get(tooltipName);\n        if (workzoneTool !== undefined) {\n            workzoneTool();\n            return;\n        }\n    }\n\n    changeCurrentToolName(toolName: TOOL_NAME): void {\n        this.toolName.next(toolName);\n    }\n}\n","import { ElementRef, Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\nimport { Drawing } from 'src/../../common/communication/Drawing';\nimport { DrawingState } from 'src/classes/DrawingState';\nimport { TITLE_ELEMENT_TO_REMOVE } from 'src/constants/constants';\nimport { HTML_ATTRIBUTE } from 'src/constants/tool-constants';\nimport { DrawingInfo } from '../../../../../common/communication/DrawingInfo';\nimport { DrawingModalWindowService } from '../drawing-modal-window/drawing-modal-window.service';\nimport { DrawingLoaderService } from '../server/drawing-loader/drawing-loader.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class UndoRedoerService {\n    undos = new Array<DrawingState>();\n    redos = new Array<DrawingState>();\n\n    workzoneRef: ElementRef<SVGElement>;\n    currentDrawingInfo: DrawingInfo;\n\n    fromLoader = false;\n\n    pasteOffset: BehaviorSubject<number> = new BehaviorSubject(0);\n    duplicateOffset: BehaviorSubject<number> = new BehaviorSubject(0);\n    clipping: BehaviorSubject<Set<SVGElement>> = new BehaviorSubject(new Set<SVGElement>());\n\n    currentPasteOffset: Observable<number> = this.pasteOffset.asObservable();\n    currentDuplicateOffset: Observable<number> = this.duplicateOffset.asObservable();\n    currentClipping: Observable<Set<SVGElement>> = this.clipping.asObservable();\n\n    constructor(\n        private drawingLoaderService: DrawingLoaderService,\n        private drawingModalWindowService: DrawingModalWindowService,\n    ) {}\n\n    initializeService(workzoneRef: ElementRef<SVGElement>) {\n        this.workzoneRef = workzoneRef;\n        this.drawingModalWindowService.drawingInfo.subscribe((drawingInfo) => {\n            this.currentDrawingInfo = drawingInfo;\n        });\n    }\n\n    initializeStacks(): void {\n        this.undos = [];\n        this.redos = [];\n    }\n\n    getCleanInnerHTML(): string {\n        const cloneWorkzone = this.workzoneRef.nativeElement.cloneNode(true) as SVGElement;\n\n        const elToRemove = new Array<SVGElement>();\n\n        cloneWorkzone.childNodes.forEach((childNode: ChildNode) => {\n            if ((childNode as SVGElement).getAttribute(HTML_ATTRIBUTE.title) === TITLE_ELEMENT_TO_REMOVE) {\n                elToRemove.push(childNode as SVGElement);\n            }\n        });\n\n        elToRemove.forEach((el: SVGElement) => {\n            cloneWorkzone.removeChild(el);\n        });\n\n        return cloneWorkzone.innerHTML;\n    }\n\n    createDrawing(idStackArray: string[]): Drawing {\n        const cleanedInnerHTML = this.getCleanInnerHTML();\n        const drawing: Drawing = {\n            svg: cleanedInnerHTML,\n            drawingInfo: {\n                name: '',\n                labels: [],\n                idStack: idStackArray,\n                height: this.currentDrawingInfo.height,\n                width: this.currentDrawingInfo.width,\n                color: this.currentDrawingInfo.color,\n                createdAt: 0,\n                lastModified: 0,\n            } as DrawingInfo,\n        } as Drawing;\n\n        return drawing;\n    }\n\n    saveStateAndDuplicateOffset(idStackArray: string[], duplicateOffset: number) {\n        const currentDrawing = this.createDrawing(idStackArray.slice(0));\n\n        const currentState: DrawingState = new DrawingState(currentDrawing);\n        currentState.duplicateOffset = duplicateOffset;\n\n        this.saveState(currentState);\n    }\n\n    saveStateFromPaste(idStackArray: string[], pasteOffset: number, clippingState: Set<SVGElement>) {\n        const currentDrawing = this.createDrawing(idStackArray.slice(0));\n\n        const currentState: DrawingState = new DrawingState(currentDrawing);\n        currentState.pasteOffset = pasteOffset;\n        currentState.clippings = new Set<SVGElement>(clippingState);\n\n        this.saveState(currentState);\n    }\n\n    saveCurrentState(idStackArray: string[]): void {\n        const currentDrawing = this.createDrawing(idStackArray.slice(0));\n\n        const currentState: DrawingState = new DrawingState(currentDrawing);\n\n        this.saveState(currentState);\n    }\n\n    saveState(state: DrawingState) {\n        this.undos.push(state);\n        if (this.redos.length > 0) {\n            this.redos = [];\n        }\n    }\n\n    undo(): void {\n        if (this.undos.length > 1) {\n            const currentState = this.undos.pop();\n            this.redos.push(currentState as DrawingState);\n            const stateToLoad = this.undos[this.undos.length - 1];\n\n            if (stateToLoad.duplicateOffset !== undefined) {\n                this.duplicateOffset.next(stateToLoad.duplicateOffset);\n            } else if (stateToLoad.pasteOffset !== undefined && stateToLoad.clippings !== undefined) {\n                this.pasteOffset.next(stateToLoad.pasteOffset);\n                this.clipping.next(stateToLoad.clippings);\n            }\n\n            this.drawingLoaderService.currentDrawing.next(stateToLoad.drawing);\n        }\n    }\n\n    redo(): void {\n        if (this.redos.length > 0) {\n            const stateToLoad = this.redos.pop() as DrawingState;\n            this.undos.push(stateToLoad as DrawingState);\n\n            if (stateToLoad.duplicateOffset !== undefined) {\n                this.duplicateOffset.next(stateToLoad.duplicateOffset);\n            } else if (stateToLoad.pasteOffset !== undefined) {\n                this.pasteOffset.next(stateToLoad.pasteOffset);\n            }\n\n            this.drawingLoaderService.currentDrawing.next(stateToLoad.drawing);\n        }\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class WelcomeModalWindowService {\n    readonly storageKey = 'display welcome modal';\n    private displayWelcomeModalWindow: BehaviorSubject<boolean> = new BehaviorSubject(true);\n\n    currentDisplayWelcomeModalWindow: Observable<boolean> = this.displayWelcomeModalWindow.asObservable();\n\n    getValueFromLocalStorage(): boolean {\n        if (localStorage.getItem(this.storageKey)) {\n            const key = localStorage.getItem(this.storageKey);\n            if (key === 'true') {\n                this.displayWelcomeModalWindow.next(true);\n            }\n            if (key === 'false') {\n                this.displayWelcomeModalWindow.next(false);\n            }\n        }\n\n        return this.displayWelcomeModalWindow.value;\n    }\n\n    setValueToLocalStorage(value: string): void {\n        localStorage.setItem(this.storageKey, value);\n        if (value === 'true') {\n            this.displayWelcomeModalWindow.next(true);\n        } else if (value === 'false') {\n            this.displayWelcomeModalWindow.next(false);\n        }\n    }\n}\n","import { AttributesManagerService } from 'src/app/services/tools/attributes-manager/attributes-manager.service';\nimport { MAX_RGB_NUMBER, RGBA_ARRAY_LENGTH } from 'src/constants/color-constants';\nimport { MAX_PATH_DISTANCE, MAX_PERCENTAGE } from 'src/constants/tool-constants';\nimport { Coords2D } from './Coords2D';\n\nexport class BFSHelper {\n    maxX: number;\n    maxY: number;\n    context2D: CanvasRenderingContext2D;\n    visited: Set<string>;\n    queue: Coords2D[];\n    strokes: Coords2D[];\n    strokesSet: Set<string>;\n    tolerance: number;\n    data: Uint8ClampedArray;\n    pathsToFill: Coords2D[][];\n    tmpPath: Coords2D[];\n\n    constructor(\n        maxX: number,\n        maxY: number,\n        context2D: CanvasRenderingContext2D,\n        attributesManagerService: AttributesManagerService,\n    ) {\n        this.maxX = maxX;\n        this.maxY = maxY;\n        this.context2D = context2D;\n        this.visited = new Set([]);\n        this.queue = [];\n        this.strokes = [];\n        this.strokesSet = new Set([]);\n\n        attributesManagerService.tolerance.subscribe((tolerance: number) => {\n            this.tolerance = tolerance;\n        });\n    }\n\n    computeBFS(clickPosition: Coords2D): void {\n        const imageData: ImageData = this.context2D.getImageData(0, 0, this.maxX, this.maxY);\n        this.data = imageData.data;\n\n        const targetColor: number[] = this.getPixelColor(clickPosition);\n        this.queue.push(clickPosition);\n\n        while (this.queue.length > 0) {\n            const pixel: Coords2D = this.queue.pop() as Coords2D;\n\n            if (!this.isSameColor(this.getPixelColor(pixel), targetColor)) {\n                continue;\n            }\n\n            const neighborPixels = [\n                new Coords2D(pixel.x - 1, pixel.y),\n                new Coords2D(pixel.x + 1, pixel.y),\n                new Coords2D(pixel.x, pixel.y - 1),\n                new Coords2D(pixel.x, pixel.y + 1),\n            ];\n\n            for (const neighborPixel of neighborPixels) {\n                if (this.visited.has(`${neighborPixel.x} ${neighborPixel.y}`)) {\n                    continue;\n                }\n                if (!this.isValidPosition(neighborPixel)) {\n                    this.strokes.push(pixel);\n                    this.strokesSet.add(`${pixel.x} ${pixel.y}`);\n                    break;\n                }\n                if (this.isSameColor(this.getPixelColor(neighborPixel), targetColor)) {\n                    this.queue.push(neighborPixel);\n                    this.visited.add(`${neighborPixel.x} ${neighborPixel.y}`);\n                } else {\n                    this.strokes.push(neighborPixel);\n                    this.strokesSet.add(`${neighborPixel.x} ${neighborPixel.y}`);\n                    break;\n                }\n            }\n        }\n        this.createPathToFill();\n    }\n\n    searchIn(neighborPixels: Coords2D[], closestNeighbor: Coords2D): void {\n        neighborPixels.forEach((neighborPixel: Coords2D) => {\n            if (\n                this.strokesSet.has(`${neighborPixel.x} ${neighborPixel.y}`) &&\n                !this.visited.has(`${neighborPixel.x} ${neighborPixel.y}`)\n            ) {\n                closestNeighbor.setCoords(neighborPixel);\n            }\n        });\n    }\n\n    searchInDirectNeighbors(pixel: Coords2D, closestNeighbor: Coords2D): void {\n        const neighborPixels = [\n            new Coords2D(pixel.x - 1, pixel.y),\n            new Coords2D(pixel.x + 1, pixel.y),\n            new Coords2D(pixel.x, pixel.y - 1),\n            new Coords2D(pixel.x, pixel.y + 1),\n        ];\n        this.searchIn(neighborPixels, closestNeighbor);\n    }\n\n    searchInIndirectNeighbors(pixel: Coords2D, closestNeighbor: Coords2D): void {\n        const neighborPixels = [\n            new Coords2D(pixel.x - 1, pixel.y - 1),\n            new Coords2D(pixel.x - 1, pixel.y + 1),\n            new Coords2D(pixel.x + 1, pixel.y - 1),\n            new Coords2D(pixel.x + 1, pixel.y + 1),\n        ];\n        this.searchIn(neighborPixels, closestNeighbor);\n    }\n\n    findClosestPixel(pixel: Coords2D, closestNeighbor: Coords2D): void {\n        let closestNeighborDistance = Number.MAX_SAFE_INTEGER;\n        this.strokes.forEach((el: Coords2D) => {\n            if (!this.visited.has(`${el.x} ${el.y}`)) {\n                const distance = el.distanceTo(pixel);\n                if (distance < closestNeighborDistance) {\n                    closestNeighborDistance = distance;\n                    closestNeighbor.setCoords(el);\n                }\n            }\n        });\n\n        if (closestNeighborDistance > MAX_PATH_DISTANCE && this.tmpPath.length > 0) {\n            this.pathsToFill.push(this.tmpPath);\n            this.tmpPath = [];\n        }\n    }\n\n    updateClosestNeighbor(pixel: Coords2D, closestNeighbor: Coords2D): void {\n        this.searchInDirectNeighbors(pixel, closestNeighbor);\n        if (!closestNeighbor.isValid()) {\n            this.searchInIndirectNeighbors(pixel, closestNeighbor);\n        }\n        if (!closestNeighbor.isValid()) {\n            this.findClosestPixel(pixel, closestNeighbor);\n        }\n    }\n\n    createPathToFill() {\n        if (this.strokes.length === 0) {\n            return;\n        }\n\n        this.pathsToFill = [];\n        this.visited = new Set([]);\n        this.tmpPath = [];\n\n        const pixel: Coords2D = this.strokes[0];\n        this.visited.add(`${pixel.x} ${pixel.y}`);\n\n        while (pixel.isValid()) {\n            this.tmpPath.push(pixel.clone());\n\n            const closestNeighbor: Coords2D = new Coords2D(-1, -1);\n            this.updateClosestNeighbor(pixel, closestNeighbor);\n\n            this.visited.add(`${closestNeighbor.x} ${closestNeighbor.y}`);\n            pixel.setCoords(closestNeighbor);\n        }\n\n        this.pathsToFill.push(this.tmpPath);\n        this.tmpPath = [];\n    }\n\n    isSameColor(color1: number[], color2: number[]): boolean {\n        if (this.tolerance === 0) {\n            return color1[0] === color2[0] && color1[1] === color2[1] && color1[2] === color2[2];\n        } else {\n            const difference =\n                Math.abs(color1[0] - color2[0]) + Math.abs(color1[1] - color2[1]) + Math.abs(color1[2] - color2[2]);\n\n            const sum = MAX_RGB_NUMBER * color1.length;\n            return difference <= (this.tolerance / MAX_PERCENTAGE) * sum;\n        }\n    }\n\n    isValidPosition(pixel: Coords2D): boolean {\n        return pixel.x >= 0 && pixel.x < this.maxX && pixel.y >= 0 && pixel.y < this.maxY;\n    }\n\n    getPixelColor(pixel: Coords2D): number[] {\n        let index: number = RGBA_ARRAY_LENGTH * (pixel.x + pixel.y * this.maxX);\n        const r: number = this.data[index++];\n        const g: number = this.data[index++];\n        const b: number = this.data[index];\n        return [r, g, b];\n    }\n}\n","// Source : https://stackoverflow.com/questions/29652307/canvas-unable-to-generate-bmp-image-dataurl-in-chrome\n/* tslint:disable */\nexport class CanvasToBMP {\n    private view: DataView = new DataView(new ArrayBuffer(0));\n    private pos = 0;\n\n    toArrayBuffer(canvas: HTMLCanvasElement): ArrayBuffer {\n        const w = canvas.width;\n        const h = canvas.height;\n        const w4 = w * 4;\n        const idata = (canvas.getContext('2d') as CanvasRenderingContext2D).getImageData(0, 0, w, h);\n        const data32 = new Uint32Array(idata.data.buffer); // 32-bit representation of canvas\n\n        const stride = Math.floor((32 * w + 31) / 32) * 4; // row length incl. padding\n        const pixelArraySize = stride * h; // total bitmap size\n        const fileLength = 122 + pixelArraySize; // header size is known + bitmap\n\n        const file = new ArrayBuffer(fileLength); // raw byte buffer (returned)\n        this.view = new DataView(file); // handle endian, reg. width etc.\n        let x = 0;\n        let y = 0;\n        let p = 0;\n        let s = 0;\n        let alpha = 0;\n        let abgr = 0;\n\n        this.setU16(0x4d42); // BM\n        this.setU32(fileLength); // total length\n        this.pos += 4; // skip unused fields\n        this.setU32(0x7a); // offset to pixels\n\n        // DIB header\n        this.setU32(108); // header size\n        this.setU32(w);\n        this.setU32(-h >>> 0); // negative = top-to-bottom\n        this.setU16(1); // 1 plane\n        this.setU16(32); // 32-bits (RGBA)\n        this.setU32(3); // no compression (BI_BITFIELDS, 3)\n        this.setU32(pixelArraySize); // bitmap size incl. padding (stride x height)\n        this.setU32(2835); // pixels/meter h (~72 DPI x 39.3701 inch/m)\n        this.setU32(2835); // pixels/meter v\n        this.pos += 8; // skip color/important colors\n        this.setU32(0xff0000); // red channel mask\n        this.setU32(0xff00); // green channel mask\n        this.setU32(0xff); // blue channel mask\n        this.setU32(0xff000000); // alpha channel mask\n        this.setU32(0x57696e20); // \" win\" color space\n\n        // bitmap data, change order of ABGR to BGRA\n        while (y < h) {\n            p = 0x7a + y * stride; // offset + stride x height\n            x = 0;\n            while (x < w4) {\n                abgr = data32[s++]; // get ABGR\n                alpha = abgr >>> 24; // alpha channel\n                this.view.setUint32(p + x, (abgr << 8) | alpha); // set BGRA\n                x += 4;\n            }\n            y++;\n        }\n        return file;\n    }\n\n    // helper method to move current buffer position\n    private setU16(data: number) {\n        this.view.setUint16(this.pos, data, true);\n        this.pos += 2;\n    }\n    private setU32(data: number) {\n        this.view.setUint32(this.pos, data, true);\n        this.pos += 4;\n    }\n\n    toBlob(canvas: HTMLCanvasElement): Blob {\n        return new Blob([this.toArrayBuffer(canvas)], {\n            type: 'image/bmp',\n        });\n    }\n\n    toDataURL(canvas: HTMLCanvasElement): string {\n        const buffer = new Uint8Array(this.toArrayBuffer(canvas));\n        let bs = '';\n        let i = 0;\n        const length = buffer.length;\n        while (i < length) {\n            bs += String.fromCharCode(buffer[i++]);\n        }\n        return 'data:image/bmp;base64,' + btoa(bs);\n    }\n}\n/* tslint:enable */\n","export class Coords2D {\n    x: number;\n    y: number;\n\n    constructor(x: number, y: number) {\n        this.x = x;\n        this.y = y;\n    }\n\n    distanceTo(point: Coords2D): number {\n        return Math.pow(point.x - this.x, 2) + Math.pow(point.y - this.y, 2);\n    }\n\n    isValid(): boolean {\n        return this.x >= 0 && this.y >= 0;\n    }\n\n    setCoords(coords2D: Coords2D): void {\n        this.x = coords2D.x;\n        this.y = coords2D.y;\n    }\n\n    clone(): Coords2D {\n        return new Coords2D(this.x, this.y);\n    }\n}\n","import { Drawing } from '../../../common/communication/Drawing';\n\nexport class DrawingState {\n    drawing: Drawing;\n    pasteOffset?: number;\n    duplicateOffset?: number;\n    clippings?: Set<SVGElement>;\n\n    constructor(drawing: Drawing) {\n        this.drawing = drawing;\n    }\n}\n","import { FONT_ALIGN, FONT_STYLE, FONT_WEIGHT } from 'src/constants/tool-constants';\n\nexport class FontInfo {\n    fontFamily: string;\n    fontSize: string;\n    fontAlign: FONT_ALIGN;\n    fontStyle: FONT_STYLE;\n    fontWeight: FONT_WEIGHT;\n    fontColor: string;\n}\n","import { MatSliderChange } from '@angular/material';\n\nexport class Predicate {\n    eventIsValid<T>(event: MatSliderChange, range: T): boolean {\n        const value = event.value;\n        // @ts-ignore\n        return value !== null ? this.isBetween(value, range) : false;\n    }\n    isBetween<T>(value: number, range: T): boolean {\n        // @ts-ignore\n        return value >= range.Min && value <= range.Max;\n    }\n}\n","export class StackTargetInfo {\n    targetPosition: number;\n    toolName: string;\n\n    constructor(targetPosition?: number | undefined, toolName?: string | undefined) {\n        if (targetPosition !== undefined) {\n            this.targetPosition = targetPosition;\n        }\n        if (toolName !== undefined) {\n            this.toolName = toolName;\n        }\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { Drawing } from '../../../../common/communication/Drawing';\n\n@Pipe({\n    name: 'labelFilter',\n    pure: false,\n})\nexport class LabelFilter implements PipeTransform {\n    transform(drawings: Drawing[], labelFilter: string): Drawing[] {\n        if (labelFilter === undefined || labelFilter.length === 0) {\n            return drawings;\n        } else {\n            labelFilter = labelFilter.toLowerCase().replace(/\\s/g, '');\n            const labelsFromFilter = labelFilter.split(',').map(String);\n\n            return drawings.filter((drawing: Drawing) => {\n                let checkLabels = false;\n                labelsFromFilter.forEach((labelFromFilter: string) => {\n                    if (\n                        drawing.drawingInfo.labels.filter((label: string) => {\n                            return label\n                                .toLowerCase()\n                                .replace(/\\s/g, '')\n                                .includes(labelFromFilter);\n                        }).length !== 0\n                    ) {\n                        checkLabels = true;\n                    }\n                });\n                return checkLabels;\n            });\n        }\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { Drawing } from '../../../../common/communication/Drawing';\n\n@Pipe({\n    name: 'mySlice',\n    pure: false,\n})\nexport class MySlice implements PipeTransform {\n    transform(drawings: Drawing[], nameFilter: string): Drawing[] {\n        return nameFilter === '$tout' ? drawings : drawings.slice(0, 5);\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { Drawing } from '../../../../common/communication/Drawing';\n\n@Pipe({\n    name: 'nameFilter',\n    pure: false,\n})\nexport class NameFilter implements PipeTransform {\n    transform(drawings: Drawing[], nameFilter: string): Drawing[] {\n        if (nameFilter === '$tout') {\n            return drawings;\n        }\n\n        if (nameFilter === undefined || nameFilter.length === 0) {\n            return drawings;\n        } else {\n            nameFilter = nameFilter.toLowerCase();\n            return drawings.filter((drawing: Drawing) => {\n                return drawing.drawingInfo.name.toLowerCase().includes(nameFilter);\n            });\n        }\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\n@Pipe({ name: 'toTrustHtml' })\nexport class ToTrustHtmlPipe implements PipeTransform {\n    constructor(private domSanitizer: DomSanitizer) {}\n    transform(svg: string): SafeHtml {\n        return this.domSanitizer.bypassSecurityTrustHtml(svg);\n    }\n}\n","import { ElementRef, Renderer2 } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { SIDEBAR_WIDTH, SVG_NS, TITLE_ELEMENT_TO_REMOVE } from 'src/constants/constants';\nimport {\n    CONTROL_POINT_RADIUS,\n    CONTROL_POINTS_AMOUNT,\n    DEFAULT_RADIX,\n    HTML_ATTRIBUTE,\n    SELECTION_COLOR,\n} from 'src/constants/tool-constants';\nimport { Coords2D } from '../Coords2D';\n\nexport class Selection {\n    renderer: Renderer2;\n    svgRef: ElementRef<SVGElement>;\n\n    selectedElements: Set<SVGGElement> = new Set();\n    invertSelectionBuffer: Set<SVGGElement> = new Set();\n    selectionBox: SVGRectElement;\n    controlPoints: SVGCircleElement[] = new Array(CONTROL_POINTS_AMOUNT);\n    activeControlPoint: SVGCircleElement;\n\n    ogSelectionBoxHeight: number;\n    ogSelectionBoxWidth: number;\n    ogActiveControlPointCoords: Coords2D;\n    ogSelectionBoxPositions: Coords2D;\n\n    isActiveSelection: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n    isAppended = false;\n\n    constructor(renderer: Renderer2, svgReference: ElementRef<SVGElement>) {\n        this.renderer = renderer;\n        this.svgRef = svgReference;\n\n        this.initFullSelectionBox();\n    }\n\n    cleanUp(): void {\n        this.removeFullSelectionBox();\n        this.emptySelection();\n        this.isAppended = false;\n    }\n\n    initFullSelectionBox(): void {\n        this.selectionBox = this.renderer.createElement('rect', SVG_NS);\n        this.renderer.setAttribute(this.selectionBox, HTML_ATTRIBUTE.title, TITLE_ELEMENT_TO_REMOVE);\n        this.renderer.setAttribute(this.selectionBox, HTML_ATTRIBUTE.stroke, SELECTION_COLOR);\n        this.renderer.setAttribute(this.selectionBox, HTML_ATTRIBUTE.fill, 'none');\n        for (let i = 0; i < CONTROL_POINTS_AMOUNT; i++) {\n            this.controlPoints[i] = this.renderer.createElement('circle', SVG_NS);\n            this.renderer.setAttribute(this.controlPoints[i], HTML_ATTRIBUTE.title, TITLE_ELEMENT_TO_REMOVE);\n            this.renderer.setAttribute(this.controlPoints[i], 'r', CONTROL_POINT_RADIUS.toString());\n            this.renderer.setAttribute(this.controlPoints[i], HTML_ATTRIBUTE.stroke, SELECTION_COLOR);\n            this.renderer.setAttribute(this.controlPoints[i], HTML_ATTRIBUTE.fill, SELECTION_COLOR);\n            this.renderer.setAttribute(this.controlPoints[i], 'controlPointId', i.toString());\n        }\n    }\n\n    removeFullSelectionBox(): void {\n        if (this.isAppended) {\n            this.renderer.removeChild(this.svgRef.nativeElement, this.selectionBox);\n            for (const ctrlPt of this.controlPoints) {\n                this.renderer.removeChild(this.svgRef.nativeElement, ctrlPt);\n            }\n            this.isAppended = false;\n            this.isActiveSelection.next(false);\n        }\n    }\n\n    appendFullSelectionBox(): void {\n        if (!this.isAppended) {\n            this.renderer.appendChild(this.svgRef.nativeElement, this.selectionBox);\n            for (const ctrlPt of this.controlPoints) {\n                this.renderer.appendChild(this.svgRef.nativeElement, ctrlPt);\n            }\n            this.isAppended = true;\n            this.isActiveSelection.next(true);\n        }\n    }\n\n    getDOMRect(el: SVGGElement): DOMRect {\n        return el.getBoundingClientRect() as DOMRect;\n    }\n\n    getControlPointCx(ctrlPt: SVGCircleElement): number {\n        return ctrlPt.cx.baseVal.value;\n    }\n\n    getControlPointCy(ctrlPt: SVGCircleElement): number {\n        return ctrlPt.cy.baseVal.value;\n    }\n\n    getControlPointR(ctrlPt: SVGCircleElement): number {\n        return ctrlPt.r.baseVal.value;\n    }\n\n    getStrokeWidth(el: SVGGElement): number {\n        if (el.getAttribute(HTML_ATTRIBUTE.stroke_width)) {\n            return parseInt(el.getAttribute(HTML_ATTRIBUTE.stroke_width) as string, DEFAULT_RADIX);\n        }\n\n        return 0;\n    }\n\n    mouseIsInSelectionBox(currentMouseCoords: Coords2D): boolean {\n        const selectionBoxLeft = this.getDOMRect(this.selectionBox).x + window.scrollX - SIDEBAR_WIDTH;\n        const selectionBoxRight =\n            this.getDOMRect(this.selectionBox).x +\n            window.scrollX -\n            SIDEBAR_WIDTH +\n            this.getDOMRect(this.selectionBox).width;\n        const selectionBoxTop = this.getDOMRect(this.selectionBox).y + window.scrollY;\n        const selectionBoxBottom =\n            this.getDOMRect(this.selectionBox).y + window.scrollY + this.getDOMRect(this.selectionBox).height;\n        return (\n            currentMouseCoords.x >= selectionBoxLeft &&\n            currentMouseCoords.x <= selectionBoxRight &&\n            currentMouseCoords.y >= selectionBoxTop &&\n            currentMouseCoords.y <= selectionBoxBottom &&\n            this.isAppended\n        );\n    }\n\n    mouseIsInControlPoint(currentMouseCoords: Coords2D): boolean {\n        for (const ctrlPt of this.controlPoints) {\n            const cx = this.getControlPointCx(ctrlPt);\n            const cy = this.getControlPointCy(ctrlPt);\n            const r = this.getControlPointR(ctrlPt);\n\n            const distX = currentMouseCoords.x - cx;\n            const distY = currentMouseCoords.y - cy;\n\n            if (Math.abs(distX) <= r && Math.abs(distY) <= r && this.isAppended) {\n                this.activeControlPoint = ctrlPt;\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    findLeftMostCoord(): number {\n        const leftCoords: number[] = new Array();\n\n        for (const el of this.selectedElements) {\n            leftCoords.push(this.getDOMRect(el).x + window.scrollX - SIDEBAR_WIDTH - this.getStrokeWidth(el) / 2);\n        }\n\n        return Math.min.apply(Math, leftCoords);\n    }\n\n    findRightMostCoord(): number {\n        const rightCoords: number[] = new Array();\n\n        for (const el of this.selectedElements) {\n            rightCoords.push(\n                this.getDOMRect(el).x +\n                    window.scrollX -\n                    SIDEBAR_WIDTH +\n                    this.getDOMRect(el).width +\n                    this.getStrokeWidth(el) / 2,\n            );\n        }\n\n        return Math.max.apply(Math, rightCoords);\n    }\n\n    findTopMostCoord(): number {\n        const topCoords: number[] = new Array();\n\n        for (const el of this.selectedElements) {\n            topCoords.push(this.getDOMRect(el).y + window.scrollY - this.getStrokeWidth(el) / 2);\n        }\n\n        return Math.min.apply(Math, topCoords);\n    }\n\n    findBottomMostCoord(): number {\n        const bottomCoords: number[] = new Array();\n\n        for (const el of this.selectedElements) {\n            bottomCoords.push(\n                this.getDOMRect(el).y + window.scrollY + this.getDOMRect(el).height + this.getStrokeWidth(el) / 2,\n            );\n        }\n\n        return Math.max.apply(Math, bottomCoords);\n    }\n\n    updateFullSelectionBox(): void {\n        if (!(this.selectedElements.size > 0)) {\n            this.removeFullSelectionBox();\n            return;\n        }\n        const left = this.findLeftMostCoord();\n        const right = this.findRightMostCoord();\n        const top = this.findTopMostCoord();\n        const bottom = this.findBottomMostCoord();\n\n        this.renderer.setAttribute(this.selectionBox, 'x', left.toString());\n        this.renderer.setAttribute(this.selectionBox, 'y', top.toString());\n        this.renderer.setAttribute(this.selectionBox, HTML_ATTRIBUTE.width, (right - left).toString());\n        this.renderer.setAttribute(this.selectionBox, HTML_ATTRIBUTE.height, (bottom - top).toString());\n\n        this.updateControlPoints();\n    }\n\n    updateControlPoints(): void {\n        const positionMap: Map<number, [string, string]> = new Map();\n\n        positionMap.set(0, [\n            this.selectionBox.x.baseVal.value.toString(),\n            this.selectionBox.y.baseVal.value.toString(),\n        ]);\n        positionMap.set(1, [\n            (this.selectionBox.x.baseVal.value + this.selectionBox.width.baseVal.value / 2).toString(),\n            this.selectionBox.y.baseVal.value.toString(),\n        ]);\n        positionMap.set(2, [\n            (this.selectionBox.x.baseVal.value + this.selectionBox.width.baseVal.value).toString(),\n            this.selectionBox.y.baseVal.value.toString(),\n        ]);\n        positionMap.set(3, [\n            (this.selectionBox.x.baseVal.value + this.selectionBox.width.baseVal.value).toString(),\n            (this.selectionBox.y.baseVal.value + this.selectionBox.height.baseVal.value / 2).toString(),\n        ]);\n        positionMap.set(4, [\n            (this.selectionBox.x.baseVal.value + this.selectionBox.width.baseVal.value).toString(),\n            (this.selectionBox.y.baseVal.value + this.selectionBox.height.baseVal.value).toString(),\n        ]);\n        positionMap.set(5, [\n            (this.selectionBox.x.baseVal.value + this.selectionBox.width.baseVal.value / 2).toString(),\n            (this.selectionBox.y.baseVal.value + this.selectionBox.height.baseVal.value).toString(),\n        ]);\n        positionMap.set(6, [\n            this.selectionBox.x.baseVal.value.toString(),\n            (this.selectionBox.y.baseVal.value + this.selectionBox.height.baseVal.value).toString(),\n        ]);\n        positionMap.set(7, [\n            this.selectionBox.x.baseVal.value.toString(),\n            (this.selectionBox.y.baseVal.value + this.selectionBox.height.baseVal.value / 2).toString(),\n        ]);\n\n        for (let index = 0; index < CONTROL_POINTS_AMOUNT; ++index) {\n            this.renderer.setAttribute(\n                this.controlPoints[index],\n                HTML_ATTRIBUTE.cx,\n                (positionMap.get(index) as [string, string])[0],\n            );\n            this.renderer.setAttribute(\n                this.controlPoints[index],\n                HTML_ATTRIBUTE.cy,\n                (positionMap.get(index) as [string, string])[1],\n            );\n        }\n    }\n\n    addToSelection(element: SVGGElement): void {\n        this.selectedElements.add(element);\n        this.updateFullSelectionBox();\n        if (this.selectedElements.size > 0) {\n            this.appendFullSelectionBox();\n        }\n    }\n\n    invertAddToSelection(element: SVGGElement): void {\n        if (this.selectedElements.has(element)) {\n            this.selectedElements.delete(element);\n        } else {\n            this.selectedElements.add(element);\n        }\n        this.updateFullSelectionBox();\n        if (this.selectedElements.size > 0) {\n            this.appendFullSelectionBox();\n        }\n    }\n\n    removeFromSelection(element: SVGGElement): void {\n        this.selectedElements.delete(element);\n        this.updateFullSelectionBox();\n        if (this.selectedElements.size === 0) {\n            this.removeFullSelectionBox();\n        }\n    }\n\n    emptySelection(): void {\n        this.removeFullSelectionBox();\n        this.selectedElements.clear();\n    }\n\n    handleSelection(element: SVGGElement, isInSelectionRect: boolean): void {\n        if (isInSelectionRect) {\n            this.addToSelection(element);\n        } else {\n            this.removeFromSelection(element);\n        }\n    }\n\n    handleInvertSelection(element: SVGGElement, isInSelectionRect: boolean): void {\n        if (isInSelectionRect && this.selectedElements.has(element) && !this.invertSelectionBuffer.has(element)) {\n            this.invertSelectionBuffer.add(element);\n            this.removeFromSelection(element);\n        } else if (\n            isInSelectionRect &&\n            !this.selectedElements.has(element) &&\n            !this.invertSelectionBuffer.has(element)\n        ) {\n            this.invertSelectionBuffer.add(element);\n            this.addToSelection(element);\n        } else if (\n            !isInSelectionRect &&\n            !this.selectedElements.has(element) &&\n            this.invertSelectionBuffer.has(element)\n        ) {\n            this.invertSelectionBuffer.delete(element);\n            this.addToSelection(element);\n        } else if (\n            !isInSelectionRect &&\n            this.selectedElements.has(element) &&\n            this.invertSelectionBuffer.has(element)\n        ) {\n            this.invertSelectionBuffer.delete(element);\n            this.removeFromSelection(element);\n        }\n    }\n}\n","export class SVGGElementInfo {\n    borderColor: string;\n    borderWidth: string;\n\n    constructor(borderColor?: string | undefined, borderWidth?: string | undefined) {\n        if (borderColor !== undefined) {\n            this.borderColor = borderColor;\n        }\n        if (borderWidth !== undefined) {\n            this.borderWidth = borderWidth;\n        }\n    }\n}\n","import { Renderer2 } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { HTML_ATTRIBUTE, TEXT_CURSOR, TEXT_LINEBREAK } from 'src/constants/tool-constants';\n\nexport class TextCursor {\n    currentCursorIndex = 0;\n    text: string;\n    constructor(private renderer: Renderer2, textObservable: BehaviorSubject<string>) {\n        textObservable.subscribe((text) => {\n            this.text = text;\n        });\n    }\n\n    swapInCurrentLine(offset: number): string {\n        const buffer = this.text.split('');\n        buffer[this.currentCursorIndex] = buffer[this.currentCursorIndex + offset];\n        buffer[this.currentCursorIndex + offset] = TEXT_CURSOR;\n        return buffer.join('').toString();\n    }\n\n    swapToAnotherLine(offset: number, currentLineRef: SVGTSpanElement[], tspans: SVGTSpanElement[]): string {\n        const nextLinePosition = this.findLinePosition(currentLineRef[0], tspans) + offset;\n        if (nextLinePosition > tspans.length - 1 || nextLinePosition < 0) {\n            return this.text;\n        }\n\n        this.text = this.erase();\n        if (this.text === '') {\n            this.text += TEXT_LINEBREAK;\n        }\n\n        this.renderer.setProperty(currentLineRef[0], HTML_ATTRIBUTE.innerHTML, this.text);\n        currentLineRef[0] = tspans[nextLinePosition];\n        this.text = currentLineRef[0].textContent as string;\n        if (this.text === TEXT_LINEBREAK) {\n            this.text = '';\n        }\n\n        offset < 0 ? (this.text += TEXT_CURSOR) : (this.text = TEXT_CURSOR + this.text);\n        return this.text;\n    }\n\n    erase(): string {\n        const buffer = this.text.split('');\n        buffer.splice(this.currentCursorIndex, 1);\n        return buffer.join('').toString();\n    }\n\n    findLinePosition(currentLine: SVGTSpanElement, tspans: SVGTSpanElement[]): number {\n        return tspans.findIndex((el: SVGTSpanElement) => {\n            return el === currentLine;\n        });\n    }\n\n    leftSideText(): string {\n        return this.text.slice(0, this.currentCursorIndex);\n    }\n\n    rightSideText(): string {\n        return this.text.slice(this.currentCursorIndex + 1);\n    }\n\n    isAtStartOfLine(): boolean {\n        return this.currentCursorIndex === 0;\n    }\n\n    isAtEndOfLine(): boolean {\n        return this.currentCursorIndex === this.text.length - 1;\n    }\n}\n","enum COLOR_TYPE {\n    backgroundColor = 'background-color',\n    primaryColor = 'primary-color',\n    secondaryColor = 'secondary-color',\n}\n\nconst DEFAULT_WHITE = 'ffffffff';\nconst DEFAULT_TRANSPARENT = 'ffffff00';\nconst DEFAULT_GRAY_0 = 'bbbbbbff';\nconst DEFAULT_GRAY_1 = '888888ff';\nconst DEFAULT_RED = 'ff0000ff';\n\nconst MAX_RGB_NUMBER = 255;\nconst MIN_RGB_NUMBER = 0;\nconst MAX_NUMBER_OF_LAST_COLORS = 10;\n\nconst RGBA_ARRAY_LENGTH = 4;\n\nexport {\n    RGBA_ARRAY_LENGTH,\n    DEFAULT_TRANSPARENT,\n    DEFAULT_GRAY_0,\n    DEFAULT_GRAY_1,\n    DEFAULT_WHITE,\n    COLOR_TYPE,\n    MAX_RGB_NUMBER,\n    MIN_RGB_NUMBER,\n    MAX_NUMBER_OF_LAST_COLORS,\n    DEFAULT_RED,\n};\n","import { Predicate } from 'src/classes/Predicate';\n\nenum KEYS {\n    Shift = 'Shift',\n    Control = 'Control',\n    Alt = 'Alt',\n    Digit1 = '1',\n    Digit2 = '2',\n    Digit3 = '3',\n    a = 'a',\n    b = 'b',\n    c = 'c',\n    e = 'e',\n    g = 'g',\n    i = 'i',\n    l = 'l',\n    m = 'm',\n    o = 'o',\n    p = 'p',\n    r = 'r',\n    s = 's',\n    t = 't',\n    w = 'w',\n    y = 'y',\n    z = 'z',\n    Z = 'Z',\n    x = 'x',\n    v = 'v',\n    d = 'd',\n    plus = '+',\n    minus = '-',\n    delete = 'Delete',\n    Escape = 'Escape',\n    Backspace = 'Backspace',\n    Enter = 'Enter',\n    ArrowLeft = 'ArrowLeft',\n    ArrowRight = 'ArrowRight',\n    Space = ' ',\n    SmallerThan = '<',\n    GreaterThan = '>',\n}\n\nenum MOUSE {\n    LeftButton = 0,\n    MouseWheel = 1,\n    RightButton = 2,\n}\n\nenum NUMBER_OF_MS {\n    day = 100000 * 36 * 24,\n    hours = 100000 * 36,\n    minutes = 1000 * 60,\n    seconds = 1000,\n}\n\nconst SIDEBAR_WIDTH = 360;\n\nconst ELEMENTS_BEFORE_LAST_CIRCLE = 1;\n\nconst MAX_DRAWING_LENGTH = 5;\n\nconst SVG_NS = 'http://www.w3.org/2000/svg';\n\nconst PREDICATE: Predicate = new Predicate();\n\nconst GIFS = ['/assets/gifs/love.gif', '/assets/gifs/money.gif', '/assets/gifs/rolling.gif'];\n\nconst MAX_NB_LABELS = 6;\n\nconst TITLE_ELEMENT_TO_REMOVE = 'element-to-remove';\n\nexport {\n    MAX_NB_LABELS,\n    GIFS,\n    MAX_DRAWING_LENGTH,\n    SIDEBAR_WIDTH,\n    SVG_NS,\n    KEYS,\n    MOUSE,\n    PREDICATE,\n    ELEMENTS_BEFORE_LAST_CIRCLE,\n    NUMBER_OF_MS,\n    TITLE_ELEMENT_TO_REMOVE,\n};\n","import { FontType } from 'src/classes/FontType';\nimport { MagnetismPoint } from 'src/classes/MagnetismPoint';\nimport { SidebarButtonInfo } from '../classes/SidebarButtonInfo';\n\nconst CONTROL_POINTS_AMOUNT = 8;\nconst CONTROL_POINT_RADIUS = 10;\nconst SELECTION_COLOR = '#ff5722';\n\nconst NO_STAMP = '';\nconst STAMP_BASE_WIDTH = 50;\nconst STAMP_BASE_HEIGHT = 50;\n\nenum ROTATION_ANGLE {\n    Base = 15,\n    Alter = 1,\n    Min = -360,\n    Default = 0,\n    Max = 360,\n}\n\nenum QUILL_STROKE_WIDTH {\n    initialValue = '1',\n    preview = '2',\n}\n\nconst OFFSET_STEP = 10;\n\nenum TOOL_NAME {\n    TracingTool = 'Outil de traçage',\n    ShapeTool = 'Outil de forme',\n    Selection = 'Sélection',\n    SelectAll = 'Tout sélectionner',\n    Copy = 'Copier',\n    Cut = 'Couper',\n    Duplicate = 'Dupliquer',\n    Paste = 'Coller',\n    Delete = 'Supprimer',\n    Pencil = 'Crayon',\n    Brush = 'Pinceau',\n    Quill = 'Plume',\n    Pen = 'Stylo',\n    SprayCan = 'Aérosol',\n    Line = 'Ligne',\n    Rectangle = 'Rectangle',\n    Polygon = 'Polygone',\n    Ellipsis = 'Ellipse',\n    ColorApplicator = 'Applicateur de couleur',\n    Fill = 'Sceau de peinture',\n    Dropper = 'Sélecteur de couleur',\n    Eraser = 'Efface',\n    Text = 'Zone de texte',\n    Stamp = 'Étampe',\n    Grid = 'Grille',\n    Undo = 'Annuler',\n    Redo = 'Refaire',\n    NewDrawing = 'Nouveau dessin',\n    Save = 'Sauvegarder',\n    ArtGallery = 'Gallerie de dessin',\n    Export = 'Exporter',\n    Magnetism = 'Magnétisme',\n}\n\nenum THICKNESS {\n    Min = 2,\n    Default = 10,\n    Max = 100,\n}\n\nenum TOLERANCE {\n    Min = 0,\n    Default = 0,\n    Max = 100,\n}\n\nconst PEN_WIDTH_FACTOR = 5;\n\nenum TRACE_TYPE {\n    Outline = 'Contour',\n    Full = 'Plein',\n    Both = 'Plein avec contour',\n}\n\nconst POLYGONE_FORM_TYPE: Map<number, string> = new Map([\n    [3, 'Triangle'],\n    [4, 'Quadrilatère'],\n    [5, 'Pentagone'],\n    [6, 'Hexagone'],\n    [7, 'Heptagone'],\n    [8, 'Octogone'],\n    [9, 'Nonagone'],\n    [10, 'Décagone'],\n    [11, 'Hendécagone'],\n    [12, 'Dodécagone'],\n]);\n\nenum POLYGON_SIDES {\n    Min = 3,\n    Default = 3,\n    Max = 12,\n}\n\nenum GRID_SIZE {\n    Min = 5,\n    Default = 10,\n    Max = 100,\n}\n\nenum GRID_OPACITY {\n    Min = 0.2,\n    Max = 1,\n}\n\nconst GRID_SIZE_INCREMENT = 5;\nconst GRID_SIZE_DECREMENT = 5;\n\nconst TOOLS_BUTTON_INFO: SidebarButtonInfo[] = [\n    { iconName: 'fas fa-mouse-pointer', tooltipName: TOOL_NAME.Selection, shortcut: '(S)' },\n    { iconName: 'fas fa-pencil-alt', tooltipName: TOOL_NAME.TracingTool, shortcut: '(clique droit)' },\n    { iconName: 'far fa-square', tooltipName: TOOL_NAME.ShapeTool, shortcut: '(clique droit)' },\n    { iconName: 'fas fa-slash', tooltipName: TOOL_NAME.Line, shortcut: '(L)' },\n    { iconName: 'fas fa-font', tooltipName: TOOL_NAME.Text, shortcut: '(T)' },\n    { iconName: 'fas fa-fill', tooltipName: TOOL_NAME.ColorApplicator, shortcut: '(R)' },\n    { iconName: 'fas fa-fill-drip', tooltipName: TOOL_NAME.Fill, shortcut: '(B)' },\n    { iconName: 'fas fa-eraser', tooltipName: TOOL_NAME.Eraser, shortcut: '(E)' },\n    { iconName: 'fas fa-eye-dropper', tooltipName: TOOL_NAME.Dropper, shortcut: '(I)' },\n    { iconName: 'fas fa-stamp', tooltipName: TOOL_NAME.Stamp, shortcut: '' },\n    { iconName: 'fas fa-border-all', tooltipName: TOOL_NAME.Grid, shortcut: '' },\n    { iconName: 'fas fa-magnet', tooltipName: TOOL_NAME.Magnetism, shortcut: '(M)' },\n];\n\nconst TRACING_BUTTON_INFO: SidebarButtonInfo[] = [\n    { iconName: 'fas fa-pencil-alt', tooltipName: TOOL_NAME.Pencil, shortcut: '(C)' },\n    { iconName: 'fas fa-paint-brush', tooltipName: TOOL_NAME.Brush, shortcut: '(W)' },\n    { iconName: 'fas fa-pen-nib', tooltipName: TOOL_NAME.Quill, shortcut: '(P)' },\n    { iconName: 'fas fa-pen-alt', tooltipName: TOOL_NAME.Pen, shortcut: '(Y)' },\n    { iconName: 'fas fa-spray-can', tooltipName: TOOL_NAME.SprayCan, shortcut: '(A)' },\n];\n\nconst SHAPE_BUTTON_INFO: SidebarButtonInfo[] = [\n    { iconName: 'far fa-square', tooltipName: TOOL_NAME.Rectangle, shortcut: '(1)' },\n    { iconName: 'far fa-circle', tooltipName: TOOL_NAME.Ellipsis, shortcut: '(2)' },\n    { iconName: 'fas fa-draw-polygon', tooltipName: TOOL_NAME.Polygon, shortcut: '(3)' },\n];\n\nconst CLIPBOARD_BUTTON_INFO: SidebarButtonInfo[] = [\n    { iconName: 'fas fa-object-group', tooltipName: TOOL_NAME.SelectAll, shortcut: '(Ctrl-A)' },\n    { iconName: 'fas fa-paste', tooltipName: TOOL_NAME.Paste, shortcut: '(Ctrl-V)' },\n    { iconName: 'fas fa-clone', tooltipName: TOOL_NAME.Duplicate, shortcut: '(Ctrl-D)' },\n    { iconName: 'fas fa-cut', tooltipName: TOOL_NAME.Cut, shortcut: '(Ctrl-X)' },\n    { iconName: 'fas fa-copy', tooltipName: TOOL_NAME.Copy, shortcut: '(Ctrl-C)' },\n    { iconName: 'fas fa-trash-alt', tooltipName: TOOL_NAME.Delete, shortcut: '(Supprimer)' },\n];\n\nconst FILES_BUTTON_INFO: SidebarButtonInfo[] = [\n    { iconName: 'fas fa-undo-alt', tooltipName: TOOL_NAME.Undo, shortcut: '(Ctrl-Z)' },\n    { iconName: 'fas fa-redo-alt', tooltipName: TOOL_NAME.Redo, shortcut: '(Ctrl-Shift-Z)' },\n    { iconName: 'fas fa-plus', tooltipName: TOOL_NAME.NewDrawing, shortcut: '(Ctrl-O)' },\n    { iconName: 'far fa-save', tooltipName: TOOL_NAME.Save, shortcut: '(Ctrl-S)' },\n    { iconName: 'fas fa-folder-open', tooltipName: TOOL_NAME.ArtGallery, shortcut: '(Ctrl-G)' },\n    { iconName: 'fas fa-file-export', tooltipName: TOOL_NAME.Export, shortcut: '(Ctrl-E)' },\n];\n\nenum BRUSH_STYLE {\n    type1 = 1,\n    type2 = 2,\n    type3 = 3,\n    type4 = 4,\n    type5 = 5,\n}\n\nconst BRUSH_STYLES = [BRUSH_STYLE.type1, BRUSH_STYLE.type2, BRUSH_STYLE.type3, BRUSH_STYLE.type4, BRUSH_STYLE.type5];\n\nconst POLYGON_RADIUS_CORRECTION: Map<number, number> = new Map([\n    [3, 0.13],\n    [4, 0.33],\n    [5, 0.05],\n    [6, 0.025],\n    [7, 0.035],\n    [8, 0.08],\n    [9, 0.025],\n    [10, 0.015],\n    [11, 0.02],\n    [12, 0.04],\n]);\n\nconst POLYGON_OFFSET_ANGLES: Map<number, number> = new Map([\n    [3, 3 * (360 / 3 / 4) * (Math.PI / 180)],\n    [4, Math.PI / 4],\n    [5, (360 / 5 / 4) * (Math.PI / 180)],\n    [6, 0],\n    [7, 3 * (360 / 7 / 4) * (Math.PI / 180)],\n    [8, (360 / 8 / 2) * (Math.PI / 180)],\n    [9, (360 / 9 / 4) * (Math.PI / 180)],\n    [10, 0],\n    [11, 3 * (360 / 11 / 4) * (Math.PI / 180)],\n    [12, (360 / 12 / 2) * (Math.PI / 180)],\n]);\n\nenum STAMP_SCALING {\n    Min = 0.1,\n    Default = 1.0,\n    Max = 10.0,\n}\n\nenum ERASER_SIZE {\n    Min = 1,\n    Default = 50,\n    Max = 100,\n}\n\nconst ERASER_STROKE_WIDTH = '3';\nconst ADDITIONAL_BORDER_WIDTH = 5;\nconst RESET_POSITION_NUMBER = -1;\nconst DEFAULT_RADIX = 10;\n\nconst STAMP_TYPES = [\n    '',\n    '/assets/stamps/iconmonstr-smiley-14.svg',\n    '/assets/stamps/iconmonstr-cat-7.svg',\n    '/assets/stamps/iconmonstr-coin-3.svg',\n    '/assets/stamps/iconmonstr-home-8.svg',\n    '/assets/stamps/iconmonstr-glasses-12.svg',\n];\n\nconst STAMP_NAMES = ['Aucun', 'Smiley', 'Chat', 'Argent', 'Maison', 'Hipster'];\n\nconst STAMPS_MAP: Map<number, string> = new Map([\n    [0, NO_STAMP],\n    [1, '/assets/stamps/iconmonstr-smiley-14.svg'],\n    [2, '/assets/stamps/iconmonstr-cat-7.svg'],\n    [3, '/assets/stamps/iconmonstr-coin-3.svg'],\n    [4, '/assets/stamps/iconmonstr-home-8.svg'],\n    [5, '/assets/stamps/iconmonstr-glasses-12.svg'],\n]);\n\nconst BASE64_STAMPS_MAP: Map<string, string> = new Map();\nBASE64_STAMPS_MAP.set(\n    '/assets/stamps/iconmonstr-smiley-14.svg',\n    // tslint:disable-next-line: max-line-length\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIgMmM1LjUxNCAwIDEwIDQuNDg2IDEwIDEwcy00LjQ4NiAxMC0xMCAxMC0xMC00LjQ4Ni0xMC0xMCA0LjQ4Ni0xMCAxMC0xMHptMC0yYy02LjYyNyAwLTEyIDUuMzczLTEyIDEyczUuMzczIDEyIDEyIDEyIDEyLTUuMzczIDEyLTEyLTUuMzczLTEyLTEyLTEyem0tMy41IDhjLS44MjggMC0xLjUuNjcxLTEuNSAxLjVzLjY3MiAxLjUgMS41IDEuNSAxLjUtLjY3MSAxLjUtMS41LS42NzItMS41LTEuNS0xLjV6bTcgMGMtLjgyOCAwLTEuNS42NzEtMS41IDEuNXMuNjcyIDEuNSAxLjUgMS41IDEuNS0uNjcxIDEuNS0xLjUtLjY3Mi0xLjUtMS41LTEuNXptLTMuNDk5IDRjLTEuNjU4IDAtMy4wMDEgMS41NjctMy4wMDEgMy41MDEgMCAxLjkzMiAxLjM0MyAzLjQ5OSAzLjAwMSAzLjQ5OSAxLjY1NiAwIDIuOTk5LTEuNTY3IDIuOTk5LTMuNDk5IDAtMS45MzQtMS4zNDMtMy41MDEtMi45OTktMy41MDF6Ii8+PC9zdmc+',\n);\nBASE64_STAMPS_MAP.set(\n    '/assets/stamps/iconmonstr-cat-7.svg',\n    // tslint:disable-next-line: max-line-length\n    'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMS45NTQgMTFjMy4zMyAwIDcuMDU3IDYuMTIzIDcuNjMyIDguNzE2LjU3NSAyLjU5NC0uOTk2IDQuNzI5LTMuNDg0IDQuMTEyLTEuMDkyLS4yNzEtMy4yNTItMS4zMDctNC4xMDItMS4yOTEtLjkyNS4wMTYtMi4zNzkuODM2LTMuNTg3IDEuMjUyLTIuNjU3LjkxNi00LjcxNy0xLjI4My00LjAxLTQuMDczLjc3NC0zLjA1MSA0LjQ4LTguNzE2IDcuNTUxLTguNzE2em0xMC43OTMtNC4zOWMxLjE4OC41MzkgMS42MjkgMi44Mi44OTQgNS4yNy0uNzA0IDIuMzQxLTIuMzMgMy44MDYtNC41NTYgMi43OTYtMS45MzEtLjg3Ny0yLjE1OC0zLjE3OC0uODk0LTUuMjcgMS4yNzQtMi4xMDcgMy4zNjctMy4zMzYgNC41NTYtMi43OTZ6bS0yMS45NjguNzA2Yy0xLjA0NC43MjktMS4wNiAyLjk5Ni4wODIgNS4yMTUgMS4wOTIgMi4xMiAyLjkxMyAzLjIzNiA0Ljg2OCAxLjg3IDEuNjk2LTEuMTg1IDEuNTA0LTMuNDMzLS4wODItNS4yMTUtMS41OTYtMS43OTMtMy44MjQtMi41OTktNC44NjgtMS44N3ptMTUuNjQzLTcuMjkyYzEuMzIzLjI1MSAyLjMyMSAyLjQyOCAyLjE4MiA1LjA2Mi0uMTM0IDIuNTE3LTEuNDA1IDQuMzgyLTMuODgyIDMuOTEyLTIuMTQ5LS40MDctMi45MzgtMi42NTctMi4xODEtNS4wNjEuNzYxLTIuNDIxIDIuNTU5LTQuMTY0IDMuODgxLTMuOTEzem0tMTAuMjk1LjA1OGMtMS4yNjguNDUxLTEuOTIgMi43NTYtMS4zNzcgNS4zMzcuNTE5IDIuNDY3IDIuMDYyIDQuMTE0IDQuNDM3IDMuMjY5IDIuMDYtLjczMiAyLjQ5NC0zLjA3NyAxLjM3Ny01LjMzNi0xLjEyNS0yLjI3Ni0zLjE2OS0zLjcyMS00LjQzNy0zLjI3eiIvPjwvc3ZnPg==',\n);\nBASE64_STAMPS_MAP.set(\n    '/assets/stamps/iconmonstr-coin-3.svg',\n    // tslint:disable-next-line: max-line-length\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIgMmM1LjUxNCAwIDEwIDQuNDg2IDEwIDEwcy00LjQ4NiAxMC0xMCAxMC0xMC00LjQ4Ni0xMC0xMCA0LjQ4Ni0xMCAxMC0xMHptMC0yYy02LjYyNyAwLTEyIDUuMzczLTEyIDEyczUuMzczIDEyIDEyIDEyIDEyLTUuMzczIDEyLTEyLTUuMzczLTEyLTEyLTEyem0wIDNjLTQuOTcxIDAtOSA0LjAyOS05IDlzNC4wMjkgOSA5IDkgOS00LjAyOSA5LTktNC4wMjktOS05LTl6bTEgMTMuOTQ3djEuMDUzaC0xdi0uOTk4Yy0xLjAzNS0uMDE4LTIuMTA2LS4yNjUtMy0uNzI3bC40NTUtMS42NDRjLjk1Ni4zNzEgMi4yMjkuNzY1IDMuMjI1LjU0IDEuMTQ5LS4yNiAxLjM4NS0xLjQ0Mi4xMTQtMi4wMTEtLjkzMS0uNDM0LTMuNzc4LS44MDUtMy43NzgtMy4yNDMgMC0xLjM2MyAxLjAzOS0yLjU4MyAyLjk4NC0yLjg1di0xLjA2N2gxdjEuMDE4Yy43MjUuMDE5IDEuNTM1LjE0NSAyLjQ0Mi40MmwtLjM2MiAxLjY0OGMtLjc2OC0uMjctMS42MTYtLjUxNS0yLjQ0Mi0uNDY1LTEuNDg5LjA4Ny0xLjYyIDEuMzc2LS41ODEgMS45MTYgMS43MTEuODA0IDMuOTQzIDEuNDAxIDMuOTQzIDMuNTQ2LjAwMiAxLjcxOC0xLjM0NCAyLjYzMi0zIDIuODY0eiIvPjwvc3ZnPg==',\n);\nBASE64_STAMPS_MAP.set(\n    '/assets/stamps/iconmonstr-home-8.svg',\n    // tslint:disable-next-line: max-line-length\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjAgNy4wOTNsLTMtM3YtMi4wOTNoM3Y1LjA5M3ptNCA1LjkwN2gtM3YxMGgtMTh2LTEwaC0zbDEyLTEyIDEyIDEyem0tMTAgMmgtNHY2aDR2LTZ6Ii8+PC9zdmc+',\n);\nBASE64_STAMPS_MAP.set(\n    '/assets/stamps/iconmonstr-glasses-12.svg',\n    // tslint:disable-next-line: max-line-length\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTcuOTQ0IDVjLTEuMTM4IDAtMi4zNzYuMTI5LTMuMzk0LjQ5MS0yLjI4My44MjgtMi43OTIuODM4LTUuMTAzIDAtMS4wMTUtLjM2Mi0yLjI1Ni0uNDkxLTMuMzkyLS40OTEtMS45NzEgMC00LjE3LjM4Ny02LjA1NS44Nzh2MS43ODljLjg0Ny4yNTUgMS4wNjguNjI3IDEuMjAzIDEuNDkzLjM4MSAyLjQ0MyAxLjI1NSA0Ljg0IDUuMDY4IDQuODQgMy4wMzcgMCA0LjA1MS0yLjI1OSA0LjcyMi00LjM0NS4zNDEtMS4wNiAxLjY2My0xLjA4NyAyLjAwOS0uMDE1LjY3MyAyLjA4OSAxLjY4MiA0LjM2IDQuNzI1IDQuMzYgMy44MTQgMCA0LjY4OS0yLjM5NyA1LjA2OS00Ljg0MS4xMzUtLjg2Ni4zNTYtMS4yMzcgMS4yMDQtMS40OTJ2LTEuNzg5Yy0xLjg4Ny0uNDkxLTQuMDg1LS44NzgtNi4wNTYtLjg3OHptLTcuNjgyIDMuODE0Yy0uNTE4IDIuMTc0LTEuMzYgNC4xODYtMy45OTEgNC4xODYtMy4zMDEgMC0zLjk3NC0xLjkwMy00LjI3NS00Ljk3My0uMDcyLS43NDcuMDkyLTEuMDQuMjIxLTEuMTk1Ljk0Ny0xLjEzNCA1Ljk1Mi0xLjA4OCA3LjYxMS0uMDkyLjQ3NS4yODUuNzgzLjYwMS40MzQgMi4wNzR6bTExLjc0LS43ODdjLS4zMDEgMy4wNy0uOTc1IDQuOTczLTQuMjc1IDQuOTczLTIuNjI5IDAtMy40NzItMi4wMTItMy45ODktNC4xODYtLjM1MS0xLjQ3My0uMDQyLTEuNzg5LjQzNC0yLjA3NCAxLjY2NS0xIDYuNjY3LTEuMDM4IDcuNjExLjA5Mi4xMjkuMTU2LjI5My40NDkuMjE5IDEuMTk1em0tNC44MzgtMS4xMjFjMS41MzktLjIzNCAzLjMxOC0uMDMgMy43OTEuNTM3LjEwNC4xMjQuMjM0LjM1OC4xNzYuOTU2LS4wMzEuMzE2LS4wNjcuNjE2LS4xMTIuOS0uNDEtMS40ODctMS40NTctMi4yODMtMy44NTUtMi4zOTN6bS0xNC4xODQgMi4zOTNjLS4wNDUtLjI4NC0uMDgyLS41ODQtLjExMy0uOS0uMDU4LS41OTguMDczLS44MzIuMTc3LS45NTYuNDc0LS41NjcgMi4yNTMtLjc3MSAzLjc5Mi0uNTM3LTIuMzk4LjExLTMuNDQ1LjkwNi0zLjg1NiAyLjM5M3ptMTYuMDIgNy43NjRjLTEuMTUgMi44NjktNi4wMzEgMi4xNjYtNyAuMzY5LS45NyAxLjc5Ny01Ljg1IDIuNS03LS4zNjkuNTc4LjUwNiAxLjU2NS42NjkgMi4zMTguNTU5IDIuMjItLjMyNSAyLjA0Mi0yLjQyMyAzLjU5NC0yLjQyMy40MjUgMCAuODEuMTc3IDEuMDg4LjQ2NC4yNzgtLjI4Ny42NjItLjQ2NCAxLjA4Ny0uNDY0IDEuNTUyIDAgMS4zNzUgMi4wOTkgMy41OTQgMi40MjMuNzUzLjExIDEuNzQtLjA1MyAyLjMxOS0uNTU5eiIvPjwvc3ZnPg==',\n);\n\nenum LINE_STROKE_TYPE {\n    Continuous = 1,\n    Dotted_line = 2,\n    Dotted_circle = 3,\n}\n\nenum LINE_JOINT_TYPE {\n    Curvy = 1,\n    Straight = 2,\n    Circle = 3,\n}\n\nenum HTML_ATTRIBUTE {\n    width = 'width',\n    height = 'height',\n    fill = 'fill',\n    stroke = 'stroke',\n    opacity = 'opacity',\n    stroke_width = 'stroke-width',\n    cx = 'cx',\n    cy = 'cy',\n    rx = 'rx',\n    ry = 'ry',\n    numOctaves = 'numOctaves',\n    baseFrequency = 'baseFrequency',\n    filter = 'filter',\n    points = 'points',\n    stroke_dasharray = 'stroke-dasharray',\n    stroke_linejoin = 'stroke-linejoin',\n    stroke_linecap = 'stroke-linecap',\n    title = 'title',\n    canvas = 'canvas',\n    a = 'a',\n    img = 'img',\n    download = 'download',\n    href = 'href',\n    src = 'src',\n    viewBox = 'viewBox',\n    font_family = 'font-family',\n    font_size = 'font-size',\n    font_weight = 'font-weight',\n    font_style = 'font-style',\n    text_anchor = 'text-anchor',\n    innerHTML = 'innerHTML',\n}\n\nconst TOOL_NAME_SHORTCUTS: Map<string, TOOL_NAME> = new Map([\n    ['c', TOOL_NAME.Pencil],\n    ['w', TOOL_NAME.Brush],\n    ['p', TOOL_NAME.Quill],\n    ['y', TOOL_NAME.Pen],\n    ['a', TOOL_NAME.SprayCan],\n    ['1', TOOL_NAME.Rectangle],\n    ['2', TOOL_NAME.Ellipsis],\n    ['3', TOOL_NAME.Polygon],\n    ['l', TOOL_NAME.Line],\n    ['t', TOOL_NAME.Text],\n    ['r', TOOL_NAME.ColorApplicator],\n    ['b', TOOL_NAME.Fill],\n    ['e', TOOL_NAME.Eraser],\n    ['i', TOOL_NAME.Dropper],\n    ['s', TOOL_NAME.Selection],\n]);\n\nconst CONTROL_SHORTCUTS: Map<string, TOOL_NAME> = new Map([\n    ['o', TOOL_NAME.NewDrawing],\n    ['s', TOOL_NAME.Save],\n    ['g', TOOL_NAME.ArtGallery],\n    ['e', TOOL_NAME.Export],\n]);\n\nenum FILE_TYPE {\n    SVG = 'svg',\n    PNG = 'png',\n    BMP = 'bmp',\n    JPG = 'jpeg',\n}\n\nconst MAX_BMP_SIZE = 620;\n\nconst TRACING_TOOL_POSITION = 1;\nconst SHAPE_TOOL_POSITION = 2;\n\nconst FONTS: FontType[] = [\n    { fontName: 'Times', fontFamily: 'Times, serif' },\n    { fontName: 'Times New Roman', fontFamily: 'Times New Roman, serif' },\n    { fontName: 'Georgia', fontFamily: 'Georgia, serif' },\n\n    { fontName: 'Verdana', fontFamily: 'Verdana, sans-serif' },\n    { fontName: 'Arial', fontFamily: 'Arial, sans-serif' },\n    { fontName: 'Helvetica', fontFamily: 'Helvetica, sans-serif' },\n\n    { fontName: 'Lucida', fontFamily: 'Lucida, monospace' },\n    { fontName: 'Console', fontFamily: 'Console, monospace' },\n    { fontName: 'Courier', fontFamily: 'Courier, monospace' },\n];\n\nenum FONT_SIZE {\n    Min = 10,\n    Default = 15,\n    Max = 72,\n}\n\nconst TEXT_CURSOR = '█';\nconst TEXT_SPACE = '\\xa0';\nconst TEXT_LINEBREAK = '⠀';\nconst SNACKBAR_DURATION = 1000;\n\nenum FONT_ALIGN {\n    Middle = 'middle',\n    Start = 'start',\n    End = 'end',\n}\n\nenum FONT_STYLE {\n    Italic = 'italic',\n    Normal = 'normal',\n}\n\nenum FONT_WEIGHT {\n    Bold = 'bold',\n    Normal = 'normal',\n}\n\nenum CONTROL_POINTS {\n    TopLeft = 0,\n    TopMiddle = 1,\n    TopRight = 2,\n    CenterLeft = 7,\n    CenterMiddle = 8,\n    CenterRight = 3,\n    BottomLeft = 6,\n    BottomMiddle = 5,\n    BottomRight = 4,\n}\n\nconst TOP_CONTROL_POINTS: MagnetismPoint[] = [\n    { point: CONTROL_POINTS.TopLeft, img_src: '../../../assets/controlPoints/topleft.png' },\n    { point: CONTROL_POINTS.TopMiddle, img_src: '../../../assets/controlPoints/top.png' },\n    { point: CONTROL_POINTS.TopRight, img_src: '../../../assets/controlPoints/topright.png' },\n];\n\nconst CENTER_CONTROL_POINTS: MagnetismPoint[] = [\n    { point: CONTROL_POINTS.CenterLeft, img_src: '../../../assets/controlPoints/left.png' },\n    { point: CONTROL_POINTS.CenterMiddle, img_src: '../../../assets/controlPoints/center.png' },\n    { point: CONTROL_POINTS.CenterRight, img_src: '../../../assets/controlPoints/right.png' },\n];\n\nconst BOTTOM_CONTROL_POINTS: MagnetismPoint[] = [\n    { point: CONTROL_POINTS.BottomLeft, img_src: '../../../assets/controlPoints/bottomleft.png' },\n    { point: CONTROL_POINTS.BottomMiddle, img_src: '../../../assets/controlPoints/bottom.png' },\n    { point: CONTROL_POINTS.BottomRight, img_src: '../../../assets/controlPoints/bottomright.png' },\n];\n\nenum MAGNETISM_STATE {\n    active = 'maintenant activé',\n    inactive = 'désactivé',\n}\n\nconst MAX_NORMAL_LENGTH = 5;\nconst FILL_STROKE_WIDTH = '4';\n\nconst MAX_PERCENTAGE = 100;\nconst MAX_PATH_DISTANCE = 100;\n\nenum SPRAY_DIAMETER {\n    Min = 20,\n    Default = 30,\n    Max = 100,\n}\n\nenum SPRAY_INTERVAL {\n    Min = 0,\n    Default = 20,\n    Max = 1000,\n}\n\nenum SPRAY_PARTICLE_THICKNESS {\n    Min = 1,\n    Default = 2.5,\n    Max = 5,\n}\n\nconst SPRAYER_STROKE_WIDTH = '3';\n\nconst MAX_CHARS_IN_PATH = 10000;\n\nconst CIRCLES_TO_APPEND = 20;\n\nexport {\n    MAX_PERCENTAGE,\n    MAX_PATH_DISTANCE,\n    TOLERANCE,\n    FILL_STROKE_WIDTH,\n    MAX_NORMAL_LENGTH,\n    CONTROL_SHORTCUTS,\n    TOOL_NAME_SHORTCUTS,\n    HTML_ATTRIBUTE,\n    TOOLS_BUTTON_INFO,\n    TRACING_BUTTON_INFO,\n    SHAPE_BUTTON_INFO,\n    FILES_BUTTON_INFO,\n    BRUSH_STYLE,\n    BRUSH_STYLES,\n    CLIPBOARD_BUTTON_INFO,\n    THICKNESS,\n    TRACE_TYPE,\n    TOOL_NAME,\n    OFFSET_STEP,\n    POLYGONE_FORM_TYPE,\n    POLYGON_SIDES,\n    POLYGON_RADIUS_CORRECTION,\n    POLYGON_OFFSET_ANGLES,\n    STAMP_SCALING,\n    STAMP_TYPES,\n    STAMPS_MAP,\n    NO_STAMP,\n    BASE64_STAMPS_MAP,\n    STAMP_NAMES,\n    LINE_STROKE_TYPE,\n    LINE_JOINT_TYPE,\n    GRID_SIZE,\n    GRID_OPACITY,\n    GRID_SIZE_INCREMENT,\n    GRID_SIZE_DECREMENT,\n    FILE_TYPE,\n    PEN_WIDTH_FACTOR,\n    ERASER_SIZE,\n    TRACING_TOOL_POSITION,\n    FONTS,\n    FONT_SIZE,\n    FONT_ALIGN,\n    FONT_STYLE,\n    FONT_WEIGHT,\n    TEXT_CURSOR,\n    TEXT_SPACE,\n    TEXT_LINEBREAK,\n    ERASER_STROKE_WIDTH,\n    ADDITIONAL_BORDER_WIDTH,\n    RESET_POSITION_NUMBER,\n    DEFAULT_RADIX,\n    MAX_BMP_SIZE,\n    SHAPE_TOOL_POSITION,\n    SNACKBAR_DURATION,\n    STAMP_BASE_HEIGHT,\n    STAMP_BASE_WIDTH,\n    CONTROL_POINTS_AMOUNT,\n    CONTROL_POINT_RADIUS,\n    SELECTION_COLOR,\n    CONTROL_POINTS,\n    TOP_CONTROL_POINTS,\n    CENTER_CONTROL_POINTS,\n    BOTTOM_CONTROL_POINTS,\n    MAGNETISM_STATE,\n    ROTATION_ANGLE,\n    QUILL_STROKE_WIDTH,\n    SPRAY_DIAMETER,\n    SPRAY_INTERVAL,\n    SPRAYER_STROKE_WIDTH,\n    SPRAY_PARTICLE_THICKNESS,\n    MAX_CHARS_IN_PATH,\n    CIRCLES_TO_APPEND,\n};\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nimport { IEnvironment } from './IEnvironment';\n\nexport const environment: IEnvironment = {\n    production: false,\n    BASE_URL: 'http://localhost:3000',\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport 'hammerjs';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n    enableProdMode();\n}\n\nplatformBrowserDynamic()\n    .bootstrapModule(AppModule)\n    .catch((err) => console.error(err));\n"],"sourceRoot":""}